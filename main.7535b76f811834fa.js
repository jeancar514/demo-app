"use strict";(self.webpackChunkappDemo=self.webpackChunkappDemo||[]).push([[179],{4425:(Je,he,F)=>{var A=F(1481),k=F(4650),K=F(8869);const re=[{path:"",loadComponent:()=>Promise.all([F.e(395),F.e(889)]).then(F.bind(F,7889)),title:"App - Perfil"},{path:"perfil",loadComponent:()=>Promise.all([F.e(395),F.e(889)]).then(F.bind(F,7889)),title:"App - Perfil"},{path:"redes",loadComponent:()=>Promise.all([F.e(395),F.e(131)]).then(F.bind(F,4131)),title:"App - Redes"},{path:"information",loadComponent:()=>Promise.all([F.e(395),F.e(363)]).then(F.bind(F,2363)),title:"App - Informacion"},{path:"team",loadComponent:()=>Promise.all([F.e(395),F.e(172)]).then(F.bind(F,7172)),title:"App - Team"},{path:"foro",loadComponent:()=>Promise.all([F.e(395),F.e(859),F.e(645)]).then(F.bind(F,3645)),title:"App - Foro"},{path:"comunity",loadComponent:()=>Promise.all([F.e(395),F.e(859),F.e(814)]).then(F.bind(F,7814)),title:"App - Comunity"},{path:"novedades",loadComponent:()=>Promise.all([F.e(395),F.e(859),F.e(357)]).then(F.bind(F,357)),title:"App - Novedades"},{path:"foro-chat-1",loadComponent:()=>Promise.all([F.e(395),F.e(859),F.e(951)]).then(F.bind(F,4951)),title:"App - foro-chat-1"},{path:"foro-chat-2",loadComponent:()=>Promise.all([F.e(395),F.e(859),F.e(416)]).then(F.bind(F,9416)),title:"App - foro-chat-2"}];let ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({imports:[K.Bz.forRoot(re),K.Bz]}),n})(),ie=(()=>{class n{constructor(){this.title="appDemo"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&k._UZ(0,"router-outlet")},dependencies:[K.lC]}),n})();var Z=F(7340);function pe(n){return new k.vHH(3e3,!1)}function nr(){return typeof window<"u"&&typeof window.document<"u"}function Lr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vn(n){switch(n.length){case 0:return new Z.ZN;case 1:return n[0];default:return new Z.ZE(n)}}function ki(n,e,t,r,i=new Map,o=new Map){const l=[],d=[];let f=-1,g=null;if(r.forEach(w=>{const b=w.get("offset"),P=b==f,U=P&&g||new Map;w.forEach((j,Y)=>{let oe=Y,Ae=j;if("offset"!==Y)switch(oe=e.normalizePropertyName(oe,l),Ae){case Z.k1:Ae=i.get(Y);break;case Z.l3:Ae=o.get(Y);break;default:Ae=e.normalizeStyleValue(Y,oe,Ae,l)}U.set(oe,Ae)}),P||d.push(U),g=U,f=b}),l.length)throw function fe(n){return new k.vHH(3502,!1)}();return d}function Bs(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&rr(t,"start",n)));break;case"done":n.onDone(()=>r(t&&rr(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&rr(t,"destroy",n)))}}function rr(n,e,t){const o=is(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(o._data=l),o}function is(n,e,t,r,i="",o=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function _r(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function ir(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ct=(n,e)=>!1,En=(n,e,t)=>[],Ei=null;function Gn(n){const e=n.parentNode||n.host;return e===Ei?null:e}(Lr()||typeof Element<"u")&&(nr()?(Ei=(()=>document.documentElement)(),ct=(n,e)=>{for(;e;){if(e===n)return!0;e=Gn(e)}return!1}):ct=(n,e)=>n.contains(e),En=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let rn=null,Dn=!1;const Oi=ct,Mn=En;let gt=(()=>{class n{validateStyleProperty(t){return function ht(n){rn||(rn=function Ts(){return typeof document<"u"?document.body:null}()||{},Dn=!!rn.style&&"WebkitAppearance"in rn.style);let e=!0;return rn.style&&!function go(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in rn.style,!e&&Dn&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in rn.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Oi(t,r)}getParentElement(t){return Gn(t)}query(t,r,i){return Mn(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,l,d=[],f){return new Z.ZN(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n{}return n.NOOP=new gt,n})();const bn=1e3,Ds="ng-enter",Zt="ng-leave",mo="ng-trigger",ni=".ng-trigger",wi="ng-animating",bs=".ng-animating";function Bn(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Vs(parseFloat(e[1]),e[2])}function Vs(n,e){return"s"===e?n*bn:n}function ss(n,e,t){return n.hasOwnProperty("duration")?n:function Ho(n,e,t){let i,o=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(pe()),{duration:0,delay:0,easing:""};i=Vs(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(o=Vs(parseFloat(f),d[4]));const g=d[5];g&&(l=g)}else i=n;if(!t){let d=!1,f=e.length;i<0&&(e.push(function we(){return new k.vHH(3100,!1)}()),d=!0),o<0&&(e.push(function ce(){return new k.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,pe())}return{duration:i,delay:o,easing:l}}(n,e,t)}function yr(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Dr(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Nt(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function X(n,e,t){return t?e+":"+t+";":""}function W(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=X(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=X(0,Pl(t),n.style[t]));n.setAttribute("style",e)}function B(n,e,t){n.style&&(e.forEach((r,i)=>{const o=Ra(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),Lr()&&W(n))}function Q(n,e){n.style&&(e.forEach((t,r)=>{const i=Ra(r);n.style[i]=""}),Lr()&&W(n))}function me(n){return Array.isArray(n)?1==n.length?n[0]:(0,Z.vP)(n):n}const Dt=new RegExp("{{\\s*(.+?)\\s*}}","g");function an(n){let e=[];if("string"==typeof n){let t;for(;t=Dt.exec(n);)e.push(t[1]);Dt.lastIndex=0}return e}function Sn(n,e,t){const r=n.toString(),i=r.replace(Dt,(o,l)=>{let d=e[l];return null==d&&(t.push(function Qe(n){return new k.vHH(3003,!1)}()),d=""),d.toString()});return i==r?n:i}function qr(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ss=/-+([a-z0-9])/g;function Ra(n){return n.replace(Ss,(...e)=>e[1].toUpperCase())}function Pl(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function be(n){return new k.vHH(3004,!1)}()}}function Ut(n,e){return window.getComputedStyle(n)[e]}const Sr="*";function qe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Ct(n,e,t){if(":"==n[0]){const f=function un(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function pt(n){return new k.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Yt(n){return new k.vHH(3015,!1)}()),e;const i=r[1],o=r[2],l=r[3];e.push(sr(i,l));"<"==o[0]&&!(i==Sr&&l==Sr)&&e.push(sr(l,i))}(r,t,e)):t.push(n),t}const Ar=new Set(["true","1"]),Kr=new Set(["false","0"]);function sr(n,e){const t=Ar.has(n)||Kr.has(n),r=Ar.has(e)||Kr.has(e);return(i,o)=>{let l=n==Sr||n==i,d=e==Sr||e==o;return!l&&t&&"boolean"==typeof i&&(l=i?Ar.has(n):Kr.has(n)),!d&&r&&"boolean"==typeof o&&(d=o?Ar.has(e):Kr.has(e)),l&&d}}const wn=new RegExp("s*:selfs*,?","g");function Fi(n,e,t,r){return new St(n).build(e,t,r)}class St{constructor(e){this._driver=e}build(e,t,r){const i=new js(t);return this._resetContextStyleTimingState(i),Wn(this,me(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function at(){return new k.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(w=>{f.name=w,o.push(this.visitState(f,t))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,t);r+=f.queryCount,i+=f.depCount,l.push(f)}else t.errors.push(function Te(){return new k.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{an(f).forEach(g=>{l.hasOwnProperty(g)||o.add(g)})})}),o.size&&(qr(o.values()),t.errors.push(function mt(n,e){return new k.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wn(this,me(e.animation),t);return{type:1,matchers:qe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Bi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wn(this,r,t)),options:Bi(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(l=>{t.currentTime=r;const d=Wn(this,l,t);return i=Math.max(i,t.currentTime),d});return t.currentTime=i,{type:3,steps:o,options:Bi(e.options)}}visitAnimate(e,t){const r=function vr(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return us(ss(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=us(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=ss(t,e);return us(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:(0,Z.oB)({});if(5==o.type)i=this.visitKeyframes(o,t);else{let l=e.styles,d=!1;if(!l){d=!0;const g={};r.easing&&(g.easing=r.easing),l=(0,Z.oB)(g)}t.currentTime+=r.duration+r.delay;const f=this.visitStyle(l,t);f.isEmptyStep=d,i=f}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of i)"string"==typeof d?d===Z.l3?r.push(d):t.errors.push(new k.vHH(3002,!1)):r.push(Dr(d));let o=!1,l=null;return r.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!o))for(let f of d.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,f)=>{const g=t.collectedStyles.get(t.currentQuerySelector),w=g.get(f);let b=!0;w&&(o!=i&&o>=w.startTime&&i<=w.endTime&&(t.errors.push(function Ie(n,e,t,r,i){return new k.vHH(3010,!1)}()),b=!1),o=w.startTime),b&&g.set(f,{startTime:o,endTime:i}),t.options&&function ze(n,e,t){const r=e.params||{},i=an(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function ae(n){return new k.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function G(){return new k.vHH(3011,!1)}()),r;let o=0;const l=[];let d=!1,f=!1,g=0;const w=e.steps.map(Ae=>{const je=this._makeStyleAst(Ae,t);let ke=null!=je.offset?je.offset:function As(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(je.styles),_t=0;return null!=ke&&(o++,_t=je.offset=ke),f=f||_t<0||_t>1,d=d||_t<g,g=_t,l.push(_t),je});f&&t.errors.push(function Ee(){return new k.vHH(3012,!1)}()),d&&t.errors.push(function Pe(){return new k.vHH(3200,!1)}());const b=e.steps.length;let P=0;o>0&&o<b?t.errors.push(function ut(){return new k.vHH(3202,!1)}()):0==o&&(P=1/(b-1));const U=b-1,j=t.currentTime,Y=t.currentAnimateTimings,oe=Y.duration;return w.forEach((Ae,je)=>{const ke=P>0?je==U?1:P*je:l[je],_t=ke*oe;t.currentTime=j+Y.delay+_t,Y.duration=_t,this._validateStyleAst(Ae,t),Ae.offset=ke,r.styles.push(Ae)}),r}visitReference(e,t){return{type:8,animation:Wn(this,me(e.animation),t),options:Bi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Bi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Bi(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,l]=function Li(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wn,"")),n=n.replace(/@\*/g,ni).replace(/@\w+/g,t=>ni+"-"+t.slice(1)).replace(/:animating/g,bs),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,_r(t.collectedStyles,t.currentQuerySelector,new Map);const d=Wn(this,me(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:Bi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function nt(){return new k.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ss(e.timings,t.errors,!0);return{type:12,animation:Wn(this,me(e.animation),t),timings:r,options:null}}}class js{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bi(n){return n?(n=yr(n)).params&&(n.params=function Ui(n){return n?yr(n):null}(n.params)):n={},n}function us(n,e,t){return{duration:n,delay:e,easing:t}}function Ti(n,e,t,r,i,o,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:d}}class Hs{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Vi=new RegExp(":enter","g"),Nl=new RegExp(":leave","g");function _o(n,e,t,r,i,o=new Map,l=new Map,d,f,g=[]){return(new zo).buildKeyframes(n,e,t,r,i,o,l,d,f,g)}class zo{buildKeyframes(e,t,r,i,o,l,d,f,g,w=[]){g=g||new Hs;const b=new or(e,t,g,i,o,w,[]);b.options=f;const P=f.delay?Bn(f.delay):0;b.currentTimeline.delayNextStep(P),b.currentTimeline.setStyles([l],null,b.errors,f),Wn(this,r,b);const U=b.timelines.filter(j=>j.containsAnimation());if(U.length&&d.size){let j;for(let Y=U.length-1;Y>=0;Y--){const oe=U[Y];if(oe.element===t){j=oe;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([d],null,b.errors,f)}return U.length?U.map(j=>j.buildKeyframes()):[Ti(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const l="number"==typeof o?o:Bn(Sn(o,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const l=null!=r.duration?Bn(r.duration):null,d=null!=r.delay?Bn(r.delay):null;return 0!==l&&e.forEach(f=>{const g=t.appendInstructionToTimeline(f,l,d);o=Math.max(o,g.duration+g.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Wn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ls);const l=Bn(o.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Wn(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Bn(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);o&&d.delayNextStep(o),Wn(this,l,d),i=Math.max(i,d.currentTimeline.currentTime),r.push(d.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ss(t.params?Sn(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,d=t.createSubContext().currentTimeline;d.easing=r.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*o),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Bn(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ls);let l=r;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((g,w)=>{t.currentQueryIndex=w;const b=t.createSubContext(e.options,g);o&&b.delayNextStep(o),g===t.element&&(f=b.currentTimeline),Wn(this,e.animation,b),b.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,b.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,l=Math.abs(o.duration),d=l*(t.currentQueryTotal-1);let f=l*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=d-f;break;case"full":f=r.currentStaggerTime}const w=t.currentTimeline;f&&w.delayNextStep(f);const b=w.currentTime;Wn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-b+(i.startTime-r.currentTimeline.startTime)}}const ls={};class or{constructor(e,t,r,i,o,l,d,f){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ls,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Du(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Bn(r.duration)),null!=r.delay&&(i.delay=Bn(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=Sn(o[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new or(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ls,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Qr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,l){let d=[];if(i&&d.push(this.element),e.length>0){e=(e=e.replace(Vi,"."+this._enterClassName)).replace(Nl,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),d.push(...g)}return!o&&0==d.length&&l.push(function ft(n){return new k.vHH(3014,!1)}()),d}}class Du{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Du(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Z.l3),this._currentKeyframe.set(t,Z.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},l=function xa(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Z.l3)}else Nt(i,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of l){const g=Sn(f,o,r);this._pendingStyles.set(d,g),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Z.l3),this._updateStyle(d,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((d,f)=>{const g=Nt(d,new Map,this._backFill);g.forEach((w,b)=>{w===Z.k1?e.add(b):w===Z.l3&&t.add(b)}),r||g.set("offset",f/this.duration),i.push(g)});const o=e.size?qr(e.values()):[],l=t.size?qr(t.values()):[];if(r){const d=i[0],f=new Map(d);d.set("offset",0),f.set("offset",1),i=[d,f]}return Ti(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class Qr extends Du{constructor(e,t,r,i,o,l,d=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],l=r+t,d=t/l,f=Nt(e[0]);f.set("offset",0),o.push(f);const g=Nt(e[0]);g.set("offset",ri(d)),o.push(g);const w=e.length-1;for(let b=1;b<=w;b++){let P=Nt(e[b]);const U=P.get("offset");P.set("offset",ri((t+U*r)/l)),o.push(P)}r=l,t=0,i="",e=o}return Ti(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function ri(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Rs{}const vo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wd extends Rs{normalizePropertyName(e,t){return Ra(e)}normalizeStyleValue(e,t,r,i){let o="";const l=r.toString().trim();if(vo.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const d=r.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&i.push(function Le(n,e){return new k.vHH(3005,!1)}())}return l+o}}function bu(n,e,t,r,i,o,l,d,f,g,w,b,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:l,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:w,totalTime:b,errors:P}}const Su={};class Eo{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Id(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,l,d,f,g,w){const b=[],P=this.ast.options&&this.ast.options.params||Su,j=this.buildStyles(r,d&&d.params||Su,b),Y=f&&f.params||Su,oe=this.buildStyles(i,Y,b),Ae=new Set,je=new Map,ke=new Map,_t="void"===i,Qt={params:Au(Y,P),delay:this.ast.options?.delay},Pt=w?[]:_o(e,t,this.ast.animation,o,l,j,oe,Qt,g,b);let Xt=0;if(Pt.forEach(Ni=>{Xt=Math.max(Ni.duration+Ni.delay,Xt)}),b.length)return bu(t,this._triggerName,r,i,_t,j,oe,[],[],je,ke,Xt,b);Pt.forEach(Ni=>{const Aa=Ni.element,K$=_r(je,Aa,new Set);Ni.preStyleProps.forEach(Hf=>K$.add(Hf));const eI=_r(ke,Aa,new Set);Ni.postStyleProps.forEach(Hf=>eI.add(Hf)),Aa!==t&&Ae.add(Aa)});const Ln=qr(Ae.values());return bu(t,this._triggerName,r,i,_t,j,oe,Pt,Ln,je,ke,Xt)}}function Au(n,e){const t=yr(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Td{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=yr(this.defaultParams);return Object.keys(e).forEach(o=>{const l=e[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,d)=>{l&&(l=Sn(l,i,t));const f=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,f,l,t),r.set(d,l)})}),r}}class Ru{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Td(i.style,i.options&&i.options.params||{},r))}),Ol(this.states,"true","1"),Ol(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Eo(e,i,this.states))}),this.fallbackTransition=function Pa(n,e,t){return new Eo(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Ol(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Lm=new Hs;class Na{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],o=Fi(this._driver,t,r,i);if(r.length)throw function ge(n){return new k.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=ki(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let l;const d=new Map;if(o?(l=_o(this._driver,t,o,Ds,Zt,new Map,new Map,r,Lm,i),l.forEach(w=>{const b=_r(d,w.element,new Map);w.postStyleProps.forEach(P=>b.set(P,null))})):(i.push(function Ce(){return new k.vHH(3300,!1)}()),l=[]),i.length)throw function Fe(n){return new k.vHH(3504,!1)}();d.forEach((w,b)=>{w.forEach((P,U)=>{w.set(U,this._driver.computeStyle(b,U,Z.l3))})});const g=vn(l.map(w=>{const b=d.get(w.element);return this._buildPlayer(w,new Map,b)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function xe(n){return new k.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=is(t,"","","");return Bs(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Fl="ng-animate-queued",wo="ng-animate-disabled",zs=[],bd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Io={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class Go{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function $i(n){return n??null}(r?e.value:e),r){const o=yr(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const To="void",ka=new Go(To);class Mu{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,en(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Ze(n,e){return new k.vHH(3302,!1)}();if(null==r||0==r.length)throw function et(n){return new k.vHH(3303,!1)}();if(!function Fa(n){return"start"==n||"done"==n}(r))throw function Un(n,e){return new k.vHH(3400,!1)}();const o=_r(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};o.push(l);const d=_r(this._engine.statesByElement,e,new Map);return d.has(t)||(en(e,mo),en(e,mo+"-"+t),d.set(t,ka)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(l);f>=0&&o.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function yt(n){return new k.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),l=new xu(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(en(e,mo),en(e,mo+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const g=new Go(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(t,g),f||(f=ka),g.value!==To&&f.value===g.value){if(!function Sd(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(f.params,g.params)){const Y=[],oe=o.matchStyles(f.value,f.params,Y),Ae=o.matchStyles(g.value,g.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Q(e,oe),B(e,Ae)})}return}const P=_r(this._engine.playersByElement,e,[]);P.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let U=o.matchTransition(f.value,g.value,e,g.params),j=!1;if(!U){if(!i)return;U=o.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:f,toState:g,player:l,isFallbackTransition:j}),j||(en(e,Fl),l.onStart(()=>{ar(e,Fl)})),l.onDone(()=>{let Y=this.players.indexOf(l);Y>=0&&this.players.splice(Y,1);const oe=this._engine.playersByElement.get(e);if(oe){let Ae=oe.indexOf(l);Ae>=0&&oe.splice(Ae,1)}}),this.players.push(l),P.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ni,!0);r.forEach(i=>{if(i[Er])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),l=new Map;if(o){const d=[];if(o.forEach((f,g)=>{if(l.set(g,f.value),this._triggers.has(g)){const w=this.trigger(e,g,To,i);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&vn(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const f=this._triggers.get(l).fallbackTransition,g=r.get(l)||ka,w=new Go(To),b=new xu(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:f,fromState:g,toState:w,player:b,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Er];(!o||o===bd)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){en(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(d=>{if(d.name==r.triggerName){const f=is(o,r.triggerName,r.fromState.value,r.toState.value);f._data=e,Bs(r.player,d.phase,f,d.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ul{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Mu(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const f=i.get(d);if(f){const g=r.indexOf(f);r.splice(g+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Oa(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Oa(t))return;const o=t[Er];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),en(e,wo)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ar(e,wo))}removeNode(e,t,r,i){if(Oa(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Er]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Oa(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ni,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bs,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vn(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Er];if(t&&t.setForRemoval){if(e[Er]=bd,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(wo)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)en(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?vn(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Jt(n){return new k.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Hs,i=[],o=new Map,l=[],d=new Map,f=new Map,g=new Map,w=new Set;this.disabledNodes.forEach(ot=>{w.add(ot);const It=this.driver.query(ot,".ng-animate-queued",!0);for(let bt=0;bt<It.length;bt++)w.add(It[bt])});const b=this.bodyNode,P=Array.from(this.statesByElement.keys()),U=qo(P,this.collectedEnterElements),j=new Map;let Y=0;U.forEach((ot,It)=>{const bt=Ds+Y++;j.set(It,bt),ot.forEach(ln=>en(ln,bt))});const oe=[],Ae=new Set,je=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const It=this.collectedLeaveElements[ot],bt=It[Er];bt&&bt.setForRemoval&&(oe.push(It),Ae.add(It),bt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(ln=>Ae.add(ln)):je.add(It))}const ke=new Map,_t=qo(P,Array.from(Ae));_t.forEach((ot,It)=>{const bt=Zt+Y++;ke.set(It,bt),ot.forEach(ln=>en(ln,bt))}),e.push(()=>{U.forEach((ot,It)=>{const bt=j.get(It);ot.forEach(ln=>ar(ln,bt))}),_t.forEach((ot,It)=>{const bt=ke.get(It);ot.forEach(ln=>ar(ln,bt))}),oe.forEach(ot=>{this.processLeaveNode(ot)})});const Qt=[],Pt=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(bt=>{const ln=bt.player,vi=bt.element;if(Qt.push(ln),this.collectedEnterElements.length){const rs=vi[Er];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(bt.triggerName)){const zf=rs.previousTriggersValues.get(bt.triggerName),jo=this.statesByElement.get(bt.element);if(jo&&jo.has(bt.triggerName)){const Vb=jo.get(bt.triggerName);Vb.value=zf,jo.set(bt.triggerName,Vb)}}return void ln.destroy()}}const Eu=!b||!this.driver.containsElement(b,vi),po=ke.get(vi),vd=j.get(vi),mr=this._buildInstruction(bt,r,vd,po,Eu);if(mr.errors&&mr.errors.length)return void Pt.push(mr);if(Eu)return ln.onStart(()=>Q(vi,mr.fromStyles)),ln.onDestroy(()=>B(vi,mr.toStyles)),void i.push(ln);if(bt.isFallbackTransition)return ln.onStart(()=>Q(vi,mr.fromStyles)),ln.onDestroy(()=>B(vi,mr.toStyles)),void i.push(ln);const X$=[];mr.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||X$.push(rs)}),mr.timelines=X$,r.append(vi,mr.timelines),l.push({instruction:mr,player:ln,element:vi}),mr.queriedElements.forEach(rs=>_r(d,rs,[]).push(ln)),mr.preStyleProps.forEach((rs,zf)=>{if(rs.size){let jo=f.get(zf);jo||f.set(zf,jo=new Set),rs.forEach((Vb,qk)=>jo.add(qk))}}),mr.postStyleProps.forEach((rs,zf)=>{let jo=g.get(zf);jo||g.set(zf,jo=new Set),rs.forEach((Vb,qk)=>jo.add(qk))})});if(Pt.length){const ot=[];Pt.forEach(It=>{ot.push(function dn(n,e){return new k.vHH(3505,!1)}())}),Qt.forEach(It=>It.destroy()),this.reportError(ot)}const Xt=new Map,Ln=new Map;l.forEach(ot=>{const It=ot.element;r.has(It)&&(Ln.set(It,It),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Xt))}),i.forEach(ot=>{const It=ot.element;this._getPreviousPlayers(It,!1,ot.namespaceId,ot.triggerName,null).forEach(ln=>{_r(Xt,It,[]).push(ln),ln.destroy()})});const Ni=oe.filter(ot=>Co(ot,f,g)),Aa=new Map;Wo(Aa,this.driver,je,g,Z.l3).forEach(ot=>{Co(ot,f,g)&&Ni.push(ot)});const eI=new Map;U.forEach((ot,It)=>{Wo(eI,this.driver,new Set(ot),f,Z.k1)}),Ni.forEach(ot=>{const It=Aa.get(ot),bt=eI.get(ot);Aa.set(ot,new Map([...Array.from(It?.entries()??[]),...Array.from(bt?.entries()??[])]))});const Hf=[],Q$=[],Y$={};l.forEach(ot=>{const{element:It,player:bt,instruction:ln}=ot;if(r.has(It)){if(w.has(It))return bt.onDestroy(()=>B(It,ln.toStyles)),bt.disabled=!0,bt.overrideTotalTime(ln.totalTime),void i.push(bt);let vi=Y$;if(Ln.size>1){let po=It;const vd=[];for(;po=po.parentNode;){const mr=Ln.get(po);if(mr){vi=mr;break}vd.push(po)}vd.forEach(mr=>Ln.set(mr,vi))}const Eu=this._buildAnimation(bt.namespaceId,ln,Xt,o,eI,Aa);if(bt.setRealPlayer(Eu),vi===Y$)Hf.push(bt);else{const po=this.playersByElement.get(vi);po&&po.length&&(bt.parentPlayer=vn(po)),i.push(bt)}}else Q(It,ln.fromStyles),bt.onDestroy(()=>B(It,ln.toStyles)),Q$.push(bt),w.has(It)&&i.push(bt)}),Q$.forEach(ot=>{const It=o.get(ot.element);if(It&&It.length){const bt=vn(It);ot.setRealPlayer(bt)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<oe.length;ot++){const It=oe[ot],bt=It[Er];if(ar(It,Zt),bt&&bt.hasAnimation)continue;let ln=[];if(d.size){let Eu=d.get(It);Eu&&Eu.length&&ln.push(...Eu);let po=this.driver.query(It,bs,!0);for(let vd=0;vd<po.length;vd++){let mr=d.get(po[vd]);mr&&mr.length&&ln.push(...mr)}}const vi=ln.filter(Eu=>!Eu.destroyed);vi.length?Pu(this,It,vi):this.processLeaveNode(It)}return oe.length=0,Hf.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const It=this.players.indexOf(ot);this.players.splice(It,1)}),ot.play()}),Hf}elementContainsData(e,t){let r=!1;const i=t[Er];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const f=!o||o==To;d.forEach(g=>{g.queued||!f&&g.triggerName!=i||l.push(g)})}}return(r||i)&&(l=l.filter(d=>!(r&&r!=d.namespaceId||i&&i!=d.triggerName))),l}_beforeAnimationBuild(e,t,r){const o=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const g=f.element,w=g!==o,b=_r(r,g,[]);this._getPreviousPlayers(g,w,l,d,t.toState).forEach(U=>{const j=U.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),U.destroy(),b.push(U)})}Q(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,l){const d=t.triggerName,f=t.element,g=[],w=new Set,b=new Set,P=t.timelines.map(j=>{const Y=j.element;w.add(Y);const oe=Y[Er];if(oe&&oe.removedBeforeQueried)return new Z.ZN(j.duration,j.delay);const Ae=Y!==f,je=function cs(n){const e=[];return Mr(n,e),e}((r.get(Y)||zs).map(Xt=>Xt.getRealPlayer())).filter(Xt=>!!Xt.element&&Xt.element===Y),ke=o.get(Y),_t=l.get(Y),Qt=ki(0,this._normalizer,0,j.keyframes,ke,_t),Pt=this._buildPlayer(j,Qt,je);if(j.subTimeline&&i&&b.add(Y),Ae){const Xt=new xu(e,d,Y);Xt.setRealPlayer(Pt),g.push(Xt)}return Pt});g.forEach(j=>{_r(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function Bl(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),w.forEach(j=>en(j,wi));const U=vn(P);return U.onDestroy(()=>{w.forEach(j=>ar(j,wi)),B(f,t.toStyles)}),b.forEach(j=>{_r(i,j,[]).push(U)}),U}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Z.ZN(e.duration,e.delay)}}class xu{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Z.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Bs(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_r(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Oa(n){return n&&1===n.nodeType}function Kn(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Wo(n,e,t,r,i){const o=[];t.forEach(f=>o.push(Kn(f)));const l=[];r.forEach((f,g)=>{const w=new Map;f.forEach(b=>{const P=e.computeStyle(g,b,i);w.set(b,P),(!P||0==P.length)&&(g[Er]=Io,l.push(g))}),n.set(g,w)});let d=0;return t.forEach(f=>Kn(f,o[d++])),l}function qo(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=1,i=new Set(e),o=new Map;function l(d){if(!d)return r;let f=o.get(d);if(f)return f;const g=d.parentNode;return f=t.has(g)?g:i.has(g)?r:l(g),o.set(d,f),f}return e.forEach(d=>{const f=l(d);f!==r&&t.get(f).push(d)}),t}function en(n,e){n.classList?.add(e)}function ar(n,e){n.classList?.remove(e)}function Pu(n,e,t){vn(t).onDone(()=>n.processLeaveNode(e))}function Mr(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Z.ZE?Mr(r.players,e):e.push(r)}}function Co(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Gs{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Ul(e,t,r),this._timelineEngine=new Na(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const l=e+"-"+i;let d=this._triggerCache[l];if(!d){const f=[],g=[],w=Fi(this._driver,o,f,g);if(f.length)throw function le(n,e){return new k.vHH(3404,!1)}();d=function kl(n,e,t){return new Ru(n,e,t)}(i,w,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,i,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,l]=ir(r);this._timelineEngine.command(o,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[l,d]=ir(r);return this._timelineEngine.listen(l,t,d,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vl=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&B(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(B(this._element,this._initialStyles),this._endStyles&&(B(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Q(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Q(this._element,this._endStyles),this._endStyles=null),B(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ji(n){let e=null;return n.forEach((t,r)=>{(function wt(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Nu{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Ut(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Um{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Oi(e,t)}getParentElement(e){return Gn(e)}query(e,t,r){return Mn(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,l=[]){const f={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(f.easing=o);const g=new Map,w=l.filter(U=>U instanceof Nu);(function Iu(n,e){return 0===n||0===e})(r,i)&&w.forEach(U=>{U.currentSnapshot.forEach((j,Y)=>g.set(Y,j))});let b=function Ii(n){return n.length?n[0]instanceof Map?n:n.map(e=>Dr(e)):[]}(t).map(U=>Nt(U));b=function Ma(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<e.length;o++){let l=e[o];i.forEach(d=>l.set(d,Ut(n,d)))}}return e}(e,b,g);const P=function Ws(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ji(e[0]),e.length>1&&(r=ji(e[e.length-1]))):e instanceof Map&&(t=ji(e)),t||r?new Vl(n,t,r):null}(e,b);return new Nu(e,b,f,P)}}var Do=F(6895);let Ko=(()=>{class n extends Z._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?(0,Z.vP)(t):t;return Rd(this._renderer,null,r,"register",[i]),new Ad(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.FYo),k.LFG(Do.K0))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class Ad extends Z.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $l(this._id,e,t||{},this._renderer)}}class $l{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Rd(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Rd(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const de="@.disabled";let Ht=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,l)=>{const d=l?.parentNode(o);d&&l.removeChild(d,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let w=this._rendererCache.get(o);return w||(w=new Md("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const l=r.id,d=r.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=w=>{Array.isArray(w)?w.forEach(f):this.engine.registerTrigger(l,d,t,w.name,w)};return r.data.animation.forEach(f),new xd(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,d]=o;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.FYo),k.LFG(Gs),k.LFG(k.R0b))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class Md{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==de?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xd extends Md{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==de?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Qn(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function Ua(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,r,d)})}return this.delegate.listen(e,t,r)}}let ds=(()=>{class n extends Gs{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(Do.K0),k.LFG(Cs),k.LFG(Rs),k.LFG(k.z2F))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();const ku=[{provide:Z._j,useClass:Ko},{provide:Rs,useFactory:function Hi(){return new wd}},{provide:Gs,useClass:ds},{provide:k.FYo,useFactory:function jl(n,e,t){return new Ht(n,e,t)},deps:[A.se,Gs,k.R0b]}],Hl=[{provide:Cs,useFactory:()=>new Um},{provide:k.QbO,useValue:"BrowserAnimations"},...ku],zl=[{provide:Cs,useClass:gt},{provide:k.QbO,useValue:"NoopAnimations"},...ku];let Gl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?zl:Hl}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:Hl,imports:[A.b2]}),n})();function qs(n,e,t,r,i,o,l){try{var d=n[o](l),f=d.value}catch(g){return void t(g)}d.done?e(f):Promise.resolve(f).then(r,i)}function z(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function l(f){qs(o,r,i,l,d,"next",f)}function d(f){qs(o,r,i,l,d,"throw",f)}l(void 0)})}}const bo={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ne=function(n,e){if(!n)throw Ks(e)},Ks=function(n){return new Error("Firebase Database ("+bo.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},Ba=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Qs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,d=l?n[i+1]:0,f=i+2<n.length,g=f?n[i+2]:0;let P=(15&d)<<2|g>>6,U=63&g;f||(U=64,l||(P=64)),r.push(t[o>>2],t[(3&o)<<4|d>>4],t[P],t[U])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ba(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const f=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(1023&f))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const b=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==d||null==g||null==b)throw new Pd;r.push(o<<2|d>>4),64!==g&&(r.push(d<<4&240|g>>2),64!==b&&r.push(g<<6&192|b))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Pd extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fu=function(n){const e=Ba(n);return Qs.encodeByteArray(e,!0)},So=function(n){return Fu(n).replace(/\./g,"")},Yo=function(n){try{return Qs.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lu(n){return Xo(void 0,n)}function Xo(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Va(t)||(n[t]=Xo(n[t],e[t]));return n}function Va(n){return"__proto__"!==n}const Bu=()=>{try{return function Wl(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yo(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},wr=n=>{var e,t;return null===(t=null===(e=Bu())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},hs=n=>{const e=wr(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},An=()=>{var n;return null===(n=Bu())||void 0===n?void 0:n.config},Vu=n=>{var e;return null===(e=Bu())||void 0===e?void 0:e[`_${n}`]};class Zo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function ql(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[So(JSON.stringify({alg:"none",type:"JWT"})),So(JSON.stringify(l)),""].join(".")}function ur(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Kl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function ea(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ta(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function N(){return!0===bo.NODE_CLIENT||!0===bo.NODE_ADMIN}function ne(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function Ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class At extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,At.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?function Vt(n,e){return n.replace(Vn,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new At(i,`${this.serviceName}: ${l} (${i}).`,r)}}const Vn=/\{\$([^}]+)}/g;function $t(n){return JSON.parse(n)}function Bt(n){return JSON.stringify(n)}const Ir=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=$t(Yo(o[0])||""),t=$t(Yo(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function Vr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ci(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function $a(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function na(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function kd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(Od(o)&&Od(l)){if(!kd(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Od(n){return null!==n&&"object"==typeof n}function $u(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Yl{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let b=0;b<16;b++)r[b]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let b=0;b<16;b++)r[b]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let b=16;b<80;b++){const P=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=4294967295&(P<<1|P>>>31)}let g,w,i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],d=this.chain_[3],f=this.chain_[4];for(let b=0;b<80;b++){b<40?b<20?(g=d^o&(l^d),w=1518500249):(g=o^l^d,w=1859775393):b<60?(g=o&l|d&(o|l),w=2400959708):(g=o^l^d,w=3395469782);const P=(i<<5|i>>>27)+g+f+w+r[b]&4294967295;f=d,d=l,l=4294967295&(o<<30|o>>>2),o=i,i=P}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<t;){if(0===l)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<t;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class Qf{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Fd(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Ld),void 0===i.error&&(i.error=Ld),void 0===i.complete&&(i.complete=Ld);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ld(){}const Xs=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e},Xf=1e3,Jl=2,ra=144e5,bi=.5;function Zl(n,e=Xf,t=Jl){const r=e*Math.pow(t,n),i=Math.round(bi*r*(Math.random()-.5)*2);return Math.min(ra,r+i)}function Si(n){return n&&n._delegate?n._delegate:n}class fn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ii="[DEFAULT]";class ja{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Zo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function $m(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return z(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&l.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ii?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ec{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ja(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Js=[];var zt=(()=>{return(n=zt||(zt={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",zt;var n})();const Jf={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},_n=zt.INFO,iI={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},jm=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=iI[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ha{constructor(e){this.name=e,this._logLevel=_n,this._logHandler=jm,this._userLogHandler=null,Js.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Jf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const jb=(n,e)=>e.some(t=>n instanceof t);let Wu,qu;const Yn=new WeakMap,Ku=new WeakMap,za=new WeakMap,Ud=new WeakMap,si=new WeakMap;let oa={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ku.get(n);if("objectStoreNames"===e)return n.objectStoreNames||za.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return v(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function y(n){return"function"==typeof n?function oI(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sI(){return qu||(qu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(m(this),e),v(Yn.get(this))}:function(...e){return v(n.apply(m(this),e))}:function(e,...t){const r=n.call(m(this),e,...t);return za.set(r,e.sort?e.sort():[e]),v(r)}}(n):(n instanceof IDBTransaction&&function Zf(n){if(Ku.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Ku.set(n,e)}(n),jb(n,function Hm(){return Wu||(Wu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,oa):n)}function v(n){if(n instanceof IDBRequest)return function sa(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(v(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Yn.set(t,n)}).catch(()=>{}),si.set(e,n),e}(n);if(Ud.has(n))return Ud.get(n);const e=y(n);return e!==n&&(Ud.set(n,e),si.set(e,n)),e}const m=n=>si.get(n),x=["get","getKey","getAll","getAllKeys","count"],L=["put","add","delete","clear"],q=new Map;function _e(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(q.get(e))return q.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=L.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!x.includes(t))return;const o=function(){var l=z(function*(d,...f){const g=this.transaction(d,i?"readwrite":"readonly");let w=g.store;return r&&(w=w.index(f.shift())),(yield Promise.all([w[t](...f),i&&g.done]))[0]});return function(f){return l.apply(this,arguments)}}();return q.set(e,o),o}!function Qu(n){oa=n(oa)}(n=>({...n,get:(e,t,r)=>_e(e,t)||n.get(e,t,r),has:(e,t)=>!!_e(e,t)||n.has(e,t)}));class Ve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Ge(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const jt="@firebase/app",oi=new Ha("@firebase/app"),np="[DEFAULT]",dI={[jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ic=new Map,$d=new Map;function Jk(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yr(n){const e=n.name;if($d.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,n);for(const t of ic.values())Jk(t,n);return!0}function Ao(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ga=new Ot("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class eO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}const Wa="9.21.0";function Xb(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ga.create("bad-app-name",{appName:String(i)});if(t||(t=An()),!t)throw Ga.create("no-options");const o=ic.get(i);if(o){if(kd(t,o.options)&&kd(r,o.config))return o;throw Ga.create("duplicate-app",{appName:i})}const l=new ec(i);for(const f of $d.values())l.addComponent(f);const d=new eO(t,r,l);return ic.set(i,d),d}function rp(n=np){const e=ic.get(n);if(!e&&n===np)return Xb();if(!e)throw Ga.create("no-app",{appName:n});return e}function hI(){return Array.from(ic.values())}function pn(n,e,t){var r;let i=null!==(r=dI[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const d=[`Unable to register library "${i}" with version "${e}":`];return o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void oi.warn(d.join(" "))}Yr(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ro="firebase-heartbeat-database",tS=1,Hd="firebase-heartbeat-store";let Gm=null;function Wm(){return Gm||(Gm=function I(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),d=v(l);return r&&l.addEventListener("upgradeneeded",f=>{r(v(l.result),f.oldVersion,f.newVersion,v(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}(Ro,tS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Hd)}}).catch(n=>{throw Ga.create("idb-open",{originalErrorMessage:n.message})})),Gm}function Km(){return(Km=z(function*(n){try{return(yield Wm()).transaction(Hd).objectStore(Hd).get(Ym(n))}catch(e){if(e instanceof At)oi.warn(e.message);else{const t=Ga.create("idb-get",{originalErrorMessage:e?.message});oi.warn(t.message)}}})).apply(this,arguments)}function fI(n,e){return Qm.apply(this,arguments)}function Qm(){return(Qm=z(function*(n,e){try{const r=(yield Wm()).transaction(Hd,"readwrite");return yield r.objectStore(Hd).put(e,Ym(n)),r.done}catch(t){if(t instanceof At)oi.warn(t.message);else{const r=Ga.create("idb-set",{originalErrorMessage:t?.message});oi.warn(r.message)}}})).apply(this,arguments)}function Ym(n){return`${n.name}!${n.options.appId}`}class Ki{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return z(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ip();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return z(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=ip(),{heartbeatsToSend:r,unsentEntries:i}=function pI(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Xr(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Xr(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=So(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function ip(){return(new Date).toISOString().substring(0,10)}class Xm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return z(function*(){return!!ne()&&ve().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return z(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function qm(n){return Km.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return z(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return fI(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return z(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return fI(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Xr(n){return So(JSON.stringify({version:2,heartbeats:n})).length}!function zd(n){Yr(new fn("platform-logger",e=>new Ve(e),"PRIVATE")),Yr(new fn("heartbeat",e=>new Ki(e),"PRIVATE")),pn(jt,"0.9.9",n),pn(jt,"0.9.9","esm2017"),pn("fire-js","")}(""),pn("firebase","9.21.0","app");const iS=(n,e)=>e.some(t=>n instanceof t);let Jm,_I;const Zm=new WeakMap,e_=new WeakMap,vI=new WeakMap,Gd=new WeakMap,Wd=new WeakMap;let t_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return e_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||vI.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function r_(n){return"function"==typeof n?function n_(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sS(){return _I||(_I=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qa(this),e),Mo(Zm.get(this))}:function(...e){return Mo(n.apply(qa(this),e))}:function(e,...t){const r=n.call(qa(this),e,...t);return vI.set(r,e.sort?e.sort():[e]),Mo(r)}}(n):(n instanceof IDBTransaction&&function qd(n){if(e_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});e_.set(n,e)}(n),iS(n,function yI(){return Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,t_):n)}function Mo(n){if(n instanceof IDBRequest)return function oS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Mo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Zm.set(t,n)}).catch(()=>{}),Wd.set(e,n),e}(n);if(Gd.has(n))return Gd.get(n);const e=r_(n);return e!==n&&(Gd.set(n,e),Wd.set(e,n)),e}const qa=n=>Wd.get(n);function Kd(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),d=Mo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Mo(l.result),f.oldVersion,f.newVersion,Mo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),d.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",()=>i())}).catch(()=>{}),d}function sp(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Mo(t).then(()=>{})}const uS=["get","getKey","getAll","getAllKeys","count"],i_=["put","add","delete","clear"],s_=new Map;function EI(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(s_.get(e))return s_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=i_.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!uS.includes(t))return;const o=function(){var l=z(function*(d,...f){const g=this.transaction(d,i?"readwrite":"readonly");let w=g.store;return r&&(w=w.index(f.shift())),(yield Promise.all([w[t](...f),i&&g.done]))[0]});return function(f){return l.apply(this,arguments)}}();return s_.set(e,o),o}!function aS(n){t_=n(t_)}(n=>({...n,get:(e,t,r)=>EI(e,t)||n.get(e,t,r),has:(e,t)=>!!EI(e,t)||n.has(e,t)}));const wI="@firebase/installations",o_="0.6.4",II=1e4,TI=`w:${o_}`,a_="FIS_v2",u_="https://firebaseinstallations.googleapis.com/v1",CI=36e5,xo=new Ot("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function c_(n){return n instanceof At&&n.code.includes("request-failed")}function aa({projectId:n}){return`${u_}/projects/${n}/installations`}function d_(n){return{token:n.token,requestStatus:2,expiresIn:DI(n.expiresIn),creationTime:Date.now()}}function op(n,e){return h_.apply(this,arguments)}function h_(){return(h_=z(function*(n,e){const r=(yield e.json()).error;return xo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function f_(n){return ap.apply(this,arguments)}function ap(){return(ap=z(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function DI(n){return Number(n.replace("s","000"))}function up(){return(up=z(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=aa(n),i=dS(n),o=e.getImmediate({optional:!0});if(o){const g=yield o.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const d={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:a_,appId:n.appId,sdkVersion:TI})},f=yield f_(()=>fetch(r,d));if(f.ok){const g=yield f.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:d_(g.authToken)}}throw yield op("Create Installation",f)})).apply(this,arguments)}function Yd(n){return new Promise(e=>{setTimeout(e,n)})}const SI=/^[cdef][\w-]{21}$/,Xd="";function g_(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function m_(n){return function lp(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return SI.test(t)?t:Xd}catch{return Xd}}function Po(n){return`${n.appName}!${n.appId}`}const sc=new Map;function __(n,e){const t=Po(n);AI(t,e),function RI(n,e){const t=function Jd(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=n=>{AI(n.data.key,n.data.fid)}),Ka}();t&&t.postMessage({key:n,fid:e}),function cp(){0===sc.size&&Ka&&(Ka.close(),Ka=null)}()}(t,e)}function AI(n,e){const t=sc.get(n);if(t)for(const r of t)r(e)}let Ka=null;const oc="firebase-installations-database",pS=1,Xu="firebase-installations-store";let MI=null;function y_(){return MI||(MI=Kd(oc,pS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xu)}})),MI}function ac(n,e){return v_.apply(this,arguments)}function v_(){return(v_=z(function*(n,e){const t=Po(n),i=(yield y_()).transaction(Xu,"readwrite"),o=i.objectStore(Xu),l=yield o.get(t);return yield o.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&__(n,e.fid),e})).apply(this,arguments)}function dp(n){return uc.apply(this,arguments)}function uc(){return(uc=z(function*(n){const e=Po(n),r=(yield y_()).transaction(Xu,"readwrite");yield r.objectStore(Xu).delete(e),yield r.done})).apply(this,arguments)}function Ju(n,e){return hp.apply(this,arguments)}function hp(){return(hp=z(function*(n,e){const t=Po(n),i=(yield y_()).transaction(Xu,"readwrite"),o=i.objectStore(Xu),l=yield o.get(t),d=e(l);return void 0===d?yield o.delete(t):yield o.put(d,t),yield i.done,d&&(!l||l.fid!==d.fid)&&__(n,d.fid),d})).apply(this,arguments)}function fp(n){return pp.apply(this,arguments)}function pp(){return pp=z(function*(n){let e;const t=yield Ju(n.appConfig,r=>{const i=function Zu(n){return el(n||{fid:g_(),registrationStatus:0})}(r),o=function gS(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mS(n,e){return E_.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_S(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Xd?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),pp.apply(this,arguments)}function E_(){return E_=z(function*(n,e){try{const t=yield function p_(n,e){return up.apply(this,arguments)}(n,e);return ac(n.appConfig,t)}catch(t){throw c_(t)&&409===t.customData.serverCode?yield dp(n.appConfig):yield ac(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),E_.apply(this,arguments)}function _S(n){return w_.apply(this,arguments)}function w_(){return(w_=z(function*(n){let e=yield No(n.appConfig);for(;1===e.registrationStatus;)yield Yd(100),e=yield No(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield fp(n);return r||t}return e})).apply(this,arguments)}function No(n){return Ju(n,e=>{if(!e)throw xo.create("installation-not-found");return el(e)})}function el(n){return function yS(n){return 1===n.registrationStatus&&n.registrationTime+II<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function I_(){return(I_=z(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function ES(n,{fid:e}){return`${aa(n)}/${e}/authTokens:generate`}(n,t),i=function Qd(n,{refreshToken:e}){const t=dS(n);return t.append("Authorization",function bI(n){return`${a_} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const g=yield o.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const d={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:TI,appId:n.appId}})},f=yield f_(()=>fetch(r,d));if(f.ok)return d_(yield f.json());throw yield op("Generate Auth Token",f)})).apply(this,arguments)}function T_(n){return C_.apply(this,arguments)}function C_(){return C_=z(function*(n,e=!1){let t;const r=yield Ju(n.appConfig,o=>{if(!Zd(o))throw xo.create("not-registered");const l=o.authToken;if(!e&&function ua(n){return 2===n.requestStatus&&!function eh(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+CI}(n)}(l))return o;if(1===l.requestStatus)return t=function xI(n,e){return D_.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw xo.create("app-offline");const d=function NI(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function wS(n,e){return b_.apply(this,arguments)}(n,d),d}});return t?yield t:r.authToken}),C_.apply(this,arguments)}function D_(){return(D_=z(function*(n,e){let t=yield PI(n.appConfig);for(;1===t.authToken.requestStatus;)yield Yd(100),t=yield PI(n.appConfig);const r=t.authToken;return 0===r.requestStatus?T_(n,e):r})).apply(this,arguments)}function PI(n){return Ju(n,e=>{if(!Zd(e))throw xo.create("not-registered");return function kI(n){return 1===n.requestStatus&&n.requestTime+II<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function b_(){return b_=z(function*(n,e){try{const t=yield function vS(n,e){return I_.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ac(n.appConfig,r),t}catch(t){if(!c_(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ac(n.appConfig,r)}else yield dp(n.appConfig);throw t}}),b_.apply(this,arguments)}function Zd(n){return void 0!==n&&2===n.registrationStatus}function FI(){return(FI=z(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield fp(e);return r?r.catch(console.error):T_(e).catch(console.error),t.fid})).apply(this,arguments)}function LI(){return LI=z(function*(n,e=!1){const t=n;return yield function S_(n){return th.apply(this,arguments)}(t),(yield T_(t,e)).token}),LI.apply(this,arguments)}function th(){return(th=z(function*(n){const{registrationPromise:e}=yield fp(n);e&&(yield e)})).apply(this,arguments)}function lc(n){return xo.create("missing-app-config-values",{valueName:n})}const R_="installations",IS=n=>{const e=n.getProvider("app").getImmediate(),t=function VI(n){if(!n||!n.options)throw lc("App Configuration");if(!n.name)throw lc("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw lc(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ao(e,"heartbeat"),_delete:()=>Promise.resolve()}},cr=n=>{const t=Ao(n.getProvider("app").getImmediate(),R_).getImmediate();return{getId:()=>function OI(n){return FI.apply(this,arguments)}(t),getToken:i=>function tO(n){return LI.apply(this,arguments)}(t,i)}};(function TS(){Yr(new fn(R_,IS,"PUBLIC")),Yr(new fn("installations-internal",cr,"PRIVATE"))})(),pn(wI,o_),pn(wI,o_,"esm2017");const x_="@firebase/remote-config",Qi=new Ot("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class QI{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return z(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&l.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(l),o})()}}function tl(n=navigator){return n.languages&&n.languages[0]||n.language}class MS{constructor(e,t,r,i,o,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=l}fetch(e){var t=this;return z(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},f={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:tl()},g={method:"POST",headers:d,body:JSON.stringify(f)},w=fetch(l,g),b=new Promise((Ae,je)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",je(ke)})});let P;try{yield Promise.race([w,b]),P=yield w}catch(Ae){let je="fetch-client-network";throw"AbortError"===Ae?.name&&(je="fetch-timeout"),Qi.create(je,{originalErrorMessage:Ae?.message})}let U=P.status;const j=P.headers.get("ETag")||void 0;let Y,oe;if(200===P.status){let Ae;try{Ae=yield P.json()}catch(je){throw Qi.create("fetch-client-parse",{originalErrorMessage:je?.message})}Y=Ae.entries,oe=Ae.state}if("INSTANCE_STATE_UNSPECIFIED"===oe?U=500:"NO_CHANGE"===oe?U=304:("NO_TEMPLATE"===oe||"EMPTY_CONFIG"===oe)&&(Y={}),304!==U&&200!==U)throw Qi.create("fetch-status",{httpStatus:U});return{status:U,eTag:j,config:Y}})()}}class xS{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return z(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return z(function*(){yield function P_(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Qi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function vp(n){if(!(n instanceof At&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const l={throttleEndTimeMillis:Date.now()+Zl(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class nl{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ih(n,e){const t=n.target.error||void 0;return Qi.create(e,{originalErrorMessage:t&&t?.message})}const la="app_namespace_store";class cc{constructor(e,t,r,i=function YI(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ih(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(la,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return z(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const d=r.transaction([la],"readonly").objectStore(la),f=t.createCompositeKey(e);try{const g=d.get(f);g.onerror=w=>{o(ih(w,"storage-get"))},g.onsuccess=w=>{const b=w.target.result;i(b?b.value:void 0)}}catch(g){o(Qi.create("storage-get",{originalErrorMessage:g?.message}))}})})()}set(e,t){var r=this;return z(function*(){const i=yield r.openDbPromise;return new Promise((o,l)=>{const f=i.transaction([la],"readwrite").objectStore(la),g=r.createCompositeKey(e);try{const w=f.put({compositeKey:g,value:t});w.onerror=b=>{l(ih(b,"storage-set"))},w.onsuccess=()=>{o()}}catch(w){l(Qi.create("storage-set",{originalErrorMessage:w?.message}))}})})()}delete(e){var t=this;return z(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const d=r.transaction([la],"readwrite").objectStore(la),f=t.createCompositeKey(e);try{const g=d.delete(f);g.onerror=w=>{o(ih(w,"storage-delete"))},g.onsuccess=()=>{i()}}catch(g){o(Qi.create("storage-delete",{originalErrorMessage:g?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kS{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return z(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const d=yield i;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function FS(){return wp.apply(this,arguments)}function wp(){return(wp=z(function*(){if(!ne())return!1;try{return yield ve()}catch{return!1}})).apply(this,arguments)}!function OS(){Yr(new fn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qi.create("registration-window");if(!ne())throw Qi.create("indexed-db-unavailable");const{projectId:o,apiKey:l,appId:d}=r.options;if(!o)throw Qi.create("registration-project-id");if(!l)throw Qi.create("registration-api-key");if(!d)throw Qi.create("registration-app-id");const f=new cc(d,r.name,t=t||"firebase"),g=new kS(f),w=new Ha(x_);w.logLevel=zt.ERROR;const b=new MS(i,Wa,t,o,l,d),P=new xS(b,f),U=new QI(P,f,g,w),j=new nl(r,U,g,f,w);return function aO(n){const e=Si(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),pn(x_,"0.4.4"),pn(x_,"0.4.4","esm2017")}();const LS="/firebase-messaging-sw.js",XI="/firebase-cloud-messaging-push-scope",US="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",BS="https://fcmregistrations.googleapis.com/v1",dc="google.c.a.c_id",VS="google.c.a.c_l",hc="google.c.a.ts",oh="google.c.a.e";var rl=(()=>{return(n=rl||(rl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",rl;var n})();function ca(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $S(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const k_="fcm_token_details_db",JI=5,O_="fcm_token_object_Store";function ah(){return ah=z(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(k_))return null;let e=null;return(yield Kd(k_,JI,{upgrade:(r=z(function*(i,o,l,d){var f;if(o<2||!i.objectStoreNames.contains(O_))return;const g=d.objectStore(O_),w=yield g.index("fcmSenderId").get(n);if(yield g.clear(),w)if(2===o){const b=w;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:null!==(f=b.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:"string"==typeof b.vapidKey?b.vapidKey:ca(b.vapidKey)}}}else if(3===o){const b=w;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:ca(b.auth),p256dh:ca(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:ca(b.vapidKey)}}}else if(4===o){const b=w;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:ca(b.auth),p256dh:ca(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:ca(b.vapidKey)}}}}),function(o,l,d,f){return r.apply(this,arguments)})})).close(),yield sp(k_),yield sp("fcm_vapid_details_db"),yield sp("undefined"),function jS(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ah.apply(this,arguments)}const L_="firebase-messaging-database",uh=1,il="firebase-messaging-store";let U_=null;function B_(){return U_||(U_=Kd(L_,uh,{upgrade:(n,e)=>{0===e&&n.createObjectStore(il)}})),U_}function ZI(n){return V_.apply(this,arguments)}function V_(){return V_=z(function*(n){const e=H_(n),r=yield(yield B_()).transaction(il).objectStore(il).get(e);if(r)return r;{const i=yield function F_(n){return ah.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield $_(n,i),i}}),V_.apply(this,arguments)}function $_(n,e){return j_.apply(this,arguments)}function j_(){return(j_=z(function*(n,e){const t=H_(n),i=(yield B_()).transaction(il,"readwrite");return yield i.objectStore(il).put(e,t),yield i.done,e})).apply(this,arguments)}function Zs(){return(Zs=z(function*(n){const e=H_(n),r=(yield B_()).transaction(il,"readwrite");yield r.objectStore(il).delete(e),yield r.done})).apply(this,arguments)}function H_({appConfig:n}){return n.appId}const ui=new Ot("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cO(n,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=z(function*(n,e){const t=yield W_(n),r=xs(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Cp(n.appConfig),i)).json()}catch(l){throw ui.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(o.error)throw ui.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ui.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Tp(){return(Tp=z(function*(n,e){const t=yield W_(n),r=xs(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Cp(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw ui.create("token-update-failed",{errorInfo:l?.toString()})}if(o.error)throw ui.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ui.create("token-update-no-token");return o.token})).apply(this,arguments)}function z_(n,e){return G_.apply(this,arguments)}function G_(){return(G_=z(function*(n,e){const r={method:"DELETE",headers:yield W_(n)};try{const o=yield(yield fetch(`${Cp(n.appConfig)}/${e}`,r)).json();if(o.error)throw ui.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw ui.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Cp({projectId:n}){return`${BS}/projects/${n}/registrations`}function W_(n){return q_.apply(this,arguments)}function q_(){return(q_=z(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function xs({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==US&&(i.web.applicationPubKey=r),i}const zS=6048e5;function K_(){return K_=z(function*(n){const e=yield function WS(n,e){return Rt.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ca(e.getKey("auth")),p256dh:ca(e.getKey("p256dh"))},r=yield ZI(n.firebaseDependencies);if(r){if(function rT(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+zS?function GS(n,e){return Dp.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield z_(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return nT(n.firebaseDependencies,t)}return nT(n.firebaseDependencies,t)}),K_.apply(this,arguments)}function Q_(){return Q_=z(function*(n){const e=yield ZI(n.firebaseDependencies);e&&(yield z_(n.firebaseDependencies,e.token),yield function fc(n){return Zs.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Q_.apply(this,arguments)}function Dp(){return Dp=z(function*(n,e){try{const t=yield function dO(n,e){return Tp.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield $_(n.firebaseDependencies,r),t}catch(t){throw yield function tT(n){return Q_.apply(this,arguments)}(n),t}}),Dp.apply(this,arguments)}function nT(n,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=z(function*(n,e){const r={token:yield cO(n,e),createTime:Date.now(),subscriptionOptions:e};return yield $_(n,r),r.token})).apply(this,arguments)}function Rt(){return(Rt=z(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$S(e)})})).apply(this,arguments)}function X_(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function iT(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function qS(n,e){e.data&&(n.data=e.data)}(e,n),function KS(n,e){var t,r,i,o,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;d&&(n.fcmOptions.link=d);const f=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}(e,n),e}function oT(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function J_(n){return ui.create("missing-app-config-values",{valueName:n})}oT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oT("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class QS{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function aT(n){if(!n||!n.options)throw J_("App Configuration Object");if(!n.name)throw J_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw J_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function YS(n){return bp.apply(this,arguments)}function bp(){return(bp=z(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(LS,{scope:XI}),n.swRegistration.update().catch(()=>{})}catch(e){throw ui.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function da(){return(da=z(function*(n,e){if(!e&&!n.swRegistration&&(yield YS(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ui.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function lh(){return(lh=z(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=US)})).apply(this,arguments)}function Z_(){return Z_=z(function*(n,e){if(!navigator)throw ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ui.create("permission-blocked");return yield function XS(n,e){return lh.apply(this,arguments)}(n,e?.vapidKey),yield function uT(n,e){return da.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function eT(n){return K_.apply(this,arguments)}(n)}),Z_.apply(this,arguments)}function lT(){return(lT=z(function*(n,e,t){const r=function fO(n){switch(n){case rl.NOTIFICATION_CLICKED:return"notification_open";case rl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[dc],message_name:t[VS],message_time:t[hc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ap(){return Ap=z(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===rl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(X_(t)):n.onMessageHandler.next(X_(t)));const r=t.data;(function sT(n){return"object"==typeof n&&!!n&&dc in n})(r)&&"1"===r[oh]&&(yield function hO(n,e,t){return lT.apply(this,arguments)}(n,t.messageType,r))}),Ap.apply(this,arguments)}const ZS="@firebase/messaging",pc=n=>{const e=new QS(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function JS(n,e){return Ap.apply(this,arguments)}(e,t)),e},eA=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Sp(n,e){return Z_.apply(this,arguments)}(e,r)}};function ch(){return ey.apply(this,arguments)}function ey(){return(ey=z(function*(){try{yield ve()}catch{return!1}return typeof window<"u"&&ne()&&Ke()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dT(){Yr(new fn("messaging",pc,"PUBLIC")),Yr(new fn("messaging-internal",eA,"PRIVATE")),pn(ZS,"0.12.4"),pn(ZS,"0.12.4","esm2017")}();const dh="analytics",fT="firebase_id",ry="origin",_O=6e4,iy="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sy="https://www.googletagmanager.com/gtag/js",Jr=new Ha("@firebase/analytics"),li=new Ot("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rA(n){if(!n.startsWith(sy)){const e=li.create("invalid-gtag-resource",{gtagURL:n});return Jr.warn(e.message),""}return n}function oy(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hh(){return(hh=z(function*(n,e,t,r,i,o){const l=r[i];try{if(l)yield e[l];else{const f=(yield oy(t)).find(g=>g.measurementId===i);f&&(yield e[f.appId])}}catch(d){Jr.error(d)}n("config",i,o)})).apply(this,arguments)}function ph(){return(ph=z(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const d=yield oy(t);for(const f of l){const g=d.find(b=>b.measurementId===f),w=g&&e[g.appId];if(!w){o=[];break}o.push(w)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Jr.error(o)}})).apply(this,arguments)}const uy=30,xp=new class gT{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function oA(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Pp(){return(Pp=z(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:oA(r)},o=iy.replace("{app-id}",t),l=yield fetch(o,i);if(200!==l.status&&304!==l.status){let d="";try{const f=yield l.json();null!==(e=f.error)&&void 0!==e&&e.message&&(d=f.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()})).apply(this,arguments)}function Np(){return(Np=z(function*(n,e=xp,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw li.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw li.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new cA;return setTimeout(z(function*(){d.abort()}),void 0!==t?t:_O),cy({appId:r,apiKey:i,measurementId:o},l,d,e)})).apply(this,arguments)}function cy(n,e,t){return dy.apply(this,arguments)}function dy(){return dy=z(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=xp){var o;const{appId:l,measurementId:d}=n;try{yield function lA(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(li.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(f){if(d)return Jr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:d};throw f}try{const f=yield function aA(n){return Pp.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),f}catch(f){const g=f;if(!function ps(n){if(!(n instanceof At&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(g)){if(i.deleteThrottleMetadata(l),d)return Jr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:d};throw f}const w=503===Number(null===(o=g?.customData)||void 0===o?void 0:o.httpStatus)?Zl(t,i.intervalMillis,uy):Zl(t,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return i.setThrottleMetadata(l,b),Jr.debug(`Calling attemptFetch again in ${w} millis`),cy(n,b,r,i)}}),dy.apply(this,arguments)}class cA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hy,_y;function gh(){return(gh=z(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function _h(){return(_h=z(function*(){if(!ne())return Jr.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ve()}catch(n){return Jr.warn(li.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function yy(){return yy=z(function*(n,e,t,r,i,o,l){var d;const f=function uA(n){return Np.apply(this,arguments)}(n);f.then(U=>{t[U.measurementId]=U.appId,n.options.measurementId&&U.measurementId!==n.options.measurementId&&Jr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>Jr.error(U)),e.push(f);const g=function ko(){return _h.apply(this,arguments)}().then(U=>{if(U)return r.getId()}),[w,b]=yield Promise.all([f,g]);(function ay(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sy)&&t.src.includes(n))return t;return null})(o)||function sA(n,e){const t=function iA(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:rA}),r=document.createElement("script"),i=`${sy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,w.measurementId),_y&&(i("consent","default",_y),function yT(n){_y=n}(void 0)),i("js",new Date);const P=null!==(d=l?.config)&&void 0!==d?d:{};return P[ry]="firebase",P.update=!0,null!=b&&(P[fT]=b),i("config",w.measurementId,P),hy&&(i("set",hy),function vT(n){hy=n}(void 0)),w.measurementId}),yy.apply(this,arguments)}class ET{constructor(e){this.app=e}_delete(){return delete Oo[this.app.options.appId],Promise.resolve()}}let Oo={},wT=[];const IT={};let CT,gs,_c="dataLayer",TT="gtag",yc=!1;function Ey(n,e,t){!function vO(){const n=[];if(ea()&&n.push("This is a browser extension environment."),Ke()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=li.create("invalid-analytics-context",{errorInfo:e});Jr.warn(t.message)}}();const r=n.options.appId;if(!r)throw li.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw li.create("no-api-key");Jr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Oo[r])throw li.create("already-exists",{id:r});if(!yc){!function Rp(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(_c);const{wrappedGtag:o,gtagCore:l}=function pT(n,e,t,r,i){let o=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Mp(n,e,t,r){function o(){return o=z(function*(l,...d){try{if("event"===l){const[f,g]=d;yield function fh(n,e,t,r,i){return ph.apply(this,arguments)}(n,e,t,f,g)}else if("config"===l){const[f,g]=d;yield function mc(n,e,t,r,i,o){return hh.apply(this,arguments)}(n,e,t,r,f,g)}else if("consent"===l){const[f]=d;n("consent","update",f)}else if("get"===l){const[f,g,w]=d;n("get",f,g,w)}else if("set"===l){const[f]=d;n("set",f)}else n(l,...d)}catch(f){Jr.error(f)}}),o.apply(this,arguments)}return function i(l){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Oo,wT,IT,_c,TT);gs=o,CT=l,yc=!0}return Oo[r]=function pA(n,e,t,r,i,o,l){return yy.apply(this,arguments)}(n,wT,IT,e,CT,_c,t),new ET(n)}function bT(){return kp.apply(this,arguments)}function kp(){return(kp=z(function*(){if(ea()||!Ke()||!ne())return!1;try{return yield ve()}catch{return!1}})).apply(this,arguments)}const RT="@firebase/analytics";!function yh(){Yr(new fn(dh,(e,{options:t})=>Ey(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Yr(new fn("analytics-internal",function n(e){try{const t=e.getProvider(dh).getImmediate();return{logEvent:(r,i,o)=>function AT(n,e,t,r){n=Si(n),function yO(n,e,t,r,i){return gh.apply(this,arguments)}(gs,Oo[n.app.options.appId],e,t,r).catch(i=>Jr.error(i))}(t,r,i,o)}}catch(t){throw li.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),pn(RT,"0.10.0"),pn(RT,"0.10.0","esm2017")}();var _A=F(4408),yA=F(640);const EA=new class vA extends yA.v{}(class wO extends _A.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var wA=F(4986),xT=F(9751),IA=F(8505),Ty=F(9468),Fp=F(5363);const vc=new k.GfV("7.5.0"),vh="__angularfire_symbol__analyticsIsSupportedValue",Cy="__angularfire_symbol__analyticsIsSupported",Dy="__angularfire_symbol__remoteConfigIsSupportedValue",by="__angularfire_symbol__remoteConfigIsSupported",Sy="__angularfire_symbol__messagingIsSupportedValue",Ay="__angularfire_symbol__messagingIsSupported";function Eh(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(l=>l.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Cy]||(globalThis[Cy]=bT().then(n=>globalThis[vh]=n).catch(()=>globalThis[vh]=!1)),globalThis[Ay]||(globalThis[Ay]=ch().then(n=>globalThis[Sy]=n).catch(()=>globalThis[Sy]=!1)),globalThis[by]||(globalThis[by]=FS().then(n=>globalThis[Dy]=n).catch(()=>globalThis[Dy]=!1));const Lp=(n,e)=>{const t=e?[e]:hI(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function sl(){}class DA{constructor(e,t=EA){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class Up{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sl,{},sl,sl)),t.pipe((0,IA.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new DA(Zone.current)),this.insideAngular=t.run(()=>new DA(Zone.current,wA.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.R0b))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ol(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function al(n){return ol().ngZone.run(()=>n())}function ci(n){return ol(),function ul(n){return function(t){return(t=t.lift(new Up(n.ngZone))).pipe((0,Ty.R)(n.outsideAngular),(0,Fp.Q)(n.insideAngular))}}(ol())(n)}const Vp=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),al(()=>n.apply(void 0,r))},di=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=al(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sl,{},sl,sl)))),r[o]=Vp(r[o],t));const i=function My(n){return ol().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof xT.y){const o=ol();return i.pipe((0,Ty.R)(o.outsideAngular),(0,Fp.Q)(o.insideAngular))}return al(()=>i)}return i instanceof xT.y?i.pipe(ci):i instanceof Promise?al(()=>new Promise((o,l)=>i.then(d=>al(()=>o(d)),d=>al(()=>l(d))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:al(()=>i)};class Fo{constructor(e){return e}}class Lo{constructor(){return hI()}}const Qa=new k.OlP("angularfire2._apps"),wc={provide:Fo,useFactory:function Ec(n){return n&&1===n.length?n[0]:new Fo(rp())},deps:[[new k.FiY,Qa]]},Ic={provide:Lo,deps:[[new k.FiY,Qa]]};function Tc(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Fo(r)}}let Cc=(()=>{class n{constructor(t){pn("angularfire",vc.full,"core"),pn("angularfire",vc.full,"app"),pn("angular",k.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.Lbi))},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[wc,Ic]}),n})();function Dc(n,...e){return{ngModule:Cc,providers:[{provide:Qa,useFactory:Tc(n),multi:!0,deps:[k.R0b,k.zs3,wh,...e]}]}}const PT=di(Xb,!0),xy_firebase={projectId:"appdemo-68c75",appId:"1:730824994016:web:6437d3a215161633e4f485",storageBucket:"appdemo-68c75.appspot.com",apiKey:"AIzaSyChFChziV9ItB_PzzXhmwIivOEMR9xdFP4",authDomain:"appdemo-68c75.firebaseapp.com",messagingSenderId:"730824994016",measurementId:"G-QTHS3R8MH1"},$p=new Map,NT={activated:!1,tokenObservers:[]},PA={initialized:!1,enabled:!1};function $n(n){return $p.get(n)||Object.assign({},NT)}function Th(){return PA}const Ch="https://content-firebaseappcheck.googleapis.com/v1",jp="exchangeDebugToken",Dh={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class OA{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return z(function*(){t.stop();try{t.pending=new Zo,yield function ky(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zo,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $r=new Ot("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bc(n,e){return zp.apply(this,arguments)}function zp(){return(zp=z(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const b=yield i.getHeartbeatsHeader();b&&(r["X-Firebase-Client"]=b)}const o={method:"POST",body:JSON.stringify(e),headers:r};let l,d;try{l=yield fetch(n,o)}catch(b){throw $r.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==l.status)throw $r.create("fetch-status-error",{httpStatus:l.status});try{d=yield l.json()}catch(b){throw $r.create("fetch-parse-error",{originalErrorMessage:b?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const g=1e3*Number(f[1]),w=Date.now();return{token:d.token,expireTimeMillis:w+g,issuedAtTimeMillis:w}})).apply(this,arguments)}const OT="firebase-app-check-database",FT=1,Rh="firebase-app-check-store";let Mh=null;function By(n,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=z(function*(n,e){const r=(yield function Uy(){return Mh||(Mh=new Promise((n,e)=>{try{const t=indexedDB.open(OT,FT);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e($r.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rh,{keyPath:"compositeKey"})}}catch(t){e($r.create("storage-open",{originalErrorMessage:t?.message}))}}),Mh)}()).transaction(Rh,"readwrite"),o=r.objectStore(Rh).put({compositeKey:n,value:e});return new Promise((l,d)=>{o.onsuccess=f=>{l()},r.onerror=f=>{var g;d($r.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Ya=new Ha("@firebase/app-check");function Hy(n,e){return ne()?function LT(n,e){return By(function $y(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ya.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gy(){return Ph.apply(this,arguments)}function Ph(){return(Ph=z(function*(){const n=Th();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const DO={error:"UNKNOWN_ERROR"};function LA(n){return Qs.encodeString(JSON.stringify(n),!1)}function Kp(n){return Qp.apply(this,arguments)}function Qp(){return(Qp=z(function*(n,e=!1){const t=n.app;!function Sh(n){if(!$n(n).activated)throw $r.create("use-before-activation",{appName:n.name})}(t);const r=$n(t);let o,i=r.token;if(i&&!ll(i)&&(r.token=void 0,i=void 0),!i){const f=yield r.cachedTokenPromise;f&&(ll(f)?i=f:yield Hy(t,void 0))}if(!e&&i&&ll(i))return{token:i.token};let d,l=!1;if(function xh(){return Th().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bc(function Fy(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Ch}/projects/${t}/apps/${r}:${jp}?key=${i}`,body:{debug_token:e}}}(t,yield Gy()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const f=yield r.exchangeTokenPromise;return yield Hy(t,f),r.token=f,{token:f.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield $n(t).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Ya.warn(f.message):Ya.error(f),o=f}return i?o?d=ll(i)?{token:i.token,internalError:o}:qy(o):(d={token:i.token},r.token=i,yield Hy(t,i)):d=qy(o),l&&function jT(n,e){const t=$n(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,d),d})).apply(this,arguments)}function Wy(n,e){const t=$n(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function VT(n){const{app:e}=n,t=$n(e);let r=t.tokenRefresher;r||(r=function $T(n){const{app:e}=n;return new OA(z(function*(){let r;if(r=$n(e).token?yield Kp(n,!0):yield Kp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=$n(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Dh.RETRIAL_MIN_WAIT,Dh.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ll(n){return n.expireTimeMillis-Date.now()>0}function qy(n){return{token:LA(DO),error:n}}class Sc{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$n(this.app);for(const t of e)Wy(this.app,t.next);return Promise.resolve()}}const kh="app-check-internal";!function zA(){Yr(new fn("app-check",n=>function BA(n,e){return new Sc(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kh).initialize()})),Yr(new fn(kh,n=>function VA(n){return{getToken:e=>Kp(n,e),addTokenListener:e=>function Yp(n,e,t,r){const{app:i}=n,o=$n(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&ll(o.token)){const d=o.token;Promise.resolve().then(()=>{t({token:d.token}),VT(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VT(n))}(n,"INTERNAL",e),removeTokenListener:e=>Wy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),pn("@firebase/app-check","0.7.0")}();class cl{constructor(){return Lp("app-check")}}typeof window<"u"&&window;var r0=F(655);const YA=function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},o0=new Ot("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oh=new Ha("@firebase/auth");function Fh(n,...e){Oh.logLevel<=zt.ERROR&&Oh.error(`Auth (${Wa}): ${n}`,...e)}function Ai(n,...e){throw Zp(n,...e)}function ro(n,...e){return Zp(n,...e)}function Zp(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return o0.create(n,...e)}function Oe(n,e,...t){if(!n)throw Zp(e,...t)}function io(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fh(e),new Error(e)}function pa(n,e){n||io(e)}function so(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function u0(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class hl{constructor(e,t){this.shortDelay=e,this.longDelay=t,pa(t>e,"Short delay should be less than long delay!"),this.isMobile=Kl()||ta()}get(){return function Ac(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tv(){return"http:"===u0()||"https:"===u0()}()||ea()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function l0(n,e){pa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class nv{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const c0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},HO=new hl(3e4,6e4);function We(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Xn(n,e,t,r){return rv.apply(this,arguments)}function rv(){return(rv=z(function*(n,e,t,r,i={}){return d0(n,i,z(function*(){let o={},l={};r&&("GET"===e?l=r:o={body:JSON.stringify(r)});const d=$u(Object.assign({key:n.config.apiKey},l)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),nv.fetch()(Lh(n,n.config.apiHost,t,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function d0(n,e,t){return Ja.apply(this,arguments)}function Ja(){return(Ja=z(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},c0),e);try{const i=new Jn(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield o.json();if("needConfirmation"in l)throw eg(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const d=o.ok?l.errorMessage:l.error.message,[f,g]=d.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===f)throw eg(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===f)throw eg(n,"email-already-in-use",l);if("USER_DISABLED"===f)throw eg(n,"user-disabled",l);const w=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw function ev(n,e,t){const r=Object.assign(Object.assign({},YA()),{[e]:t});return new Ot("auth","Firebase",r).create(e,{appName:n.name})}(n,w,g);Ai(n,w)}}catch(i){if(i instanceof At)throw i;Ai(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ga(n,e,t,r){return Rc.apply(this,arguments)}function Rc(){return(Rc=z(function*(n,e,t,r,i={}){const o=yield Xn(n,e,t,r,i);return"mfaPendingCredential"in o&&Ai(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function Lh(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?l0(n.config,i):`${n.config.apiScheme}://${i}`}class Jn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ro(this.auth,"network-request-failed")),HO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function eg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ro(n,e,r);return i.customData._tokenResponse=t,i}function tg(){return(tg=z(function*(n,e){return Xn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rg(){return(rg=z(function*(n,e){return Xn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Mc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iv(){return(iv=z(function*(n,e=!1){const t=Si(n),r=yield t.getIdToken(e),i=ig(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(fl(i.auth_time)),issuedAtTime:Mc(fl(i.iat)),expirationTime:Mc(fl(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function fl(n){return 1e3*Number(n)}function ig(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yo(t);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ma(n,e){return xc.apply(this,arguments)}function xc(){return(xc=z(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof At&&function p0({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class g0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(z(function*(){yield t.iteration()}),r)}iteration(){var e=this;return z(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class sv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Uh(n){return pl.apply(this,arguments)}function pl(){return pl=z(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ma(n,function f0(n,e){return rg.apply(this,arguments)}(t,{idToken:r}));Oe(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function tR(n){return n.map(e=>{var{providerId:t}=e,r=(0,r0._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],d=function eR(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),w=!!n.isAnonymous&&!(n.email&&o.passwordHash||d?.length),b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new sv(o.createdAt,o.lastLoginAt),isAnonymous:w};Object.assign(n,b)}),pl.apply(this,arguments)}function ov(){return(ov=z(function*(n){const e=Si(n);yield Uh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function sg(){return(sg=z(function*(n,e){const t=yield d0(n,{},z(function*(){const r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=Lh(n,i,"/v1/token",`key=${o}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",nv.fetch()(l,{method:"POST",headers:d,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ZA(n){const e=ig(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return z(function*(){return Oe(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return z(function*(){const{accessToken:i,refreshToken:o,expiresIn:l}=yield function m0(n,e){return sg.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Pc;return r&&(Oe("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Oe("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),o&&(Oe("number"==typeof o,"internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pc,this.toJSON())}_performRefresh(){return io("not implemented")}}function Za(n,e){Oe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class eu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=(0,r0._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sv(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return z(function*(){const r=yield ma(t,t.stsTokenManager.getToken(t.auth,e));return Oe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function JA(n){return iv.apply(this,arguments)}(this,e)}reload(){return function Bh(n){return ov.apply(this,arguments)}(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new eu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return z(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Uh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return z(function*(){const t=yield e.getIdToken();return yield ma(e,function h0(n,e){return tg.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,d,f,g,w;const b=null!==(r=t.displayName)&&void 0!==r?r:void 0,P=null!==(i=t.email)&&void 0!==i?i:void 0,U=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,j=null!==(l=t.photoURL)&&void 0!==l?l:void 0,Y=null!==(d=t.tenantId)&&void 0!==d?d:void 0,oe=null!==(f=t._redirectEventId)&&void 0!==f?f:void 0,Ae=null!==(g=t.createdAt)&&void 0!==g?g:void 0,je=null!==(w=t.lastLoginAt)&&void 0!==w?w:void 0,{uid:ke,emailVerified:_t,isAnonymous:Qt,providerData:Pt,stsTokenManager:Xt}=t;Oe(ke&&Xt,e,"internal-error");const Ln=Pc.fromJSON(this.name,Xt);Oe("string"==typeof ke,e,"internal-error"),Za(b,e.name),Za(P,e.name),Oe("boolean"==typeof _t,e,"internal-error"),Oe("boolean"==typeof Qt,e,"internal-error"),Za(U,e.name),Za(j,e.name),Za(Y,e.name),Za(oe,e.name),Za(Ae,e.name),Za(je,e.name);const Ni=new eu({uid:ke,auth:e,email:P,emailVerified:_t,displayName:b,isAnonymous:Qt,photoURL:j,phoneNumber:U,tenantId:Y,stsTokenManager:Ln,createdAt:Ae,lastLoginAt:je});return Pt&&Array.isArray(Pt)&&(Ni.providerData=Pt.map(Aa=>Object.assign({},Aa))),oe&&(Ni._redirectEventId=oe),Ni}static _fromIdTokenResponse(e,t,r=!1){return z(function*(){const i=new Pc;i.updateFromServerResponse(t);const o=new eu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uh(o),o})()}}const _0=new Map;function _a(n){pa(n instanceof Function,"Expected a class definition");let e=_0.get(n);return e?(pa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_0.set(n,e),e)}const nR=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return z(function*(){return!0})()}_set(t,r){var i=this;return z(function*(){i.storage[t]=r})()}_get(t){var r=this;return z(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return z(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function av(n,e,t){return`firebase:${n}:${e}:${t}`}class Vh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=av(this.userKey,i.apiKey,o),this.fullPersistenceKey=av("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return z(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?eu._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return z(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return z(function*(){if(!t.length)return new Vh(_a(nR),e,r);const i=(yield Promise.all(t.map(function(){var g=z(function*(w){if(yield w._isAvailable())return w});return function(w){return g.apply(this,arguments)}}()))).filter(g=>g);let o=i[0]||_a(nR);const l=av(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const w=yield g._get(l);if(w){const b=eu._fromJSON(e,w);g!==o&&(d=b),o=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return o._shouldAllowMigration&&f.length?(o=f[0],d&&(yield o._set(l,d.toJSON())),yield Promise.all(t.map(function(){var g=z(function*(w){if(w!==o)try{yield w._remove(l)}catch{}});return function(w){return g.apply(this,arguments)}}())),new Vh(o,e,r)):new Vh(o,e,r)})()}}function uv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($h(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v0(e))return"Blackberry";if(E0(e))return"Webos";if(lv(e))return"Safari";if((e.includes("chrome/")||y0(e))&&!e.includes("edge/"))return"Chrome";if(Nc(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function $h(n=ur()){return/firefox\//i.test(n)}function lv(n=ur()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y0(n=ur()){return/crios\//i.test(n)}function cv(n=ur()){return/iemobile/i.test(n)}function Nc(n=ur()){return/android/i.test(n)}function v0(n=ur()){return/blackberry/i.test(n)}function E0(n=ur()){return/webos/i.test(n)}function og(n=ur()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dv(n=ur()){return og(n)||Nc(n)||E0(n)||v0(n)||/windows phone/i.test(n)||cv(n)}function w0(n,e=[]){let t;switch(n){case"Browser":t=uv(ur());break;case"Worker":t=`${uv(ur())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${r}`}function fv(n,e){return pv.apply(this,arguments)}function pv(){return(pv=z(function*(n,e){return Xn(n,"GET","/v2/recaptchaConfig",We(n,e))})).apply(this,arguments)}function I0(n){return void 0!==n&&void 0!==n.enterprise}class mv{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Hh(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ro("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function sR(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function T0(n){return`__${n}${Math.floor(1e6*Math.random())}`}const oR="NO_RECAPTCHA";class b0{constructor(e){this.type="recaptcha-enterprise",this.auth=jr(e)}verify(e="verify",t=!1){var r=this;return z(function*(){function o(){return o=z(function*(d){if(!t){if(null==d.tenantId&&null!=d._agentRecaptchaConfig)return d._agentRecaptchaConfig.siteKey;if(null!=d.tenantId&&void 0!==d._tenantRecaptchaConfigs[d.tenantId])return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(function(){var f=z(function*(g,w){fv(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(void 0!==b.recaptchaKey){const P=new mv(b);return null==d.tenantId?d._agentRecaptchaConfig=P:d._tenantRecaptchaConfigs[d.tenantId]=P,g(P.siteKey)}w(new Error("recaptcha Enterprise site key undefined"))}).catch(b=>{w(b)})});return function(g,w){return f.apply(this,arguments)}}())}),o.apply(this,arguments)}function l(d,f,g){const w=window.grecaptcha;I0(w)?w.enterprise.ready(()=>{w.enterprise.execute(d,{action:e}).then(b=>{f(b)}).catch(()=>{f(oR)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((d,f)=>{(function i(d){return o.apply(this,arguments)})(r.auth).then(g=>{if(!t&&I0(window.grecaptcha))l(g,d,f);else{if(typeof window>"u")return void f(new Error("RecaptchaVerifier is only supported in browser"));Hh("https://www.google.com/recaptcha/enterprise.js?render="+g).then(()=>{l(g,d,f)}).catch(w=>{f(w)})}}).catch(g=>{f(g)})})})()}}class aR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,d)=>{try{l(e(o))}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return z(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class S0{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new aR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=_a(t)),this._initializationPromise=this.queue(z(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Vh.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return z(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return z(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const d=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,f=o?._redirectEventId,g=yield t.tryRedirectSignIn(e);(!d||d===f)&&g?.user&&(o=g.user,l=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(o)}catch(d){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(d))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Oe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return z(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return z(function*(){try{yield Uh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function jO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return z(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return z(function*(){const r=e?Si(e):null;return r&&Oe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return z(function*(){if(!r._deleted)return e&&Oe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(z(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return z(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(z(function*(){yield t.assertedPersistence.setPersistence(_a(e))}))}initializeRecaptchaConfig(){var e=this;return z(function*(){const t=yield fv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mv(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new b0(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ot("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return z(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return z(function*(){if(!t.redirectPersistenceManager){const r=e&&_a(e)||t._popupRedirectResolver;Oe(r,t,"argument-error"),t.redirectPersistenceManager=yield Vh.create(t,[_a(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return z(function*(){var r,i;return t._isInitialized&&(yield t.queue(z(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return z(function*(){if(e===t.currentUser)return t.queue(z(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(l,this,"internal-error"),l.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return z(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return z(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return z(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function a0(n,...e){Oh.logLevel<=zt.WARN&&Oh.warn(`Auth (${Wa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function jr(n){return Si(n)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=function ju(n,e){const t=new Qf(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function R0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function M0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class P0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,t){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}function ya(n,e){return lg.apply(this,arguments)}function lg(){return(lg=z(function*(n,e){return ga(n,"POST","/v1/accounts:signInWithIdp",We(n,e))})).apply(this,arguments)}class ru{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yR extends ru{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return z(function*(){const o=yield eu._fromIdTokenResponse(e,r,i),l=xv(r);return new _s({user:o,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return z(function*(){yield e._updateTokensIfNecessary(r,!0);const i=xv(r);return new _s({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function xv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class pg extends At{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new pg(e,t,r,i)}}function IR(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?pg._fromErrorAndOperation(n,o,e,r):o})}function kv(n,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=z(function*(n,e,t=!1){const r=yield ma(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _s._forOperation(n,"link",r)})).apply(this,arguments)}function gg(n,e){return Ns.apply(this,arguments)}function Ns(){return(Ns=z(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield ma(n,IR(r,i,e,n),t);Oe(o.idToken,r,"internal-error");const l=ig(o.idToken);Oe(l,r,"internal-error");const{sub:d}=l;return Oe(n.uid===d,r,"user-mismatch"),_s._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ai(r,"user-mismatch"),o}})).apply(this,arguments)}function $0(n,e){return Fc.apply(this,arguments)}function Fc(){return(Fc=z(function*(n,e,t=!1){const r="signIn",i=yield IR(n,r,e),o=yield _s._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}const af="__sak";class Qv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const c1=(()=>{class n extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function X0(){const n=ur();return lv(n)||og(n)}()&&function iR(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((d,f,g)=>{this.notifyListeners(d,g)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(i);if(t.newValue!==d)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const d=this.storage.getItem(i);!r&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);!function rR(){return function M(){const n=ur();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return z(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return z(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return z(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),zR=(()=>{class n extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let h1=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return z(function*(){const i=t,{eventId:o,eventType:l,data:d}=i.data,f=r.handlersMap[l];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const g=Array.from(f).map(function(){var b=z(function*(P){return P(i.origin,d)});return function(P){return b.apply(this,arguments)}}()),w=yield function d1(n){return Promise.all(n.map(function(){var e=z(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(g);i.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:w})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Z0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class f1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return z(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((f,g)=>{const w=Z0("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(P){const U=P;if(U.data.eventId===w)switch(U.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(U.data.response);break;default:clearTimeout(b),clearTimeout(l),g(new Error("invalid_response"))}}},i.handlers.add(d),o.port1.addEventListener("message",d.onMessage),i.target.postMessage({eventType:e,eventId:w,data:t},[o.port2])}).finally(()=>{d&&i.removeMessageHandler(d)})})()}}function Pr(){return window}function eC(){return typeof Pr().WorkerGlobalScope<"u"&&"function"==typeof Pr().importScripts}function tC(){return(tC=z(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yv="firebaseLocalStorageDb",rC=1,Xv="firebaseLocalStorage",Rg="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mg(n,e){return n.transaction([Xv],e?"readwrite":"readonly").objectStore(Xv)}function Jv(){const n=indexedDB.open(Yv,rC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xv,{keyPath:Rg})}catch(i){t(i)}}),n.addEventListener("success",z(function*(){const r=n.result;r.objectStoreNames.contains(Xv)?e(r):(r.close(),yield function g1(){const n=indexedDB.deleteDatabase(Yv);return new Bc(n).toPromise()}(),e(yield Jv()))}))})}function iC(n,e,t){return Zv.apply(this,arguments)}function Zv(){return(Zv=z(function*(n,e,t){const r=Mg(n,!0).put({[Rg]:e,value:t});return new Bc(r).toPromise()})).apply(this,arguments)}function eE(){return(eE=z(function*(n,e){const t=Mg(n,!1).get(e),r=yield new Bc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function GR(n,e){const t=Mg(n,!0).delete(e);return new Bc(t).toPromise()}const WR=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return z(function*(){return t.db||(t.db=yield Jv()),t.db})()}_withRetries(t){var r=this;return z(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return z(function*(){return eC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return z(function*(){t.receiver=h1._getInstance(function Ag(){return eC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=z(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=z(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return z(function*(){var r,i;if(t.activeServiceWorker=yield function Sg(){return tC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new f1(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return z(function*(){if(r.sender&&r.activeServiceWorker&&function nC(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return z(function*(){try{if(!indexedDB)return!1;const t=yield Jv();return yield iC(t,af,"1"),yield GR(t,af),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return z(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return z(function*(){return i._withPendingWrite(z(function*(){return yield i._withRetries(o=>iC(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return z(function*(){const i=yield r._withRetries(o=>function xg(n,e){return eE.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return z(function*(){return r._withPendingWrite(z(function*(){return yield r._withRetries(i=>GR(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return z(function*(){const r=yield t._withRetries(l=>{const d=Mg(l,!1).getAll();return new Bc(d).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:l,value:d}of r)o.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(d)&&(t.notifyListeners(l,d),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!o.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(z(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();T0("rcb"),new hl(3e4,6e4);class lC extends P0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ya(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nM(n){return $0(n.auth,new lC(n),n.bypassAuthState)}function rM(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),gg(t,new lC(n),n.bypassAuthState)}function iM(n){return aE.apply(this,arguments)}function aE(){return(aE=z(function*(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),kv(t,new lC(n),n.bypassAuthState)})).apply(this,arguments)}class cC{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=z(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return z(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:l,error:d,type:f}=e;if(d)return void t.reject(d);const g={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(f)(g))}catch(w){t.reject(w)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nM;case"linkViaPopup":case"linkViaRedirect":return iM;case"reauthViaPopup":case"reauthViaRedirect":return rM;default:Ai(this.auth,"internal-error")}}resolve(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new hl(2e3,1e4);const fC="pendingRedirect",Vc=new Map;class pC extends cC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return z(function*(){let r=Vc.get(t.auth._key());if(!r){try{const o=(yield function Fg(n,e){return $c.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Vc.set(t.auth._key(),r)}return t.bypassAuthState||Vc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return z(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return z(function*(){})()}cleanUp(){}}function $c(){return($c=z(function*(n,e){const t=function lM(n){return av(fC,n.config.apiKey,n.name)}(e),r=function uM(n){return _a(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function aM(n,e){Vc.set(n._key(),e)}function _C(n,e){return dE.apply(this,arguments)}function dE(){return(dE=z(function*(n,e,t=!1){const r=jr(n),i=function yl(n,e){return e?_a(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new pC(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class fE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function pE(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vC(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ro(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ug(e))}saveEventToCache(e){this.cachedEventUids.add(Ug(e)),this.lastProcessedEventTime=Date.now()}}function Ug(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vC({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Hc(){return(Hc=z(function*(n,e={}){return Xn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const S1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A1=/^https?/;function EC(){return EC=z(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function gE(n){return Hc.apply(this,arguments)}(n);for(const t of e)try{if(wC(t))return}catch{}Ai(n,"unauthorized-domain")}),EC.apply(this,arguments)}function wC(n){const e=so(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!A1.test(t))return!1;if(S1.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hM=new hl(3e4,6e4);function IC(){const n=Pr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Bg=null;const CC=new hl(5e3,15e3),DC="__/auth/iframe",pM="emulator/auth/iframe",gM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mE(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?l0(e,pM):`https://${n.config.authDomain}/${DC}`,r={apiKey:e.apiKey,appName:n.name,v:Wa},i=bC.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${$u(r).slice(1)}`}function Vg(){return Vg=z(function*(n){const e=yield function TC(n){return Bg=Bg||function fM(n){return new Promise((e,t)=>{var r,i,o;function l(){IC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IC(),t(ro(n,"network-request-failed"))},timeout:hM.get()})}if(null!==(i=null===(r=Pr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Pr().gapi)||void 0===o||!o.load){const d=T0("iframefcb");return Pr()[d]=()=>{gapi.load?l():t(ro(n,"network-request-failed"))},Hh(`https://apis.google.com/js/api.js?onload=${d}`).catch(f=>t(f))}l()}}).catch(e=>{throw Bg=null,e})}(n),Bg}(n),t=Pr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:mE(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gM,dontclear:!0},r=>new Promise(function(){var i=z(function*(o,l){yield r.restyle({setHideOnLeave:!1});const d=ro(n,"network-request-failed"),f=Pr().setTimeout(()=>{l(d)},CC.get());function g(){Pr().clearTimeout(f),o(r)}r.ping(g).then(g,()=>{l(d)})});return function(o,l){return i.apply(this,arguments)}}()))}),Vg.apply(this,arguments)}const _E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,_M=600,x1="_blank",P1="http://localhost";class SC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const N1="__/auth/handler",k1="emulator/auth/handler",O1=encodeURIComponent("fac");function EM(n,e,t,r,i,o){return yE.apply(this,arguments)}function yE(){return(yE=z(function*(n,e,t,r,i,o){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wa,eventId:i};if(e instanceof ru){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",$a(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries(o||{}))l[w]=b}if(e instanceof yR){const w=e.getScopes().filter(b=>""!==b);w.length>0&&(l.scopes=w.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const w of Object.keys(d))void 0===d[w]&&delete d[w];const f=yield n._getAppCheckToken(),g=f?`#${O1}=${encodeURIComponent(f)}`:"";return`${function F1({config:n}){return n.emulator?l0(n,k1):`https://${n.authDomain}/${N1}`}(n)}?${$u(d).slice(1)}${g}`})).apply(this,arguments)}const AC="webStorageSupport",U1=class L1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=_C,this._overrideRedirectResult=aM}_openPopup(e,t,r,i){var o=this;return z(function*(){var l;pa(null===(l=o.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const d=yield EM(e,t,r,so(),i);return function yM(n,e,t,r=mM,i=_M){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},_E),{width:r.toString(),height:i.toString(),top:o,left:l}),g=ur().toLowerCase();t&&(d=y0(g)?x1:t),$h(g)&&(e=e||P1,f.scrollbars="yes");const w=Object.entries(f).reduce((P,[U,j])=>`${P}${U}=${j},`,"");if(function WO(n=ur()){var e;return og(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(g)&&"_self"!==d)return function vM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",d),new SC(null);const b=window.open(e||"",d,w);Oe(b,n,"popup-blocked");try{b.focus()}catch{}return new SC(b)}(e,d,Z0())})()}_openRedirect(e,t,r,i){var o=this;return z(function*(){return yield o._originValidation(e),function p1(n){Pr().location.href=n}(yield EM(e,t,r,so(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(pa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return z(function*(){const r=yield function M1(n){return Vg.apply(this,arguments)}(e),i=new fE(e);return r.register("authEvent",o=>(Oe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(AC,{type:AC},i=>{var o;const l=null===(o=i?.[0])||void 0===o?void 0:o[AC];void 0!==l&&t(!!l),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function R1(n){return EC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dv()||lv()||og()}};var p="@firebase/auth",_="0.23.1";class E{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return z(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const V=Vu("authIdTokenMaxAge")||300;let H=null;const J=n=>function(){var e=z(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>V)return;const o=r?.token;H!==o&&(H=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function ye(n=rp()){const e=Ao(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function uR(n,e){const t=Ao(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(kd(t.getOptions(),e??{}))return i;Ai(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:U1,persistence:[WR,c1,zR]}),r=Vu("authTokenSyncURL");if(r){const o=J(r);(function FR(n,e,t){Si(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Uc(n,e,t,r){Si(n).onIdTokenChanged(e,t,r)}(t,l=>o(l))}const i=wr("auth");return i&&function cR(n,e,t){const r=jr(n);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=R0(e),{host:l,port:d}=function dR(n){const e=R0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:M0(r.substr(o.length+1))}}{const[o,l]=r.split(":");return{host:o,port:M0(l)}}}(e);r.config.emulator={url:`${o}//${l}${null===d?"":`:${d}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function x0(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function R(n){Yr(new fn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name}),Oe(!d?.includes(":"),"argument-error",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(n)},g=new S0(r,i,o,f);return function lR(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_a);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new fn("auth-internal",e=>{const t=jr(e.getProvider("auth").getImmediate());return new E(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(p,_,function C(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),pn(p,_,"esm2017")}("Browser");class Be{constructor(e){return e}}class Xe{constructor(){return Lp("auth")}}const De=new k.OlP("angularfire2.auth-instances");function Pn(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Be(r)}}const hr={provide:Xe,deps:[[new k.FiY,De]]},B1={provide:Be,useFactory:function Mt(n,e){const t=Eh("auth",n,e);return t&&new Be(t)},deps:[[new k.FiY,De],Fo]};let cj=(()=>{class n{constructor(){pn("angularfire",vc.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[B1,hr]}),n})();function dj(n,...e){return{ngModule:cj,providers:[{provide:De,useFactory:Pn(n),multi:!0,deps:[k.R0b,k.zs3,wh,Lo,[new k.FiY,cl],...e]}]}}const hj=di(ye,!0),V1="@firebase/database";let IM="";class pj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:$t(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class gj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const j1=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pj(e)}}catch{}return new gj},cf=j1("localStorage"),TM=j1("sessionStorage"),$g=new Ha("@firebase/database"),H1=function(){let n=1;return function(){return n++}}(),z1=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,Ne(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new Yl;t.update(e);const r=t.digest();return Qs.encodeByteArray(r)},vE=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=vE.apply(null,r):e+="object"==typeof r?Bt(r):r,e+=" "}return e};let df=null,G1=!0;const hi=function(...n){if(!0===G1&&(G1=!1,null===df&&!0===TM.get("logging_enabled")&&function(n,e){Ne(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?($g.logLevel=zt.VERBOSE,df=$g.log.bind($g),e&&TM.set("logging_enabled",!0)):"function"==typeof n?df=n:(df=null,TM.remove("logging_enabled"))}(!0)),df){const e=vE.apply(null,n);df(e)}},EE=function(n){return function(...e){hi(n,...e)}},CM=function(...n){const e="FIREBASE INTERNAL ERROR: "+vE(...n);$g.error(e)},ou=function(...n){const e=`FIREBASE FATAL ERROR: ${vE(...n)}`;throw $g.error(e),new Error(e)},Yi=function(...n){const e="FIREBASE WARNING: "+vE(...n);$g.warn(e)},RC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zc="[MIN_NAME]",vl="[MAX_NAME]",hf=function(n,e){if(n===e)return 0;if(n===zc||e===vl)return-1;if(e===zc||n===vl)return 1;{const t=Q1(n),r=Q1(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},yj=function(n,e){return n===e?0:n<e?-1:1},wE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Bt(e))},DM=function(n){if("object"!=typeof n||null===n)return Bt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Bt(e[r]),t+=":",t+=DM(n[e[r]]);return t+="}",t},q1=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function fi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const K1=function(n){Ne(!RC(n),"Invalid JSON number");const r=1023;let i,o,l,d,f;0===n?(o=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=d+r,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,l=Math.round(n/Math.pow(2,-1074))));const g=[];for(f=52;f;f-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(i?1:0),g.reverse();const w=g.join("");let b="";for(f=0;f<64;f+=8){let P=parseInt(w.substr(f,8),2).toString(16);1===P.length&&(P="0"+P),b+=P}return b.toLowerCase()},Ij=new RegExp("^-?(0*)\\d{1,10}$"),Q1=function(n){if(Ij.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},jg=function(n){try{n()}catch(e){setTimeout(()=>{throw Yi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Dj=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},IE=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class bj{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Sj{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(hi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yi(e)}}let TE=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const eF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rF="websocket",iF="long_polling";class SM{constructor(e,t,r,i,o=!1,l="",d=!1,f=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function sF(n,e,t){let r;if(Ne("string"==typeof e,"typeof type must == string"),Ne("object"==typeof t,"typeof params must == object"),e===rF)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==iF)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Aj(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return fi(t,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}class Rj{constructor(){this.counters_={}}incrementCounter(e,t=1){Vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Lu(this.counters_)}}const AM={},RM={};function MM(n){const e=n.toString();return AM[e]||(AM[e]=new Rj),AM[e]}class xj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&jg(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Gc{constructor(e,t,r,i,o,l,d){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=EE(e),this.stats_=MM(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),sF(t,iF,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if(N()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xM((...o)=>{const[l,d,f,g,w]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&eF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gc.forceAllow_=!0}static forceDisallow(){Gc.forceDisallow_=!0}static isAvailable(){return!(N()||!Gc.forceAllow_&&(Gc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Bt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Fu(t),i=q1(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(N())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Bt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class xM{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,N())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=H1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=xM.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){hi("frame writing exception"),d.stack&&hi(d.stack),hi(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||hi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){N()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{hi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let xC=null;typeof MozWebSocket<"u"?xC=MozWebSocket:typeof WebSocket<"u"&&(xC=WebSocket);let Hg=(()=>{class n{constructor(t,r,i,o,l,d,f){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=EE(this.connId),this.stats_=MM(r),this.connURL=n.connectionURL_(r,d,f,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,l){const d={v:"5"};return!N()&&typeof location<"u"&&location.hostname&&eF.test(location.hostname)&&(d.r="f"),r&&(d.s=r),i&&(d.ls=i),o&&(d.ac=o),l&&(d.p=l),sF(t,rF,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cf.set("previous_websocket_failure",!0);try{let i;if(N()){i={headers:{"User-Agent":`Firebase/5/${IM}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(i.proxy={origin:d})}this.mySock=new xC(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==xC&&!n.forceDisallow_}static previouslyFailed(){return cf.isInMemoryStorage||!0===cf.get("previous_websocket_failure")}markConnectionHealthy(){cf.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=$t(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ne(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Bt(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=q1(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),hF=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Gc,Hg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Hg&&Hg.isAvailable();let i=r&&!Hg.previouslyFailed();if(t.webSocketOnly&&(r||Yi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Hg];else{const o=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class vF{constructor(e,t,r,i,o,l,d,f,g,w){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=EE("c:"+this.id+":"),this.transportManager_=new hF(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=IE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=wE("t",e),r=wE("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=wE("t",e),r=wE("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=wE("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?CM("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CM("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Yi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),IE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):IE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class EF{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class wF{constructor(e){this.allowedEvents_=e,this.listeners_={},Ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){Ne(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class PC extends wF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new PC}getInitialEvent(e){return Ne("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const IF=32,TF=768;class yn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function hn(){return new yn("")}function Gt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Wc(n){return n.pieces_.length-n.pieceNum_}function Rn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new yn(n.pieces_,e)}function NM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function CE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function CF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new yn(e,0)}function Zn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof yn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new yn(t,0)}function Wt(n){return n.pieceNum_>=n.pieces_.length}function ys(n,e){const t=Gt(n),r=Gt(e);if(null===t)return e;if(t===r)return ys(Rn(n),Rn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function kM(n,e){if(Wc(n)!==Wc(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Bo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Wc(n)>Wc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class eH{constructor(e,t){this.errorPrefix_=t,this.parts_=CE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xs(this.parts_[r]);DF(this)}}function DF(n){if(n.byteLength_>TF)throw new Error(n.errorPrefix_+"has a key path longer than "+TF+" bytes ("+n.byteLength_+").");if(n.parts_.length>IF)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+IF+") or object contains a cycle "+ff(n))}function ff(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class OM extends wF{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new OM}getInitialEvent(e){return Ne("visible"===e,"Unknown event type: "+e),[this.visible_]}}const DE=1e3;let kC,pf=(()=>{class n extends EF{constructor(t,r,i,o,l,d,f,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=EE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=DE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!N())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OM.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&PC.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,l={r:o,a:t,b:r};this.log_(Bt(l)),Ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new Zo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const f=d.d;"ok"===d.s?r.resolve(f):r.reject(f)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,o){this.initConnection_();const l=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),Ne(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ne(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(d).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,f=>{const g=f.d,w=f.s;n.warnOnListenWarnings_(g,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",f),"ok"!==w&&this.removeListen_(i,o),t.onComplete&&t.onComplete(w,g))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Vr(t,"w")){const i=Ci(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();Yi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Ir(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=Ir(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const l=o.s,d=o.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Ne(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const l={p:t};o&&(l.q=i,l.t=o),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,l){this.initConnection_();const d={p:r,d:i};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Bt(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):CM("Unrecognized action received from server: "+Bt(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=DE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=DE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=DE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return z(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,g=null;const w=function(){g?g.close():(f=!0,o())};t.realtime_={close:w,sendRequest:function(U){Ne(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(U)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[U,j]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);f?hi("getToken() completed but was canceled"):(hi("getToken() completed. Creating connection."),t.authToken_=U&&U.accessToken,t.appCheckToken_=j&&j.token,g=new vF(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,Y=>{Yi(Y+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(U){t.log_("Failed to get token: "+U),f||(t.repoInfo_.nodeAdmin&&Yi(U),w())}}})()}interrupt(t){hi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){hi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],$a(this.interruptReasons_)&&(this.reconnectDelay_=DE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>DM(l)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new yn(t).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){hi("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){hi("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";N()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+IM.replace(/\./g,"-")]=1,Kl()?t["framework.cordova"]=1:ta()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=PC.getInstance().currentlyOnline();return $a(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Kt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Kt(e,t)}}class NC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Kt(zc,e),i=new Kt(zc,t);return 0!==this.compare(r,i)}minPost(){return Kt.MIN}}class AF extends NC{static get __EMPTY_NODE(){return kC}static set __EMPTY_NODE(e){kC=e}compare(e,t){return hf(e.name,t.name)}isDefinedOn(e){throw Ks("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(vl,kC)}makePost(e,t){return Ne("string"==typeof e,"KeyIndex indexValue must always be a string."),new Kt(e,kC)}toString(){return".key"}}const au=new AF;class OC{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let LM,Ea=(()=>{class n{constructor(t,r,i,o,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??Os.EMPTY_NODE,this.right=l??Os.EMPTY_NODE}copy(t,r,i,o,l){return new n(t??this.key,r??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const l=i(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===l?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Os.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Os.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Os{constructor(e,t=Os.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Os(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ea.BLACK,null,null))}remove(e){return new Os(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ea.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new OC(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new OC(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new OC(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new OC(this.root_,null,this.comparator_,!0,e)}}function uH(n,e){return hf(n.name,e.name)}function FM(n,e){return hf(n,e)}Os.EMPTY_NODE=new class aH{copy(e,t,r,i,o){return this}insert(e,t,r){return new Ea(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const RF=function(n){return"number"==typeof n?"number:"+K1(n):"string:"+n},MF=function(n){if(n.isLeafNode()){const e=n.val();Ne("string"==typeof e||"number"==typeof e||"object"==typeof e&&Vr(e,".sv"),"Priority must be a string or number.")}else Ne(n===LM||n.isEmpty(),"priority of unexpected type.");Ne(n===LM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xF,PF,NF,zg=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Ne(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),MF(this.priorityNode_)}static set __childrenNodeConstructor(t){xF=t}static get __childrenNodeConstructor(){return xF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Wt(t)?this:".priority"===Gt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Gt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(Ne(".priority"!==i||1===Wc(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+RF(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?K1(this.value_):this.value_,this.lazyHash_=z1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Ne(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return Ne(o>=0,"Unknown leaf type: "+r),Ne(l>=0,"Unknown leaf type: "+i),o===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Nn=new class hH extends NC{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?hf(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(vl,new zg("[PRIORITY-POST]",NF))}makePost(e,t){const r=PF(e);return new Kt(t,new zg("[PRIORITY-POST]",r))}toString(){return".priority"}},fH=Math.log(2);class pH{constructor(e){this.count=parseInt(Math.log(e+1)/fH,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const FC=function(n,e,t,r){n.sort(e);const i=function(f,g){const w=g-f;let b,P;if(0===w)return null;if(1===w)return b=n[f],P=t?t(b):b,new Ea(P,b.node,Ea.BLACK,null,null);{const U=parseInt(w/2,10)+f,j=i(f,U),Y=i(U+1,g);return b=n[U],P=t?t(b):b,new Ea(P,b.node,Ea.BLACK,j,Y)}},d=function(f){let g=null,w=null,b=n.length;const P=function(j,Y){const oe=b-j,Ae=b;b-=j;const je=i(oe+1,Ae),ke=n[oe],_t=t?t(ke):ke;U(new Ea(_t,ke.node,Y,null,je))},U=function(j){g?(g.left=j,g=j):(w=j,g=j)};for(let j=0;j<f.count;++j){const Y=f.nextBitIsOne(),oe=Math.pow(2,f.count-(j+1));Y?P(oe,Ea.BLACK):(P(oe,Ea.BLACK),P(oe,Ea.RED))}return w}(new pH(n.length));return new Os(r||e,d)};let UM;const Gg={};class El{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ne(Gg&&Nn,"ChildrenNode.ts has not been loaded"),UM=UM||new El({".priority":Gg},{".priority":Nn}),UM}get(e){const t=Ci(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Os?t:null}hasIndex(e){return Vr(this.indexSet_,e.toString())}addIndex(e,t){Ne(e!==au,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(Kt.Wrap);let d,l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();d=i?FC(r,e.getCompare()):Gg;const f=e.toString(),g=Object.assign({},this.indexSet_);g[f]=e;const w=Object.assign({},this.indexes_);return w[f]=d,new El(w,g)}addToIndexes(e,t){const r=na(this.indexes_,(i,o)=>{const l=Ci(this.indexSet_,o);if(Ne(l,"Missing index implementation for "+o),i===Gg){if(l.isDefinedOn(e.node)){const d=[],f=t.getIterator(Kt.Wrap);let g=f.getNext();for(;g;)g.name!==e.name&&d.push(g),g=f.getNext();return d.push(e),FC(d,l.getCompare())}return Gg}{const d=t.get(e.name);let f=i;return d&&(f=f.remove(new Kt(e.name,d))),f.insert(e,e.node)}});return new El(r,this.indexSet_)}removeFromIndexes(e,t){const r=na(this.indexes_,i=>{if(i===Gg)return i;{const o=t.get(e.name);return o?i.remove(new Kt(e.name,o)):i}});return new El(r,this.indexSet_)}}let bE,Ft=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&MF(this.priorityNode_),this.children_.isEmpty()&&Ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bE||(bE=new n(new Os(FM),null,El.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?bE:r}}getChild(t){const r=Gt(t);return null===r?this:this.getImmediateChild(r).getChild(Rn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(Ne(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Kt(t,r);let o,l;r.isEmpty()?(o=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const d=o.isEmpty()?bE:this.priorityNode_;return new n(o,d,l)}}updateChild(t,r){const i=Gt(t);if(null===i)return r;{Ne(".priority"!==Gt(t)||1===Wc(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Rn(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,l=!0;if(this.forEachChild(Nn,(d,f)=>{r[d]=f.val(t),i++,l&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):l=!1}),!t&&l&&o<2*i){const d=[];for(const f in r)d[f]=r[f];return d}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+RF(this.getPriority().val())+":"),this.forEachChild(Nn,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":z1(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new Kt(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Kt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Kt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Kt.Wrap);let l=o.peek();for(;null!=l&&r.compare(l,t)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Kt.Wrap);let l=o.peek();for(;null!=l&&r.compare(l,t)>0;)o.getNext(),l=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===SE?-1:0}withIndex(t){if(t===au||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===au||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Nn),o=r.getIterator(Nn);let l=i.getNext(),d=o.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=i.getNext(),d=o.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(t){return t===au?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const SE=new class gH extends Ft{constructor(){super(new Os(FM),Ft.EMPTY_NODE,El.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Kt,{MIN:{value:new Kt(zc,Ft.EMPTY_NODE)},MAX:{value:new Kt(vl,SE)}}),AF.__EMPTY_NODE=Ft.EMPTY_NODE,zg.__childrenNodeConstructor=Ft,function lH(n){LM=n}(SE),function dH(n){NF=n}(SE);const mH=!0;function fr(n,e=null){if(null===n)return Ft.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),Ne(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new zg(n,fr(e));if(n instanceof Array||!mH){let t=Ft.EMPTY_NODE;return fi(n,(r,i)=>{if(Vr(n,r)&&"."!==r.substring(0,1)){const o=fr(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(fr(e))}{const t=[];let r=!1;if(fi(n,(l,d)=>{if("."!==l.substring(0,1)){const f=fr(d);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),t.push(new Kt(l,f)))}}),0===t.length)return Ft.EMPTY_NODE;const o=FC(t,uH,l=>l.name,FM);if(r){const l=FC(t,Nn.getCompare());return new Ft(o,fr(e),new El({".priority":l},{".priority":Nn}))}return new Ft(o,fr(e),El.Default)}}!function cH(n){PF=n}(fr);class BM extends NC{constructor(e){super(),this.indexPath_=e,Ne(!Wt(e)&&".priority"!==Gt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return 0===o?hf(e.name,t.name):o}makePost(e,t){const r=fr(e),i=Ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new Kt(t,i)}maxPost(){const e=Ft.EMPTY_NODE.updateChild(this.indexPath_,SE);return new Kt(vl,e)}toString(){return CE(this.indexPath_,0).join("/")}}const VM=new class _H extends NC{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?hf(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(e,t){const r=fr(e);return new Kt(t,r)}toString(){return".value"}};function RE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class jM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nn}copy(){const e=new jM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OF(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Nn?t="$priority":n.index_===VM?t="$value":n.index_===au?t="$key":(Ne(n.index_ instanceof BM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Bt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Bt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Bt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Bt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Bt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function FF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Nn&&(e.i=n.index_.toString()),e}class UC extends EF{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=EE("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=UC.getListenId_(e,r),d={};this.listens_[l]=d;const f=OF(e._queryParams);this.restRequest_(o+".json",f,(g,w)=>{let b=w;if(404===g&&(b=null,g=null),null===g&&this.onDataUpdate_(o,b,!1,r),Ci(this.listens_,l)===d){let P;P=g?401===g?"permission_denied":"rest_error:"+g:"ok",i(P,null)}})}unlisten(e,t){const r=UC.getListenId_(e,t);delete this.listens_[r]}get(e){const t=OF(e._queryParams),r=e._path.toString(),i=new Zo;return this.restRequest_(r+".json",t,(o,l)=>{let d=l;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(r,d,!1,null),i.resolve(d)):i.reject(new Error(d))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$u(t);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=$t(d.responseText)}catch{Yi("Failed to parse JSON response for "+l+": "+d.responseText)}r(null,f)}else 401!==d.status&&404!==d.status&&Yi("Got unsuccessful REST response for "+l+" Status: "+d.status),r(d.status);r=null}},d.open("GET",l,!0),d.send()})}}class DH{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function BC(){return{value:null,children:new Map}}function qg(n,e,t){if(Wt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Gt(e);n.children.has(r)||n.children.set(r,BC()),qg(n.children.get(r),e=Rn(e),t)}}function WM(n,e,t){null!==n.value?t(e,n.value):function bH(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{WM(i,new yn(e.toString()+"/"+r),t)})}class SH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&fi(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class MH{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new SH(e);const r=1e4+2e4*Math.random();IE(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;fi(e,(i,o)=>{o>0&&Vr(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),IE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vo=(()=>{return(n=Vo||(Vo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Vo;var n})();function QM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class VC{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Vo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Wt(this.path)){if(null!=this.affectedTree.value)return Ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yn(e));return new VC(hn(),t,this.revert)}}return Ne(Gt(this.path)===e,"operationForChild called for unrelated child."),new VC(Rn(this.path),this.affectedTree,this.revert)}}class gf{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Vo.OVERWRITE}operationForChild(e){return Wt(this.path)?new gf(this.source,hn(),this.snap.getImmediateChild(e)):new gf(this.source,Rn(this.path),this.snap)}}class Kg{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Vo.MERGE}operationForChild(e){if(Wt(this.path)){const t=this.children.subtree(new yn(e));return t.isEmpty()?null:t.value?new gf(this.source,hn(),t.value):new Kg(this.source,hn(),t)}return Ne(Gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kg(this.source,Rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Wt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Gt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function PE(n,e,t,r,i,o){const l=r.filter(d=>d.type===t);l.sort((d,f)=>function kH(n,e,t){if(null==e.childName||null==t.childName)throw Ks("Should only compare child_ events.");const r=new Kt(e.childName,e.snapshotNode),i=new Kt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,d,f)),l.forEach(d=>{const f=function NH(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,o);i.forEach(g=>{g.respondsTo(d.type)&&e.push(g.createEvent(f,n.query_))})})}function $C(n,e){return{eventCache:n,serverCache:e}}function NE(n,e,t,r){return $C(new qc(e,t,r),n.serverCache)}function UF(n,e,t,r){return $C(n.eventCache,new qc(e,t,r))}function jC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function mf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let YM;class kn{constructor(e,t=(()=>(YM||(YM=new Os(yj)),YM))()){this.value=e,this.children=t}static fromObject(e){let t=new kn(null);return fi(e,(r,i)=>{t=t.set(new yn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:hn(),value:this.value};if(Wt(e))return null;{const r=Gt(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Rn(e),t);return null!=o?{path:Zn(new yn(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Wt(e))return this;{const t=Gt(e),r=this.children.get(t);return null!==r?r.subtree(Rn(e)):new kn(null)}}set(e,t){if(Wt(e))return new kn(t,this.children);{const r=Gt(e),o=(this.children.get(r)||new kn(null)).set(Rn(e),t),l=this.children.insert(r,o);return new kn(this.value,l)}}remove(e){if(Wt(e))return this.children.isEmpty()?new kn(null):new kn(null,this.children);{const t=Gt(e),r=this.children.get(t);if(r){const i=r.remove(Rn(e));let o;return o=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&o.isEmpty()?new kn(null):new kn(this.value,o)}return this}}get(e){if(Wt(e))return this.value;{const t=Gt(e),r=this.children.get(t);return r?r.get(Rn(e)):null}}setTree(e,t){if(Wt(e))return t;{const r=Gt(e),o=(this.children.get(r)||new kn(null)).setTree(Rn(e),t);let l;return l=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new kn(this.value,l)}}fold(e){return this.fold_(hn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Zn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,hn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Wt(e))return null;{const o=Gt(e),l=this.children.get(o);return l?l.findOnPath_(Rn(e),Zn(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,hn(),t)}foreachOnPath_(e,t,r){if(Wt(e))return this;{this.value&&r(t,this.value);const i=Gt(e),o=this.children.get(i);return o?o.foreachOnPath_(Rn(e),Zn(t,i),r):new kn(null)}}foreach(e){this.foreach_(hn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Zn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class wa{constructor(e){this.writeTree_=e}static empty(){return new wa(new kn(null))}}function kE(n,e,t){if(Wt(e))return new wa(new kn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const l=ys(i,e);return o=o.updateChild(l,t),new wa(n.writeTree_.set(i,o))}{const i=new kn(t),o=n.writeTree_.setTree(e,i);return new wa(o)}}}function XM(n,e,t){let r=n;return fi(t,(i,o)=>{r=kE(r,Zn(e,i),o)}),r}function BF(n,e){if(Wt(e))return wa.empty();{const t=n.writeTree_.setTree(e,new kn(null));return new wa(t)}}function JM(n,e){return null!=_f(n,e)}function _f(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ys(t.path,e)):null}function VF(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Nn,(r,i)=>{e.push(new Kt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Kt(r,i.value))}),e}function Kc(n,e){if(Wt(e))return n;{const t=_f(n,e);return new wa(null!=t?new kn(t):n.writeTree_.subtree(e))}}function ZM(n){return n.writeTree_.isEmpty()}function Qg(n,e){return $F(hn(),n.writeTree_,e)}function $F(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(Ne(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=$F(Zn(n,i),o,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Zn(n,".priority"),r)),t}}function HC(n,e){return WF(e,n)}function VH(n,e){if(n.snap)return Bo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Bo(Zn(n.path,t),e))return!0;return!1}function jH(n){return n.visible}function jF(n,e,t){let r=wa.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const l=o.path;let d;if(o.snap)Bo(t,l)?(d=ys(t,l),r=kE(r,d,o.snap)):Bo(l,t)&&(d=ys(l,t),r=kE(r,hn(),o.snap.getChild(d)));else{if(!o.children)throw Ks("WriteRecord should have .snap or .children");if(Bo(t,l))d=ys(t,l),r=XM(r,d,o.children);else if(Bo(l,t))if(d=ys(l,t),Wt(d))r=XM(r,hn(),o.children);else{const f=Ci(o.children,Gt(d));if(f){const g=f.getChild(Rn(d));r=kE(r,hn(),g)}}}}}return r}function HF(n,e,t,r,i){if(r||i){const o=Kc(n.visibleWrites,e);return!i&&ZM(o)?t:i||null!=t||JM(o,hn())?Qg(jF(n.allWrites,function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Bo(g.path,e)||Bo(e,g.path))},e),t||Ft.EMPTY_NODE):null}{const o=_f(n.visibleWrites,e);if(null!=o)return o;{const l=Kc(n.visibleWrites,e);return ZM(l)?t:null!=t||JM(l,hn())?Qg(l,t||Ft.EMPTY_NODE):null}}}function zC(n,e,t,r){return HF(n.writeTree,n.treePath,e,t,r)}function ex(n,e){return function HH(n,e,t){let r=Ft.EMPTY_NODE;const i=_f(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Nn,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(t){const o=Kc(n.visibleWrites,e);return t.forEachChild(Nn,(l,d)=>{const f=Qg(Kc(o,new yn(l)),d);r=r.updateImmediateChild(l,f)}),VF(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return VF(Kc(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function zF(n,e,t,r){return function zH(n,e,t,r,i){Ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Zn(e,t);if(JM(n.visibleWrites,o))return null;{const l=Kc(n.visibleWrites,o);return ZM(l)?i.getChild(t):Qg(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function GC(n,e){return function WH(n,e){return _f(n.visibleWrites,e)}(n.writeTree,Zn(n.treePath,e))}function tx(n,e,t){return function GH(n,e,t,r){const i=Zn(e,t),o=_f(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(t)?Qg(Kc(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function GF(n,e){return WF(Zn(n.treePath,e),n.writeTree)}function WF(n,e){return{treePath:n,writeTree:e}}class YH{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Ne("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ne(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,RE(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,function AE(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,function Wg(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Ks("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,RE(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const qF=new class XH{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class nx{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new qc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tx(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mf(this.viewCache_),o=function QH(n,e,t,r,i,o){return function qH(n,e,t,r,i,o,l){let d;const f=Kc(n.visibleWrites,e),g=_f(f,hn());if(null!=g)d=g;else{if(null==t)return[];d=Qg(f,t)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const w=[],b=l.getCompare(),P=o?d.getReverseIteratorFrom(r,l):d.getIteratorFrom(r,l);let U=P.getNext();for(;U&&w.length<i;)0!==b(U,r)&&w.push(U),U=P.getNext();return w}}(n.writeTree,n.treePath,e,t,r,i,o)}(this.writes_,i,t,1,r,e);return 0===o.length?null:o[0]}}function KF(n,e,t,r,i,o){const l=e.eventCache;if(null!=GC(r,t))return e;{let d,f;if(Wt(t))if(Ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=mf(e),b=ex(r,g instanceof Ft?g:Ft.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),b,o)}else{const g=zC(r,mf(e));d=n.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{const g=Gt(t);if(".priority"===g){Ne(1===Wc(t),"Can't have a priority with additional path components");const w=l.getNode();f=e.serverCache.getNode();const b=zF(r,t,w,f);d=null!=b?n.filter.updatePriority(w,b):l.getNode()}else{const w=Rn(t);let b;if(l.isCompleteForChild(g)){f=e.serverCache.getNode();const P=zF(r,t,l.getNode(),f);b=null!=P?l.getNode().getImmediateChild(g).updateChild(w,P):l.getNode().getImmediateChild(g)}else b=tx(r,g,e.serverCache);d=null!=b?n.filter.updateChild(l.getNode(),g,b,w,i,o):l.getNode()}}return NE(e,d,l.isFullyInitialized()||Wt(t),n.filter.filtersNodes())}}function WC(n,e,t,r,i,o,l,d){const f=e.serverCache;let g;const w=l?n.filter:n.filter.getIndexedFilter();if(Wt(t))g=w.updateFullNode(f.getNode(),r,null);else if(w.filtersNodes()&&!f.isFiltered()){const U=f.getNode().updateChild(t,r);g=w.updateFullNode(f.getNode(),U,null)}else{const U=Gt(t);if(!f.isCompleteForPath(t)&&Wc(t)>1)return e;const j=Rn(t),oe=f.getNode().getImmediateChild(U).updateChild(j,r);g=".priority"===U?w.updatePriority(f.getNode(),oe):w.updateChild(f.getNode(),U,oe,j,qF,null)}const b=UF(e,g,f.isFullyInitialized()||Wt(t),w.filtersNodes());return KF(n,b,t,i,new nx(i,b,o),d)}function rx(n,e,t,r,i,o,l){const d=e.eventCache;let f,g;const w=new nx(i,e,o);if(Wt(t))g=n.filter.updateFullNode(e.eventCache.getNode(),r,l),f=NE(e,g,!0,n.filter.filtersNodes());else{const b=Gt(t);if(".priority"===b)g=n.filter.updatePriority(e.eventCache.getNode(),r),f=NE(e,g,d.isFullyInitialized(),d.isFiltered());else{const P=Rn(t),U=d.getNode().getImmediateChild(b);let j;if(Wt(P))j=r;else{const Y=w.getCompleteChild(b);j=null!=Y?".priority"===NM(P)&&Y.getChild(CF(P)).isEmpty()?Y:Y.updateChild(P,r):Ft.EMPTY_NODE}f=U.equals(j)?e:NE(e,n.filter.updateChild(d.getNode(),b,j,P,w,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function QF(n,e){return n.eventCache.isCompleteForChild(e)}function YF(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ix(n,e,t,r,i,o,l,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,f=e;g=Wt(t)?r:new kn(null).setTree(t,r);const w=e.serverCache.getNode();return g.children.inorderTraversal((b,P)=>{if(w.hasChild(b)){const j=YF(0,e.serverCache.getNode().getImmediateChild(b),P);f=WC(n,f,new yn(b),j,i,o,l,d)}}),g.children.inorderTraversal((b,P)=>{const U=!e.serverCache.isCompleteForChild(b)&&null===P.value;if(!w.hasChild(b)&&!U){const Y=YF(0,e.serverCache.getNode().getImmediateChild(b),P);f=WC(n,f,new yn(b),Y,i,o,l,d)}}),f}function lz(n,e){const t=mf(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Wt(e)&&!t.getImmediateChild(Gt(e)).isEmpty())?t.getChild(e):null}function ZF(n,e,t,r){e.type===Vo.MERGE&&null!==e.source.queryId&&(Ne(mf(n.viewCache_),"We should always have a full cache before handling merges"),Ne(jC(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function ez(n,e,t,r,i){const o=new YH;let l,d;if(t.type===Vo.OVERWRITE){const g=t;g.source.fromUser?l=rx(n,e,g.path,g.snap,r,i,o):(Ne(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered()&&!Wt(g.path),l=WC(n,e,g.path,g.snap,r,i,d,o))}else if(t.type===Vo.MERGE){const g=t;g.source.fromUser?l=function nz(n,e,t,r,i,o,l){let d=e;return r.foreach((f,g)=>{const w=Zn(t,f);QF(e,Gt(w))&&(d=rx(n,d,w,g,i,o,l))}),r.foreach((f,g)=>{const w=Zn(t,f);QF(e,Gt(w))||(d=rx(n,d,w,g,i,o,l))}),d}(n,e,g.path,g.children,r,i,o):(Ne(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered(),l=ix(n,e,g.path,g.children,r,i,d,o))}else if(t.type===Vo.ACK_USER_WRITE){const g=t;l=g.revert?function sz(n,e,t,r,i,o){let l;if(null!=GC(r,t))return e;{const d=new nx(r,e,i),f=e.eventCache.getNode();let g;if(Wt(t)||".priority"===Gt(t)){let w;if(e.serverCache.isFullyInitialized())w=zC(r,mf(e));else{const b=e.serverCache.getNode();Ne(b instanceof Ft,"serverChildren would be complete if leaf node"),w=ex(r,b)}g=n.filter.updateFullNode(f,w,o)}else{const w=Gt(t);let b=tx(r,w,e.serverCache);null==b&&e.serverCache.isCompleteForChild(w)&&(b=f.getImmediateChild(w)),g=null!=b?n.filter.updateChild(f,w,b,Rn(t),d,o):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(f,w,Ft.EMPTY_NODE,Rn(t),d,o):f,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=zC(r,mf(e)),l.isLeafNode()&&(g=n.filter.updateFullNode(g,l,o)))}return l=e.serverCache.isFullyInitialized()||null!=GC(r,hn()),NE(e,g,l,n.filter.filtersNodes())}}(n,e,g.path,r,i,o):function rz(n,e,t,r,i,o,l){if(null!=GC(i,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=r.value){if(Wt(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return WC(n,e,t,f.getNode().getChild(t),i,o,d,l);if(Wt(t)){let g=new kn(null);return f.getNode().forEachChild(au,(w,b)=>{g=g.set(new yn(w),b)}),ix(n,e,t,g,i,o,d,l)}return e}{let g=new kn(null);return r.foreach((w,b)=>{const P=Zn(t,w);f.isCompleteForPath(P)&&(g=g.set(w,f.getNode().getChild(P)))}),ix(n,e,t,g,i,o,d,l)}}(n,e,g.path,g.affectedTree,r,i,o)}else{if(t.type!==Vo.LISTEN_COMPLETE)throw Ks("Unknown operation type: "+t.type);l=function iz(n,e,t,r,i){const o=e.serverCache;return KF(n,UF(e,o.getNode(),o.isFullyInitialized()||Wt(t),o.isFiltered()),t,r,qF,i)}(n,e,t.path,r,o)}const f=o.getChanges();return function tz(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jC(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(function kF(n){return{type:"value",snapshotNode:n}}(jC(e)))}}(e,l,f),{viewCache:l,changes:f}}(n.processor_,i,e,t,r);return function ZH(n,e){Ne(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ne(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),Ne(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function eL(n,e,t,r){return function PH(n,e,t,r){const i=[],o=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function yH(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),PE(n,i,"child_removed",e,r,t),PE(n,i,"child_added",e,r,t),PE(n,i,"child_moved",o,r,t),PE(n,i,"child_changed",e,r,t),PE(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let qC,QC;function sx(n,e,t,r){const i=e.source.queryId;if(null!==i){const o=n.views.get(i);return Ne(null!=o,"SyncTree gave us an op for an invalid query."),ZF(o,e,t,r)}{let o=[];for(const l of n.views.values())o=o.concat(ZF(l,e,t,r));return o}}function Qc(n,e){let t=null;for(const r of n.views.values())t=t||lz(r,e);return t}class oL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new kn(null),this.pendingWriteTree_=function KH(){return{visibleWrites:wa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ox(n,e,t,r,i){return function FH(n,e,t,r,i){Ne(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=kE(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Yg(n,new gf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Xc(n,e,t=!1){const r=function UH(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function BH(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);Ne(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=t&&VH(d,r.path)?i=!1:Bo(r.path,d.path)&&(o=!0)),l--}return!!i&&(o?(function $H(n){n.visibleWrites=jF(n.allWrites,jH,hn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=BF(n.visibleWrites,r.path):fi(r.children,f=>{n.visibleWrites=BF(n.visibleWrites,Zn(r.path,f))}),!0))}(n.pendingWriteTree_,e)){let o=new kn(null);return null!=r.snap?o=o.set(hn(),!0):fi(r.children,l=>{o=o.set(new yn(l),!0)}),Yg(n,new VC(r.path,o,t))}return[]}function OE(n,e,t){return Yg(n,new gf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function XC(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,d)=>{const g=Qc(d,ys(l,e));if(g)return g});return HF(i,e,o,t,!0)}function Yg(n,e){return uL(e,n.syncPointTree_,null,HC(n.pendingWriteTree_,hn()))}function uL(n,e,t,r){if(Wt(n.path))return lL(n,e,t,r);{const i=e.get(hn());null==t&&null!=i&&(t=Qc(i,hn()));let o=[];const l=Gt(n.path),d=n.operationForChild(l),f=e.children.get(l);if(f&&d){const g=t?t.getImmediateChild(l):null,w=GF(r,l);o=o.concat(uL(d,f,g,w))}return i&&(o=o.concat(sx(i,n,r,t))),o}}function lL(n,e,t,r){const i=e.get(hn());null==t&&null!=i&&(t=Qc(i,hn()));let o=[];return e.children.inorderTraversal((l,d)=>{const f=t?t.getImmediateChild(l):null,g=GF(r,l),w=n.operationForChild(l);w&&(o=o.concat(lL(w,d,f,g)))}),i&&(o=o.concat(sx(i,n,r,t))),o}function ux(n,e){return n.tagToQueryMap.get(e)}function lx(n){const e=n.indexOf("$");return Ne(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new yn(n.substr(0,e))}}function cx(n,e,t){const r=n.syncPointTree_.get(e);return Ne(r,"Missing sync point for query tag that we're tracking"),sx(r,t,HC(n.pendingWriteTree_,e),null)}class dx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dx(t)}node(){return this.node_}}class hx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zn(this.path_,e);return new hx(this.syncTree_,t)}node(){return XC(this.syncTree_,this.path_)}}const Mz=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},dL=function(n,e,t){return n&&"object"==typeof n?(Ne(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xz(n[".sv"],e,t):"object"==typeof n[".sv"]?Pz(n[".sv"],e):void Ne(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xz=function(n,e,t){if("timestamp"===n)return t.timestamp;Ne(!1,"Unexpected server value: "+n)},Pz=function(n,e,t){n.hasOwnProperty("increment")||Ne(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&Ne(!1,"Unexpected increment value: "+r);const i=e.node();if(Ne(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},hL=function(n,e,t,r){return px(e,new hx(t,n),r)},fx=function(n,e,t){return px(n,new dx(e),t)};function px(n,e,t){const r=n.getPriority().val(),i=dL(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,d=dL(l.getValue(),e,t);return d!==l.getValue()||i!==l.getPriority().val()?new zg(d,fr(i)):n}{const l=n;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new zg(i))),l.forEachChild(Nn,(d,f)=>{const g=px(f,e.getImmediateChild(d),t);g!==f&&(o=o.updateImmediateChild(d,g))}),o}}class gx{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ZC(n,e){let t=e instanceof yn?e:new yn(e),r=n,i=Gt(t);for(;null!==i;){const o=Ci(r.node.children,i)||{children:{},childCount:0};r=new gx(i,r,o),t=Rn(t),i=Gt(t)}return r}function yf(n){return n.node.value}function mx(n,e){n.node.value=e,_x(n)}function fL(n){return n.node.childCount>0}function eD(n,e){fi(n.node.children,(t,r)=>{e(new gx(t,n,r))})}function pL(n,e,t,r){t&&!r&&e(n),eD(n,i=>{pL(i,e,!0,r)}),t&&r&&e(n)}function UE(n){return new yn(null===n.parent?n.name:UE(n.parent)+"/"+n.name)}function _x(n){null!==n.parent&&function Oz(n,e,t){const r=function Nz(n){return void 0===yf(n)&&!fL(n)}(t),i=Vr(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,_x(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,_x(n))}(n.parent,n.name,n)}const Fz=/[\[\].#$\/\u0000-\u001F\u007F]/,Lz=/[\[\].#$\u0000-\u001F\u007F]/,yx=10485760,tD=function(n){return"string"==typeof n&&0!==n.length&&!Fz.test(n)},VE=function(n,e,t){const r=t instanceof yn?new eH(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ff(r));if("function"==typeof e)throw new Error(n+"contains a function "+ff(r)+" with contents = "+e.toString());if(RC(e))throw new Error(n+"contains "+e.toString()+" "+ff(r));if("string"==typeof e&&e.length>yx/3&&Xs(e)>yx)throw new Error(n+"contains a string greater than "+yx+" utf8 bytes "+ff(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(fi(e,(l,d)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!tD(l)))throw new Error(n+" contains an invalid key ("+l+") "+ff(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function tH(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Xs(e),DF(n)})(r,l),VE(n,d,r),function nH(n){const e=n.parts_.pop();n.byteLength_-=Xs(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+ff(r)+" in addition to actual children.")}},_L=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!tD(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Lz.test(n)}(n)}(t))throw new Error(function Hu(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $z{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uo(n,e,t){(function nD(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==t&&!kM(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function vL(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(jz(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Bo(r,e)||Bo(e,r))}function jz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();df&&hi("event: "+t.toString()),jg(r)}}}const EL="repo_interrupt",Hz=25;class zz{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $z,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=BC(),this.transactionQueueTree_=new gx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wL(n){const t=n.infoData_.getNode(new yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function jE(n){return Mz({timestamp:wL(n)})}function IL(n,e,t,r,i){n.dataUpdateCount++;const o=new yn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const f=na(t,g=>fr(g));l=function Cz(n,e,t,r){const i=ux(n,r);if(i){const o=lx(i),l=o.path,d=o.queryId,f=ys(l,e),g=kn.fromObject(t);return cx(n,l,new Kg(QM(d),f,g))}return[]}(n.serverSyncTree_,o,f,i)}else{const f=fr(t);l=function aL(n,e,t,r){const i=ux(n,r);if(null!=i){const o=lx(i),l=o.path,d=o.queryId,f=ys(l,e);return cx(n,l,new gf(QM(d),f,t))}return[]}(n.serverSyncTree_,o,f,i)}else if(r){const f=na(t,g=>fr(g));l=function wz(n,e,t){const r=kn.fromObject(t);return Yg(n,new Kg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,o,f)}else{const f=fr(t);l=OE(n.serverSyncTree_,o,f)}let d=o;l.length>0&&(d=Jg(n,o)),uo(n.eventQueue_,d,l)}function TL(n,e){wx(n,"connected",e),!1===e&&function Qz(n){Xg(n,"onDisconnectEvents");const e=jE(n),t=BC();WM(n.onDisconnect_,hn(),(i,o)=>{const l=hL(i,o,n.serverSyncTree_,e);qg(t,i,l)});let r=[];WM(t,hn(),(i,o)=>{r=r.concat(OE(n.serverSyncTree_,i,o));const l=function Dx(n,e){const t=UE(bL(n,e)),r=ZC(n.transactionQueueTree_,e);return function kz(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{bx(n,i)}),bx(n,r),pL(r,i=>{bx(n,i)}),t}(n,i);Jg(n,l)}),n.onDisconnect_=BC(),uo(n.eventQueue_,hn(),r)}(n)}function wx(n,e,t){const r=new yn("/.info/"+e),i=fr(t);n.infoData_.updateSnapshot(r,i);const o=OE(n.infoSyncTree_,r,i);uo(n.eventQueue_,r,o)}function rD(n){return n.nextWriteId_++}function Xg(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),hi(t,...e)}function Cx(n,e,t){return XC(n.serverSyncTree_,e,t)||Ft.EMPTY_NODE}function iD(n,e=n.transactionQueueTree_){if(e||sD(n,e),yf(e)){const t=SL(n,e);Ne(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function nG(n,e,t){const r=t.map(g=>g.currentWriteId),i=Cx(n,e,r);let o=i;const l=i.hash();for(let g=0;g<t.length;g++){const w=t[g];Ne(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const b=ys(e,w.path);o=o.updateChild(b,w.currentOutputSnapshotRaw)}const d=o.val(!0),f=e;n.server_.put(f.toString(),d,g=>{Xg(n,"transaction put response",{path:f.toString(),status:g});let w=[];if("ok"===g){const b=[];for(let P=0;P<t.length;P++)t[P].status=2,w=w.concat(Xc(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&b.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();sD(n,ZC(n.transactionQueueTree_,e)),iD(n,n.transactionQueueTree_),uo(n.eventQueue_,e,w);for(let P=0;P<b.length;P++)jg(b[P])}else{if("datastale"===g)for(let b=0;b<t.length;b++)t[b].status=3===t[b].status?4:0;else{Yi("transaction at "+f.toString()+" failed: "+g);for(let b=0;b<t.length;b++)t[b].status=4,t[b].abortReason=g}Jg(n,e)}},l)}(n,UE(e),t)}else fL(e)&&eD(e,t=>{iD(n,t)})}function Jg(n,e){const t=bL(n,e),r=UE(t);return function rG(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],g=ys(t,f.path);let b,w=!1;if(Ne(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)w=!0,b=f.abortReason,i=i.concat(Xc(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=Hz)w=!0,b="maxretry",i=i.concat(Xc(n.serverSyncTree_,f.currentWriteId,!0));else{const P=Cx(n,f.path,l);f.currentInputSnapshot=P;const U=e[d].update(P.val());if(void 0!==U){VE("transaction failed: Data returned ",U,f.path);let j=fr(U);"object"==typeof U&&null!=U&&Vr(U,".priority")||(j=j.updatePriority(P.getPriority()));const oe=f.currentWriteId,Ae=jE(n),je=fx(j,P,Ae);f.currentOutputSnapshotRaw=j,f.currentOutputSnapshotResolved=je,f.currentWriteId=rD(n),l.splice(l.indexOf(oe),1),i=i.concat(ox(n.serverSyncTree_,f.path,je,f.currentWriteId,f.applyLocally)),i=i.concat(Xc(n.serverSyncTree_,oe,!0))}else w=!0,b="nodata",i=i.concat(Xc(n.serverSyncTree_,f.currentWriteId,!0))}uo(n.eventQueue_,t,i),i=[],w&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&r.push("nodata"===b?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(b),!1,null)))}sD(n,n.transactionQueueTree_);for(let d=0;d<r.length;d++)jg(r[d]);iD(n,n.transactionQueueTree_)}(n,SL(n,t),r),r}function bL(n,e){let t,r=n.transactionQueueTree_;for(t=Gt(e);null!==t&&void 0===yf(r);)r=ZC(r,t),t=Gt(e=Rn(e));return r}function SL(n,e){const t=[];return AL(n,e,t),t.sort((r,i)=>r.order-i.order),t}function AL(n,e,t){const r=yf(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);eD(e,i=>{AL(n,i,t)})}function sD(n,e){const t=yf(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,mx(e,t.length>0?t:void 0)}eD(e,r=>{sD(n,r)})}function bx(n,e){const t=yf(e);if(t){const r=[];let i=[],o=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?(Ne(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(Ne(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Xc(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?mx(e,void 0):t.length=o+1,uo(n.eventQueue_,UE(e),i);for(let l=0;l<r.length;l++)jg(r[l])}}const Sx=function(n,e){const t=oG(n),r=t.namespace;return"firebase.com"===t.domain&&ou(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ou("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Yi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new SM(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new yn(t.pathString)}},oG=function(n){let e="",t="",r="",i="",o="",l=!0,d="https",f=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(d=n.substring(0,g-1),n=n.substring(g+2));let w=n.indexOf("/");-1===w&&(w=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),e=n.substring(0,Math.min(w,b)),w<b&&(i=function iG(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(w,b)));const P=function sG(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,b)));g=e.indexOf(":"),g>=0?(l="https"===d||"wss"===d,f=parseInt(e.substring(g+1),10)):g=e.length;const U=e.slice(0,g);if("localhost"===U.toLowerCase())t="localhost";else if(U.split(".").length<=2)t=U;else{const j=e.indexOf(".");r=e.substring(0,j).toLowerCase(),t=e.substring(j+1),o=r}"ns"in P&&(o=P.ns)}return{host:e,port:f,domain:t,subdomain:r,secure:l,scheme:d,pathString:i,namespace:o}};class lo{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Wt(this._path)?null:NM(this._path)}get ref(){return new Ia(this._repo,this._path)}get _queryIdentifier(){const e=FF(this._queryParams),t=DM(e);return"{}"===t?"default":t}get _queryObject(){return FF(this._queryParams)}isEqual(e){if(!((e=Si(e))instanceof lo))return!1;const t=this._repo===e._repo,r=kM(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Jj(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ia extends lo{constructor(e,t){super(e,t,new jM,!1)}get parent(){const e=CF(this._path);return null===e?null:new Ia(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function hz(n){Ne(!qC,"__referenceConstructor has already been defined"),qC=n})(Ia),function _z(n){Ne(!QC,"__referenceConstructor has already been defined"),QC=n}(Ia);const EG="FIREBASE_DATABASE_EMULATOR_HOST",Rx={};let OL=!1;class bG{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Gz(n,e,t){if(n.stats_=MM(n.repoInfo_),n.forceRestClient_||Dj())n.server_=new UC(n.repoInfo_,(r,i,o,l)=>{IL(n,r,i,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>TL(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new pf(n.repoInfo_,e,(r,i,o,l)=>{IL(n,r,i,o,l)},r=>{TL(n,r)},r=>{!function Wz(n,e){fi(e,(t,r)=>{wx(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Mj(n,e){const t=n.toString();return RM[t]||(RM[t]=e()),RM[t]}(n.repoInfo_,()=>new MH(n.stats_,n.server_)),n.infoData_=new DH,n.infoSyncTree_=new oL({startListening:(r,i,o,l)=>{let d=[];const f=n.infoData_.getNode(r._path);return f.isEmpty()||(d=OE(n.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),wx(n,"connected",!1),n.serverSyncTree_=new oL({startListening:(r,i,o,l)=>(n.server_.listen(r,o,i,(d,f)=>{const g=l(d,f);uo(n.eventQueue_,r._path,g)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ia(this._repo,hn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function TG(n,e){const t=Rx[e];(!t||t[n.key]!==n)&&ou(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function DL(n){n.persistentConnection_&&n.persistentConnection_.interrupt(EL)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ou("Cannot call "+e+" on a deleted database.")}}function SG(n=rp(),e){const t=Ao(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=hs("database");r&&function AG(n,e,t,r={}){(n=Si(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ou("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ou('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new TE(TE.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:ql(r.mockUserToken,n.app.options.projectId);o=new TE(l)}!function wG(n,e,t,r){n.repoInfo_=new SM(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(t,...r)}return t}pf.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},pf.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function RG(n){(function fj(n){IM=n})(Wa),Yr(new fn("database",(e,{instanceIdentifier:t})=>function IG(n,e,t,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||ou("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hi("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,g,l=Sx(o,i),d=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env[EG]),g?(f=!0,o=`http://${g}?ns=${d.namespace}`,l=Sx(o,i),d=l.repoInfo):f=!l.repoInfo.secure;const w=i&&f?new TE(TE.OWNER):new Sj(n.name,n.options,e);_L("Invalid Firebase Database URL",l),Wt(l.path)||ou("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function CG(n,e,t,r){let i=Rx[e.name];i||(i={},Rx[e.name]=i);let o=i[n.toURLString()];return o&&ou("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zz(n,OL,t,r),i[n.toURLString()]=o,o}(d,n,w,new bj(n.name,t));return new bG(b,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),pn(V1,"0.14.4",n),pn(V1,"0.14.4","esm2017")}();class Mx{constructor(e){return e}}const LL="database",xx=new k.OlP("angularfire2.database-instances");function kG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Mx(r)}}const OG={provide:class PG{constructor(){return Lp(LL)}},deps:[[new k.FiY,xx]]},FG={provide:Mx,useFactory:function NG(n,e){const t=Eh(LL,n,e);return t&&new Mx(t)},deps:[[new k.FiY,xx],Fo]};let LG=(()=>{class n{constructor(){pn("angularfire",vc.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[FG,OG]}),n})();function UG(n,...e){return{ngModule:LG,providers:[{provide:xx,useFactory:kG(n),multi:!0,deps:[k.R0b,k.zs3,wh,Lo,[new k.FiY,Xe],[new k.FiY,cl],...e]}]}}const BG=di(SG,!0);var Ye,VG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ta={},Px=Px||{},kt=VG||self;function lD(){}function cD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function GE(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nx="closure_uid_"+(1e9*Math.random()>>>0),jG=0;function HG(n,e,t){return n.call.apply(n.bind,arguments)}function zG(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HG:zG).apply(null,arguments)}function dD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function pi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[i].apply(r,l)}}function ed(){this.s=this.s,this.o=this.o}ed.prototype.s=!1,ed.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function $G(n){Object.prototype.hasOwnProperty.call(n,Nx)&&n[Nx]||(n[Nx]=++jG)}(this)},ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function kx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function BL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(cD(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let l=0;l<o;l++)n[i+l]=r[l]}else n.push(r)}}function Ji(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ji.prototype.h=function(){this.defaultPrevented=!0};var WG=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",lD,e),kt.removeEventListener("test",lD,e)}catch{}return n}();function hD(n){return/^[\s\xa0]*$/.test(n)}var VL=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ox(n,e){return n<e?-1:n>e?1:0}function fD(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function cu(n){return-1!=fD().indexOf(n)}function Fx(n){return Fx[" "](n),n}function $L(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Fx[" "]=lD;var pD,n,qG=cu("Opera"),em=cu("Trident")||cu("MSIE"),jL=cu("Edge"),Lx=jL||em,HL=cu("Gecko")&&!(-1!=fD().toLowerCase().indexOf("webkit")&&!cu("Edge"))&&!(cu("Trident")||cu("MSIE"))&&!cu("Edge"),KG=-1!=fD().toLowerCase().indexOf("webkit")&&!cu("Edge");function zL(){var n=kt.document;return n?n.documentMode:void 0}e:{var Ux="",Bx=(n=fD(),HL?/rv:([^\);]+)(\)|;)/.exec(n):jL?/Edge\/([\d\.]+)/.exec(n):em?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KG?/WebKit\/(\S+)/.exec(n):qG?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Bx&&(Ux=Bx?Bx[1]:""),em){var Vx=zL();if(null!=Vx&&Vx>parseFloat(Ux)){pD=String(Vx);break e}}pD=Ux}var QG={},XG=kt.document&&em&&(zL()||parseInt(pD,10))||void 0;function WE(n,e){if(Ji.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(HL){e:{try{Fx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JG[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&WE.$.h.call(this)}}pi(WE,Ji);var JG={2:"touch",3:"pen",4:"mouse"};WE.prototype.h=function(){WE.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qE="closure_listenable_"+(1e6*Math.random()|0),ZG=0;function e4(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++ZG,this.fa=this.ia=!1}function gD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function jx(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function WL(n){const e={};for(const t in n)e[t]=n[t];return e}const qL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<qL.length;o++)t=qL[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mD(n){this.src=n,this.g={},this.h=0}function Hx(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=UL(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(gD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zx(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}mD.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=zx(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new e4(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Gx="closure_lm_"+(1e6*Math.random()|0),Wx={};function QL(n,e,t,r,i){if(r&&r.once)return XL(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)QL(n,e[o],t,r,i);return null}return t=Yx(t),n&&n[qE]?n.O(e,t,GE(r)?!!r.capture:!!r,i):YL(n,e,t,!1,r,i)}function YL(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var l=GE(i)?!!i.capture:!!i,d=Kx(n);if(d||(n[Gx]=d=new mD(n)),(t=d.add(e,t,r,l,o)).proxy)return t;if(r=function t4(){const e=n4;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)WG||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ZL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function XL(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)XL(n,e[o],t,r,i);return null}return t=Yx(t),n&&n[qE]?n.P(e,t,GE(r)?!!r.capture:!!r,i):YL(n,e,t,!0,r,i)}function JL(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)JL(n,e[o],t,r,i);else r=GE(r)?!!r.capture:!!r,t=Yx(t),n&&n[qE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zx(o=n.g[e],t,r,i))&&(gD(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Kx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zx(e,t,r,i)),(t=-1<n?e[n]:null)&&qx(t))}function qx(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[qE])Hx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ZL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Kx(e))?(Hx(t,n),0==t.h&&(t.src=null,e[Gx]=null)):gD(n)}}}function ZL(n){return n in Wx?Wx[n]:Wx[n]="on"+n}function n4(n,e){if(n.fa)n=!0;else{e=new WE(e,this);var t=n.listener,r=n.la||n.src;n.ia&&qx(n),n=t.call(r,e)}return n}function Kx(n){return(n=n[Gx])instanceof mD?n:null}var Qx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yx(n){return"function"==typeof n?n:(n[Qx]||(n[Qx]=function(e){return n.handleEvent(e)}),n[Qx])}function gi(){ed.call(this),this.i=new mD(this),this.S=this,this.J=null}function Ri(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ji(e,n);else if(e instanceof Ji)e.target=e.target||n;else{var i=e;KL(e=new Ji(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var l=e.g=t[o];i=_D(l,r,!0,e)&&i}if(i=_D(l=e.g=n,r,!0,e)&&i,i=_D(l,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=_D(l=e.g=t[o],r,!1,e)&&i}function _D(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==t){var d=l.listener,f=l.la||l.src;l.ia&&Hx(n.i,l),i=!1!==d.call(f,r)&&i}}return i&&!r.defaultPrevented}pi(gi,ed),gi.prototype[qE]=!0,gi.prototype.removeEventListener=function(n,e,t,r){JL(this,n,e,t,r)},gi.prototype.N=function(){if(gi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gD(t[r]);delete n.g[e],n.h--}}this.J=null},gi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xx=kt.JSON.stringify;function r4(){var n=n2;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jx,e2=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new s4,n=>n.reset());class s4{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function o4(n){kt.setTimeout(()=>{throw n},0)}function t2(n,e){Jx||function a4(){var n=kt.Promise.resolve(void 0);Jx=function(){n.then(u4)}}(),Zx||(Jx(),Zx=!0),n2.add(n,e)}var Zx=!1,n2=new class i4{constructor(){this.h=this.g=null}add(e,t){const r=e2.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function u4(){for(var n;n=r4();){try{n.h.call(n.g)}catch(t){o4(t)}var e=e2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zx=!1}function yD(n,e){gi.call(this),this.h=n||1,this.g=e||kt,this.j=Xi(this.qb,this),this.l=Date.now()}function eP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tP(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function r2(n){n.g=tP(()=>{n.g=null,n.i&&(n.i=!1,r2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pi(yD,gi),(Ye=yD.prototype).ga=!1,Ye.T=null,Ye.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ri(this,"tick"),this.ga&&(eP(this),this.start()))}},Ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.N=function(){yD.$.N.call(this),eP(this),delete this.g};class l4 extends ed{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:r2(this)}N(){super.N(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function KE(n){ed.call(this),this.h=n,this.g={}}pi(KE,ed);var i2=[];function s2(n,e,t,r){Array.isArray(t)||(t&&(i2[0]=t.toString()),t=i2);for(var i=0;i<t.length;i++){var o=QL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function o2(n){jx(n.g,function(e,t){this.g.hasOwnProperty(t)&&qx(e)},n),n.g={}}function vD(){this.g=!0}function tm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function f4(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<i.length;l++)i[l]=""}}}return Xx(t)}catch{return e}}(n,t)+(r?" "+r:"")})}KE.prototype.N=function(){KE.$.N.call(this),o2(this)},KE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vD.prototype.Ea=function(){this.g=!1},vD.prototype.info=function(){};var Ef={},a2=null;function ED(){return a2=a2||new gi}function u2(n){Ji.call(this,Ef.Ta,n)}function QE(n){const e=ED();Ri(e,new u2(e))}function l2(n,e){Ji.call(this,Ef.STAT_EVENT,n),this.stat=e}function vs(n){const e=ED();Ri(e,new l2(e,n))}function c2(n,e){Ji.call(this,Ef.Ua,n),this.size=e}function YE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}Ef.Ta="serverreachability",pi(u2,Ji),Ef.STAT_EVENT="statevent",pi(l2,Ji),Ef.Ua="timingevent",pi(c2,Ji);var wD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},d2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nP(){}function f2(){}nP.prototype.h=null;var sP,XE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rP(){Ji.call(this,"d")}function iP(){Ji.call(this,"c")}function ID(){}function JE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new KE(this),this.P=p4,this.V=new yD(n=Lx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new p2}function p2(){this.i=null,this.g="",this.h=!1}pi(rP,Ji),pi(iP,Ji),pi(ID,nP),ID.prototype.g=function(){return new XMLHttpRequest},ID.prototype.i=function(){return{}},sP=new ID;var p4=45e3,oP={},TD={};function aP(n,e,t){n.L=1,n.v=SD(wl(e)),n.s=t,n.S=!0,g2(n,null)}function g2(n,e){n.G=Date.now(),ZE(n),n.A=wl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),D2(t.i,"t",r),n.C=0,t=n.l.I,n.h=new p2,n.g=Q2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new l4(Xi(n.Pa,n,n.g),n.O)),s2(n.U,n.g,"readystatechange",n.nb),e=n.I?WL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),QE(),function c4(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var l="",d=o.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var w=g[0];g=g[1];var b=w.split("_");l=2<=b.length&&"type"==b[1]?l+(w+"=")+g+"&":l+(w+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function m2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function _2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=g4(n,t),i==TD){4==e&&(n.o=4,vs(14),r=!1),tm(n.j,n.m,null,"[Incomplete Response]");break}if(i==oP){n.o=4,vs(15),tm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}tm(n.j,n.m,i,null),uP(n,i)}m2(n)&&i!=TD&&i!=oP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),mP(e),e.L=!0,vs(11))):(tm(n.j,n.m,t,"[Invalid Chunked Response]"),wf(n),ew(n))}function g4(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?TD:(t=Number(e.substring(t,r)),isNaN(t)?oP:(r+=1)+t>e.length?TD:(e=e.substr(r,t),n.C=r+t,e))}function ZE(n){n.Y=Date.now()+n.P,y2(n,n.P)}function y2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=YE(Xi(n.lb,n),e)}function CD(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function ew(n){0==n.l.H||n.J||G2(n.l,n)}function wf(n){CD(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,eP(n.V),o2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function uP(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||lP(t.h,n)))if(!n.K&&lP(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ND(t),xD(t)}gP(t),vs(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=YE(Xi(t.ib,t),6e3));if(1>=A2(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Tf(t,11)}else if((n.K||t.g==n)&&ND(t),!hD(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.J=g[1],t.oa=g[2];const w=g[3];null!=w&&(t.qa=w,t.j.info("VER="+t.qa));const b=g[4];null!=b&&(t.Ga=b,t.j.info("SVER="+t.Ga));const P=g[5];null!=P&&"number"==typeof P&&0<P&&(t.K=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const j=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var o=r.h;o.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(cP(o,o.h),o.h=null))}if(r.F){const Y=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.Da=Y,er(r.G,r.F,Y))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=K2(r,r.I?r.oa:null,r.Y),l.K){R2(r.h,l);var d=l,f=r.K;f&&d.setTimeout(f),d.B&&(CD(d),ZE(d)),r.g=l}else H2(r);0<t.i.length&&PD(t)}else"stop"!=g[0]&&"close"!=g[0]||Tf(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Tf(t,7):pP(t):"noop"!=g[0]&&t.l&&t.l.Aa(g),t.A=0)}QE()}catch{}}function v2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function _4(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function m4(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Ye=JE.prototype).setTimeout=function(n){this.P=n},Ye.nb=function(n){n=n.target;const e=this.M;e&&3==Il(n)?e.l():this.Pa(n)},Ye.Pa=function(n){try{if(n==this.g)e:{const w=Il(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||Lx||this.g&&(this.h.h||this.g.ja()||L2(this.g)))){this.J||4!=w||7==e||QE(),CD(this);var t=this.g.da();this.aa=t;t:if(m2(this)){var r=L2(this.g);n="";var i=r.length,o=4==Il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wf(this),ew(this);var l="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function d4(n,e,t,r,i,o,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hD(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,vs(12),wf(this),ew(this);break e}tm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uP(this,t)}this.S?(_2(this,w,l),Lx&&this.i&&3==w&&(s2(this.U,this.V,"tick",this.mb),this.V.start())):(tm(this.j,this.m,l,null),uP(this,l)),4==w&&wf(this),this.i&&!this.J&&(4==w?G2(this.l,this):(this.i=!1,ZE(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,vs(12)):(this.o=0,vs(13)),wf(this),ew(this)}}}catch{}},Ye.mb=function(){if(this.g){var n=Il(this.g),e=this.g.ja();this.C<e.length&&(CD(this),_2(this,n,e),this.i&&4!=n&&ZE(this))}},Ye.cancel=function(){this.J=!0,wf(this)},Ye.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function h4(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(QE(),vs(17)),wf(this),this.o=2,ew(this)):y2(this,this.Y-n)};var E2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof If){this.h=void 0!==e?e:n.h,DD(this,n.j),this.s=n.s,this.g=n.g,bD(this,n.m),this.l=n.l,e=n.i;var t=new rw;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),w2(this,t),this.o=n.o}else n&&(t=String(n).match(E2))?(this.h=!!e,DD(this,t[1]||"",!0),this.s=tw(t[2]||""),this.g=tw(t[3]||"",!0),bD(this,t[4]),this.l=tw(t[5]||"",!0),w2(this,t[6]||"",!0),this.o=tw(t[7]||"")):(this.h=!!e,this.i=new rw(null,this.h))}function wl(n){return new If(n)}function DD(n,e,t){n.j=t?tw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function w2(n,e,t){e instanceof rw?(n.i=e,function C4(n,e){e&&!n.j&&(td(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(T2(this,r),D2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nw(e,I4)),n.i=new rw(e,n.h))}function er(n,e,t){n.i.set(e,t)}function SD(n){return er(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,v4),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function v4(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}If.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nw(e,I2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nw(e,I2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nw(t,"/"==t.charAt(0)?w4:E4,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nw(t,T4)),n.join("")};var I2=/[#\/\?@]/g,E4=/[#\?:]/g,w4=/[#\?]/g,I4=/[#\?@]/g,T4=/#/g;function rw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function td(n){n.g||(n.g=new Map,n.h=0,n.i&&function y4(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function T2(n,e){td(n),e=nm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function C2(n,e){return td(n),e=nm(n,e),n.g.has(e)}function D2(n,e,t){T2(n,e),0<t.length&&(n.i=null,n.g.set(nm(n,e),kx(t)),n.h+=t.length)}function nm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function b2(n){this.l=n||b4,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ka&&kt.g.Ka()&&kt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=rw.prototype).add=function(n,e){td(this),this.i=null,n=nm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){td(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ye.sa=function(){td(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Ye.Z=function(n){td(this);let e=[];if("string"==typeof n)C2(this,n)&&(e=e.concat(this.g.get(nm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ye.set=function(n,e){return td(this),this.i=null,C2(this,n=nm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=o;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var b4=10;function S2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function A2(n){return n.h?1:n.g?n.g.size:0}function lP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cP(n,e){n.g?n.g.add(e):n.h=e}function R2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function M2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return kx(n.i)}function dP(){}function S4(){this.g=new dP}function A4(n,e,t){const r=t||"";try{v2(n,function(i,o){let l=i;GE(i)&&(l=Xx(i)),e.push(r+o+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function AD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function iw(n){this.l=n.fc||null,this.j=n.ob||!1}function RD(n,e){gi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b2.prototype.cancel=function(){if(this.i=M2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dP.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},dP.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},pi(iw,nP),iw.prototype.g=function(){return new RD(this.l,this.j)},iw.prototype.i=function(n){return function(){return n}}({}),pi(RD,gi);var hP=0;function x2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ow(n)}function ow(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=RD.prototype).open=function(n,e){if(this.readyState!=hP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ow(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||kt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sw(this)),this.readyState=hP},Ye.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ow(this)),this.g&&(this.readyState=3,ow(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ye.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sw(this):ow(this),3==this.readyState&&x2(this)}},Ye.Za=function(n){this.g&&(this.response=this.responseText=n,sw(this))},Ye.Ya=function(n){this.g&&(this.response=n,sw(this))},Ye.ka=function(){this.g&&sw(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(RD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var M4=kt.JSON.parse;function Tr(n){gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P2,this.L=this.M=!1}pi(Tr,gi);var P2="",x4=/^https?$/i,P4=["POST","PUT"];function N2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,k2(n),MD(n)}function k2(n){n.F||(n.F=!0,Ri(n,"complete"),Ri(n,"error"))}function O2(n){if(n.h&&typeof Px<"u"&&(!n.C[1]||4!=Il(n)||2!=n.da()))if(n.v&&4==Il(n))tP(n.La,0,n);else if(Ri(n,"readystatechange"),4==Il(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var i=String(n.I).match(E2)[1]||null;if(!i&&kt.self&&kt.self.location){var o=kt.self.location.protocol;i=o.substr(0,o.length-1)}r=!x4.test(i?i.toLowerCase():"")}t=r}if(t)Ri(n,"complete"),Ri(n,"success");else{n.m=6;try{var l=2<Il(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",k2(n)}}finally{MD(n)}}}function MD(n,e){if(n.g){F2(n);const t=n.g,r=n.C[0]?lD:null;n.g=null,n.C=null,e||Ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function F2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function Il(n){return n.g?n.g.readyState:0}function L2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case P2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function U2(n){let e="";return jx(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fP(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=U2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):er(n,e,t))}function aw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function B2(n){this.Ga=0,this.i=[],this.j=new vD,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=aw("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=aw("baseRetryDelayMs",5e3,n),this.hb=aw("retryDelaySeedMs",1e4,n),this.eb=aw("forwardChannelMaxRetries",2,n),this.xa=aw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new b2(n&&n.concurrentRequestLimit),this.Ja=new S4,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function pP(n){if(V2(n),3==n.H){var e=n.W++,t=wl(n.G);er(t,"SID",n.J),er(t,"RID",e),er(t,"TYPE","terminate"),uw(n,t),(e=new JE(n,n.j,e,void 0)).L=2,e.v=SD(wl(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Q2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ZE(e)}q2(n)}function xD(n){n.g&&(mP(n),n.g.cancel(),n.g=null)}function V2(n){xD(n),n.u&&(kt.clearTimeout(n.u),n.u=null),ND(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function PD(n){S2(n.h)||n.m||(n.m=!0,t2(n.Na,n),n.C=0)}function $2(n,e){var t;t=e?e.m:n.W++;const r=wl(n.G);er(r,"SID",n.J),er(r,"RID",t),er(r,"AID",n.V),uw(n,r),n.o&&n.s&&fP(r,n.o,n.s),t=new JE(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=j2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cP(n.h,t),aP(t,r,e)}function uw(n,e){n.ma&&jx(n.ma,function(t,r){er(e,r,t)}),n.l&&v2({},function(t,r){er(e,r,t)})}function j2(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xi(n.l.Va,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const l=["count="+t];-1==o?0<t?(o=i[0].h,l.push("ofs="+o)):o=0:l.push("ofs="+o);let d=!0;for(let f=0;f<t;f++){let g=i[f].h;const w=i[f].g;if(g-=o,0>g)o=Math.max(0,i[f].h-100),d=!1;else try{A4(w,l,"req"+g+"_")}catch{r&&r(w)}}if(d){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function H2(n){n.g||n.u||(n.ba=1,t2(n.Ma,n),n.A=0)}function gP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=YE(Xi(n.Ma,n),W2(n,n.A)),n.A++,0))}function mP(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function z2(n){n.g=new JE(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=wl(n.wa);er(e,"RID","rpc"),er(e,"SID",n.J),er(e,"CI",n.M?"0":"1"),er(e,"AID",n.V),er(e,"TYPE","xmlhttp"),uw(n,e),n.o&&n.s&&fP(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=SD(wl(e)),t.s=null,t.S=!0,g2(t,n)}function ND(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function G2(n,e){var t=null;if(n.g==e){ND(n),mP(n),n.g=null;var r=2}else{if(!lP(n.h,e))return;t=e.F,R2(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ri(r=ED(),new c2(r,t)),PD(n)}else H2(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function k4(n,e){return!(A2(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=YE(Xi(n.Na,n,e),W2(n,n.C)),n.C++,0)))}(n,e)||2==r&&gP(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Tf(n,5);break;case 4:Tf(n,10);break;case 3:Tf(n,6);break;default:Tf(n,2)}}function W2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Tf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xi(n.pb,n);t||(t=new If("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||DD(t,"https"),SD(t)),function R4(n,e){const t=new vD;if(kt.Image){const r=new Image;r.onload=dD(AD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dD(AD,t,r,"TestLoadImage: error",!1,e),r.onabort=dD(AD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dD(AD,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vs(2);n.H=0,n.l&&n.l.za(e),q2(n),V2(n)}function q2(n){if(n.H=0,n.pa=[],n.l){const e=M2(n.h);(0!=e.length||0!=n.i.length)&&(BL(n.pa,e),BL(n.pa,n.i),n.h.i.length=0,kx(n.i),n.i.length=0),n.l.ya()}}function K2(n,e,t){var r=t instanceof If?wl(t):new If(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),bD(r,r.m);else{var i=kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new If(null,void 0);r&&DD(o,r),e&&(o.g=e),i&&bD(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&er(r,t,e),er(r,"VER",n.qa),uw(n,r),r}function Q2(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(t&&n.Ha&&!n.va?new iw({ob:!0}):n.va)).Oa(n.I),e}function Y2(){}function kD(){if(em&&!(10<=Number(XG)))throw Error("Environmental error: no available transport.")}function co(n,e){gi.call(this),this.g=new B2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!hD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hD(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rm(this)}function X2(n){rP.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function J2(){iP.call(this),this.status=1}function rm(n){this.g=n}function Ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _P(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],l=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;l=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(l<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(e=t+((l=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=o+((l=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function In(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Ye=Tr.prototype).Oa=function(n){this.M=n},Ye.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sP.g(),this.C=function h2(n){return n.h||(n.h=n.i())}(this.u?this.u:sP),this.g.onreadystatechange=Xi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void N2(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=kt.FormData&&n instanceof kt.FormData,!(0<=UL(P4,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of t)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F2(this),0<this.B&&((this.L=function N4(n){return em&&function YG(){return $L(QG,9,function(){let n=0;const e=VL(String(pD)).split("."),t=VL("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",o=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Ox(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Ox(0==i[2].length,0==o[2].length)||Ox(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.ua,this)):this.A=tP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){N2(this,o)}},Ye.ua=function(){typeof Px<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ri(this,"complete"),Ri(this,"abort"),MD(this))},Ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),MD(this,!0)),Tr.$.N.call(this)},Ye.La=function(){this.s||(this.G||this.v||this.l?O2(this):this.kb())},Ye.kb=function(){O2(this)},Ye.da=function(){try{return 2<Il(this)?this.g.status:-1}catch{return-1}},Ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ye.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),M4(e)}},Ye.Ia=function(){return this.m},Ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=B2.prototype).qa=8,Ye.H=1,Ye.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new JE(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=WL(o),KL(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=j2(this,i,e),er(t=wl(this.G),"RID",n),er(t,"CVER",22),this.F&&er(t,"X-HTTP-Session-Id",this.F),uw(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(U2(o)))+"&"+e:this.o&&fP(t,this.o,o)),cP(this.h,i),this.bb&&er(t,"TYPE","init"),this.P?(er(t,"$req",e),er(t,"SID","null"),i.ba=!0,aP(i,t,null)):aP(i,t,e),this.H=2}}else 3==this.H&&(n?$2(this,n):0==this.i.length||S2(this.h)||$2(this))},Ye.Ma=function(){if(this.u=null,z2(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=YE(Xi(this.jb,this),n)}},Ye.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,vs(10),xD(this),z2(this))},Ye.ib=function(){null!=this.v&&(this.v=null,xD(this),gP(this),vs(19))},Ye.pb=function(n){n?(this.j.info("Successfully pinged google.com"),vs(2)):(this.j.info("Failed to ping google.com"),vs(1))},(Ye=Y2.prototype).Ba=function(){},Ye.Aa=function(){},Ye.za=function(){},Ye.ya=function(){},Ye.Va=function(){},kD.prototype.g=function(n,e){return new co(n,e)},pi(co,gi),co.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;vs(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=K2(n,null,n.Y),PD(n)},co.prototype.close=function(){pP(this.g)},co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Xx(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&PD(e)},co.prototype.N=function(){this.g.l=null,delete this.j,pP(this.g),delete this.g,co.$.N.call(this)},pi(X2,rP),pi(J2,iP),pi(rm,Y2),rm.prototype.Ba=function(){Ri(this.g,"a")},rm.prototype.Aa=function(n){Ri(this.g,new X2(n))},rm.prototype.za=function(n){Ri(this.g,new J2)},rm.prototype.ya=function(){Ri(this.g,"b")},pi(Ca,function O4(){this.blockSize=-1}),Ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ca.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)_P(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){_P(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){_P(this,r),i=0;break}}this.h=i,this.i+=e},Ca.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var F4={};function yP(n){return-128<=n&&128>n?$L(F4,n,function(e){return new In([0|e],0>e?-1:0)}):new In([0|n],0>n?-1:0)}function du(n){if(isNaN(n)||!isFinite(n))return im;if(0>n)return Mi(du(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=vP;return new In(e,0)}var vP=4294967296,im=yP(0),EP=yP(1),eU=yP(16777216);function Tl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function $o(n){return-1==n.h}function Mi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new In(t,~n.h).add(EP)}function OD(n,e){return n.add(Mi(e))}function FD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function lw(n,e){this.g=n,this.h=e}function LD(n,e){if(Tl(e))throw Error("division by zero");if(Tl(n))return new lw(im,im);if($o(n))return e=LD(Mi(n),e),new lw(Mi(e.g),Mi(e.h));if($o(e))return e=LD(n,Mi(e)),new lw(Mi(e.g),e.h);if(30<n.g.length){if($o(n)||$o(e))throw Error("slowDivide_ only works with positive integers.");for(var t=EP,r=e;0>=r.X(n);)t=tU(t),r=tU(r);var i=sm(t,1),o=sm(r,1);for(r=sm(r,2),t=sm(t,2);!Tl(r);){var l=o.add(r);0>=l.X(n)&&(i=i.add(t),o=l),r=sm(r,1),t=sm(t,1)}return e=OD(n,i.R(e)),new lw(i,e)}for(i=im;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(o=du(t)).R(e);$o(l)||0<l.X(n);)l=(o=du(t-=r)).R(e);Tl(o)&&(o=EP),i=i.add(o),n=OD(n,l)}return new lw(i,n)}function tU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new In(t,n.h)}function sm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new In(i,n.h)}(Ye=In.prototype).ea=function(){if($o(this))return-Mi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:vP+r)*e,e*=vP}return n},Ye.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Tl(this))return"0";if($o(this))return"-"+Mi(this).toString(n);for(var e=du(Math.pow(n,6)),t=this,r="";;){var i=LD(t,e).g,o=((0<(t=OD(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Tl(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ye.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ye.X=function(n){return $o(n=OD(this,n))?-1:Tl(n)?0:1},Ye.abs=function(){return $o(this)?Mi(this):this},Ye.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),l=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(o&=65535)}return new In(t,-2147483648&t[t.length-1]?-1:0)},Ye.R=function(n){if(Tl(this)||Tl(n))return im;if($o(this))return $o(n)?Mi(this).R(Mi(n)):Mi(Mi(this).R(n));if($o(n))return Mi(this.R(Mi(n)));if(0>this.X(eU)&&0>n.X(eU))return du(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,l=65535&this.D(r),d=n.D(i)>>>16,f=65535&n.D(i);t[2*r+2*i]+=l*f,FD(t,2*r+2*i),t[2*r+2*i+1]+=o*f,FD(t,2*r+2*i+1),t[2*r+2*i+1]+=l*d,FD(t,2*r+2*i+1),t[2*r+2*i+2]+=o*d,FD(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new In(t,0)},Ye.gb=function(n){return LD(this,n).h},Ye.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new In(t,this.h&n.h)},Ye.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new In(t,this.h|n.h)},Ye.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new In(t,this.h^n.h)},kD.prototype.createWebChannel=kD.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,wD.NO_ERROR=0,wD.TIMEOUT=8,wD.HTTP_ERROR=6,d2.COMPLETE="complete",f2.EventType=XE,XE.OPEN="a",XE.CLOSE="b",XE.ERROR="c",XE.MESSAGE="d",gi.prototype.listen=gi.prototype.O,Tr.prototype.listenOnce=Tr.prototype.P,Tr.prototype.getLastError=Tr.prototype.Sa,Tr.prototype.getLastErrorCode=Tr.prototype.Ia,Tr.prototype.getStatus=Tr.prototype.da,Tr.prototype.getResponseJson=Tr.prototype.Wa,Tr.prototype.getResponseText=Tr.prototype.ja,Tr.prototype.send=Tr.prototype.ha,Tr.prototype.setWithCredentials=Tr.prototype.Oa,Ca.prototype.digest=Ca.prototype.l,Ca.prototype.reset=Ca.prototype.reset,Ca.prototype.update=Ca.prototype.j,In.prototype.add=In.prototype.add,In.prototype.multiply=In.prototype.R,In.prototype.modulo=In.prototype.gb,In.prototype.compare=In.prototype.X,In.prototype.toNumber=In.prototype.ea,In.prototype.toString=In.prototype.toString,In.prototype.getBits=In.prototype.D,In.fromNumber=du,In.fromString=function Z2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Mi(Z2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=du(Math.pow(e,8)),r=im,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+o),e);8>o?(o=du(Math.pow(e,o)),r=r.R(o).add(du(l))):r=(r=r.R(t)).add(du(l))}return r},Ta.createWebChannelTransport=function(){return new kD},Ta.getStatEventTarget=function(){return ED()},Ta.ErrorCode=wD,Ta.EventType=d2,Ta.Event=Ef,Ta.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ta.FetchXmlHttpFactory=iw,Ta.WebChannel=f2,Ta.XhrIo=Tr,Ta.Md5=Ca;var L4=Ta.Integer=In;const nU="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let cw="9.21.0";const nd=new Ha("@firebase/firestore");function Re(n,...e){if(nd.logLevel<=zt.DEBUG){const t=e.map(IP);nd.debug(`Firestore (${cw}): ${n}`,...t)}}function Nr(n,...e){if(nd.logLevel<=zt.ERROR){const t=e.map(IP);nd.error(`Firestore (${cw}): ${n}`,...t)}}function IP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${cw}) INTERNAL ASSERTION FAILED: `+n;throw Nr(e),new Error(e)}function lt(n,e){n||tt()}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends At{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class B4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V4{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ei,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=l;e.enqueueRetryable(z(function*(){yield g.promise,yield o(r.currentUser)}))},f=g=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ei)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new rU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new mi(e)}}class $4{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class j4{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new $4(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H4{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.T=t.token,new iU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}class UD{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===UD.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof UD?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends UD{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(sn.fromString(e))}static fromName(e){return new $e(sn.fromString(e).popFirst(5))}static empty(){return new $e(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new sn(e.slice()))}}function id(n){return"IndexedDbTransactionError"===n.name}class On{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new HD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new HD(this.root,e,this.comparator,!1)}getReverseIterator(){return new HD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new HD(this.root,e,this.comparator,!0)}}class HD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??xi.RED,this.left=i??xi.EMPTY,this.right=o??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new xi(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EU(this.data.getIterator())}getIteratorFrom(e){return new EU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class EU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wU("Invalid base64 string: "+i):i}}(e);return new ti(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}ti.EMPTY_BYTE_STRING=new ti("");class _W{constructor(e,t,r,i,o,l,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class bf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bf&&e.projectId===this.projectId&&e.database===this.database}}var Hr,on;new On($e.comparator),new On($e.comparator),new On($e.comparator),new jn($e.comparator),new jn(xt),(on=Hr||(Hr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS",new L4([4294967295,4294967295],0);class bw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Of{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),function pw(n){return 0===n&&1/n==-1/0}(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(function Cl(n){return"string"==typeof n?ti.fromBase64String(n):ti.fromUint8Array(n)}(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?function DU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):tt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),$e.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}Of.be=new Of,new Uint8Array(0);class es{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _b(){return typeof document<"u"?document:null}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class _N{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class FN{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,d=new FN(e,t,l,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class A6{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mi.UNAUTHENTICATED,this.clientId=sU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=z(function*(d){Re("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Re("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return z(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(z(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Dm(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),id(n))return new Se(se.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const $V=new Map;function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Db(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}(n);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class GV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function L6(n,e,t,r){if(!0===e&&!0===r)throw new Se(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new U4;switch(t.type){case"firstParty":return new j4(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$V.get(e);t&&(Re("ComponentProvider","Removing Datastore"),$V.delete(e),t.terminate())}(this),Promise.resolve()}}class V6{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new _N(this,"async_queue_retry"),this.Yc=()=>{const t=_b();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=_b();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=_b();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ei;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return z(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!id(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=FN.createAndSchedule(this,e,t,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&tt()}verifyOperationInProgress(){}na(){var e=this;return z(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}class zn extends Hw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new V6,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function qV(n){var e,t,r;const i=n._freezeSettings(),o=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _W(n._databaseId,d,n._persistenceKey,(g=i).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var d,g;n._firestoreClient=new A6(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function j6(n,e){const r="string"==typeof n?n:e||"(default)",i=Ao("object"==typeof n?n:rp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=hs("firestore");o&&function U6(n,e,t,r={}){var i;const o=(n=nn(n,Hw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&function hu(n,...e){if(nd.logLevel<=zt.WARN){const t=e.map(IP);nd.warn(`Firestore (${cw}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,d;if("string"==typeof r.mockUserToken)l=r.mockUserToken,d=mi.MOCK_USER;else{l=ql(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new mi(f)}n._authCredentials=new B4(new rU(l,d))}}(i,...o)}return i}!function(n,e=!0){cw=Wa,Yr(new fn("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),l=new zn(new V4(t.getProvider("auth-internal")),new H4(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(d.options.projectId,f)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),pn(nU,"3.11.0",n),pn(nU,"3.11.0","esm2017")}();class xk{constructor(e){return e}}const p$="firestore",Pk=new k.OlP("angularfire2.firestore-instances");function gq(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xk(r)}}const mq={provide:class fq{constructor(){return Lp(p$)}},deps:[[new k.FiY,Pk]]},_q={provide:xk,useFactory:function pq(n,e){const t=Eh(p$,n,e);return t&&new xk(t)},deps:[[new k.FiY,Pk],Fo]};let yq=(()=>{class n{constructor(){pn("angularfire",vc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[_q,mq]}),n})();function vq(n,...e){return{ngModule:yq,providers:[{provide:Pk,useFactory:gq(n),multi:!0,deps:[k.R0b,k.zs3,wh,Lo,[new k.FiY,Xe],[new k.FiY,cl],...e]}]}}const Eq=di(j6,!0),g$="firebasestorage.googleapis.com",m$="storageBucket";class gr extends At{constructor(e,t,r=0){super(Nk(e),`Firebase Storage: ${t} (${Nk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Fn||(Fn={})),Fn))();function Nk(n){return"storage/"+n}function Ok(n){return new gr(Fn.INVALID_ARGUMENT,n)}function E$(){return new gr(Fn.APP_DELETED,"The Firebase app was deleted.")}class ws{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ws.makeFromUrl(e,t)}catch{return new ws(e,"")}if(""===r.path)return r;throw function Mq(n){return new gr(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+i+"(/(.*))?$","i");function g(_t){_t.path_=decodeURIComponent(_t.path)}const b=t.replace(/[.]/g,"\\."),ke=[{regex:d,indices:{bucket:1,path:3},postModify:function o(_t){"/"===_t.path.charAt(_t.path.length-1)&&(_t.path_=_t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${b}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${t===g$?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let _t=0;_t<ke.length;_t++){const Qt=ke[_t],Pt=Qt.regex.exec(e);if(Pt){let Ln=Pt[Qt.indices.path];Ln||(Ln=""),r=new ws(Pt[Qt.indices.bucket],Ln),Qt.postModify(r);break}}if(null==r)throw function Rq(n){return new gr(Fn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Fq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Lk(n,e,t,r){if(r<e)throw Ok(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ok(`Invalid value for '${n}'. Expected ${t} or less.`)}var yd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(yd||(yd={})),yd))();class jq{constructor(e,t,r,i,o,l,d,f,g,w,b,P=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=w,this.connectionFactory_=b,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,j)=>{this.resolve_=U,this.reject_=j,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function Bq(n){return void 0!==n}(f)?o():o(f)}catch(f){l(f)}else if(null!==d){const f=function kk(){return new gr(Fn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();f.serverResponse=d.getErrorText(),l(this.errorCallback_?this.errorCallback_(d,f):f)}else l(i.canceled?this.appDelete_?E$():function y$(){return new gr(Fn.CANCELED,"User canceled the upload/download.")}():function _$(){return new gr(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Fb(!1,null,!0)):this.backoffId_=function Lq(n,e,t){let r=1,i=null,o=null,l=!1,d=0;function f(){return 2===d}let g=!1;function w(...oe){g||(g=!0,e.apply(null,oe))}function b(oe){i=setTimeout(()=>{i=null,n(U,f())},oe)}function P(){o&&clearTimeout(o)}function U(oe,...Ae){if(g)return void P();if(oe)return P(),void w.call(null,oe,...Ae);if(f()||l)return P(),void w.call(null,oe,...Ae);let ke;r<64&&(r*=2),1===d?(d=2,ke=0):ke=1e3*(r+Math.random()),b(ke)}let j=!1;function Y(oe){j||(j=!0,P(),!g&&(null!==i?(oe||(d=2),clearTimeout(i),b(0)):oe||(d=1)))}return b(0),o=setTimeout(()=>{l=!0,Y(!0)},t),Y}((r,i)=>{if(i)return void r(!1,new Fb(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const l=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const d=o.getErrorCode()===yd.NO_ERROR,f=o.getStatus();if(!d||function T$(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(f,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===yd.ABORT;return void r(!1,new Fb(!1,null,w))}const g=-1!==this.successCodes_.indexOf(f);r(!0,new Fb(g,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Uq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Fb{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class jf{constructor(e,t){this._service=e,this._location=t instanceof ws?t:ws.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jf(e,t)}get root(){const e=new ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function A$(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function n9(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ws(this._location.bucket,e);return new jf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Oq(n){return new gr(Fn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function H$(n,e){const t=e?.[m$];return null==t?null:ws.makeFromBucketSpec(t,n)}class zk{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=g$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ws.makeFromBucketSpec(i,this._host):H$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ws.makeFromBucketSpec(this._url,e):H$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return z(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return z(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jf(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Fq(E$());{const l=function qq(n,e,t,r,i,o,l=!0){const d=function I$(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),f=n.url+d,g=Object.assign({},n.headers);return function Gq(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function Hq(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,t),function zq(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(g,o),function Wq(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,r),new jq(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return z(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const z$="@firebase/storage",W$="storage";function $9(n=rp(),e){const r=Ao(n=Si(n),W$).getImmediate({identifier:e}),i=hs("storage");return i&&function j9(n,e,t,r={}){!function V9(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:ql(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function H9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new zk(t,r,i,e,Wa)}!function z9(){Yr(new fn(W$,H9,"PUBLIC").setMultipleInstances(!0)),pn(z$,"0.11.2",""),pn(z$,"0.11.2","esm2017")}();class Gk{constructor(e){return e}}const q$="storage",Wk=new k.OlP("angularfire2.storage-instances");function q9(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gk(r)}}const K9={provide:class G9{constructor(){return Lp(q$)}},deps:[[new k.FiY,Wk]]},Q9={provide:Gk,useFactory:function W9(n,e){const t=Eh(q$,n,e);return t&&new Gk(t)},deps:[[new k.FiY,Wk],Fo]};let Y9=(()=>{class n{constructor(){pn("angularfire",vc.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[Q9,K9]}),n})();function X9(n,...e){return{ngModule:Y9,providers:[{provide:Wk,useFactory:q9(n),multi:!0,deps:[k.R0b,k.zs3,wh,Lo,[new k.FiY,Xe],[new k.FiY,cl],...e]}]}}const J9=di($9,!0);let Z9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n,bootstrap:[ie]}),n.\u0275inj=k.cJS({imports:[A.b2,ee,Gl,Dc(()=>PT(xy_firebase)),dj(()=>hj()),UG(()=>BG()),vq(()=>Eq()),X9(()=>J9())]}),n})();(0,k.G48)(),A.q6().bootstrapModule(Z9).catch(n=>console.error(n))},1135:(Je,he,F)=>{F.d(he,{X:()=>k});var A=F(7579);class k extends A.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const ee=super._subscribe(re);return!ee.closed&&re.next(this._value),ee}getValue(){const{hasError:re,thrownError:ee,_value:ie}=this;if(re)throw ee;return this._throwIfClosed(),ie}next(re){super.next(this._value=re)}}},9751:(Je,he,F)=>{F.d(he,{y:()=>ue});var A=F(930),k=F(727),K=F(8822),re=F(9635),ee=F(2416),ie=F(576),Z=F(2806);let ue=(()=>{class ae{constructor(be){be&&(this._subscribe=be)}lift(be){const Le=new ae;return Le.source=this,Le.operator=be,Le}subscribe(be,Le,at){const Te=function ce(ae){return ae&&ae instanceof A.Lv||function we(ae){return ae&&(0,ie.m)(ae.next)&&(0,ie.m)(ae.error)&&(0,ie.m)(ae.complete)}(ae)&&(0,k.Nn)(ae)}(be)?be:new A.Hp(be,Le,at);return(0,Z.x)(()=>{const{operator:mt,source:Ue}=this;Te.add(mt?mt.call(Te,Ue):Ue?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(be){try{return this._subscribe(be)}catch(Le){be.error(Le)}}forEach(be,Le){return new(Le=pe(Le))((at,Te)=>{const mt=new A.Hp({next:Ue=>{try{be(Ue)}catch(rt){Te(rt),mt.unsubscribe()}},error:Te,complete:at});this.subscribe(mt)})}_subscribe(be){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(be)}[K.L](){return this}pipe(...be){return(0,re.U)(be)(this)}toPromise(be){return new(be=pe(be))((Le,at)=>{let Te;this.subscribe(mt=>Te=mt,mt=>at(mt),()=>Le(Te))})}}return ae.create=Qe=>new ae(Qe),ae})();function pe(ae){var Qe;return null!==(Qe=ae??ee.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(Je,he,F)=>{F.d(he,{x:()=>Z});var A=F(9751),k=F(727);const re=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=F(8737),ie=F(2806);let Z=(()=>{class pe extends A.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const ae=new ue(this,this);return ae.operator=ce,ae}_throwIfClosed(){if(this.closed)throw new re}next(ce){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(ce)}})}error(ce){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:ae}=this;for(;ae.length;)ae.shift().error(ce)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:ae,isStopped:Qe,observers:be}=this;return ae||Qe?k.Lc:(this.currentObservers=null,be.push(ce),new k.w0(()=>{this.currentObservers=null,(0,ee.P)(be,ce)}))}_checkFinalizedStatuses(ce){const{hasError:ae,thrownError:Qe,isStopped:be}=this;ae?ce.error(Qe):be&&ce.complete()}asObservable(){const ce=new A.y;return ce.source=this,ce}}return pe.create=(we,ce)=>new ue(we,ce),pe})();class ue extends Z{constructor(we,ce){super(),this.destination=we,this.source=ce}next(we){var ce,ae;null===(ae=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===ae||ae.call(ce,we)}error(we){var ce,ae;null===(ae=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===ae||ae.call(ce,we)}complete(){var we,ce;null===(ce=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===ce||ce.call(we)}_subscribe(we){var ce,ae;return null!==(ae=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(we))&&void 0!==ae?ae:k.Lc}}},930:(Je,he,F)=>{F.d(he,{Hp:()=>at,Lv:()=>ae});var A=F(576),k=F(727),K=F(2416),re=F(7849),ee=F(5032);const ie=pe("C",void 0,void 0);function pe(Ie,G,Ee){return{kind:Ie,value:G,error:Ee}}var we=F(3410),ce=F(2806);class ae extends k.w0{constructor(G){super(),this.isStopped=!1,G?(this.destination=G,(0,k.Nn)(G)&&G.add(this)):this.destination=rt}static create(G,Ee,Pe){return new at(G,Ee,Pe)}next(G){this.isStopped?Ue(function ue(Ie){return pe("N",Ie,void 0)}(G),this):this._next(G)}error(G){this.isStopped?Ue(function Z(Ie){return pe("E",void 0,Ie)}(G),this):(this.isStopped=!0,this._error(G))}complete(){this.isStopped?Ue(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(G){this.destination.next(G)}_error(G){try{this.destination.error(G)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function be(Ie,G){return Qe.call(Ie,G)}class Le{constructor(G){this.partialObserver=G}next(G){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(G)}catch(Pe){Te(Pe)}}error(G){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(G)}catch(Pe){Te(Pe)}else Te(G)}complete(){const{partialObserver:G}=this;if(G.complete)try{G.complete()}catch(Ee){Te(Ee)}}}class at extends ae{constructor(G,Ee,Pe){let ut;if(super(),(0,A.m)(G)||!G)ut={next:G??void 0,error:Ee??void 0,complete:Pe??void 0};else{let nt;this&&K.v.useDeprecatedNextContext?(nt=Object.create(G),nt.unsubscribe=()=>this.unsubscribe(),ut={next:G.next&&be(G.next,nt),error:G.error&&be(G.error,nt),complete:G.complete&&be(G.complete,nt)}):ut=G}this.destination=new Le(ut)}}function Te(Ie){K.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(Ie):(0,re.h)(Ie)}function Ue(Ie,G){const{onStoppedNotification:Ee}=K.v;Ee&&we.z.setTimeout(()=>Ee(Ie,G))}const rt={closed:!0,next:ee.Z,error:function mt(Ie){throw Ie},complete:ee.Z}},727:(Je,he,F)=>{F.d(he,{Lc:()=>ie,w0:()=>ee,Nn:()=>Z});var A=F(576);const K=(0,F(3888).d)(pe=>function(ce){pe(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((ae,Qe)=>`${Qe+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var re=F(8737);class ee{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const be of ce)be.remove(this);else ce.remove(this);const{initialTeardown:ae}=this;if((0,A.m)(ae))try{ae()}catch(be){we=be instanceof K?be.errors:[be]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const be of Qe)try{ue(be)}catch(Le){we=we??[],Le instanceof K?we=[...we,...Le.errors]:we.push(Le)}}if(we)throw new K(we)}}add(we){var ce;if(we&&we!==this)if(this.closed)ue(we);else{if(we instanceof ee){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(we)}}_hasParent(we){const{_parentage:ce}=this;return ce===we||Array.isArray(ce)&&ce.includes(we)}_addParent(we){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(we),ce):ce?[ce,we]:we}_removeParent(we){const{_parentage:ce}=this;ce===we?this._parentage=null:Array.isArray(ce)&&(0,re.P)(ce,we)}remove(we){const{_finalizers:ce}=this;ce&&(0,re.P)(ce,we),we instanceof ee&&we._removeParent(this)}}ee.EMPTY=(()=>{const pe=new ee;return pe.closed=!0,pe})();const ie=ee.EMPTY;function Z(pe){return pe instanceof ee||pe&&"closed"in pe&&(0,A.m)(pe.remove)&&(0,A.m)(pe.add)&&(0,A.m)(pe.unsubscribe)}function ue(pe){(0,A.m)(pe)?pe():pe.unsubscribe()}},2416:(Je,he,F)=>{F.d(he,{v:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Je,he,F)=>{F.d(he,{a:()=>we});var A=F(9751),k=F(4742),K=F(8996),re=F(4671),ee=F(3268),ie=F(3269),Z=F(1810),ue=F(5403),pe=F(9672);function we(...Qe){const be=(0,ie.yG)(Qe),Le=(0,ie.jO)(Qe),{args:at,keys:Te}=(0,k.D)(Qe);if(0===at.length)return(0,K.D)([],be);const mt=new A.y(function ce(Qe,be,Le=re.y){return at=>{ae(be,()=>{const{length:Te}=Qe,mt=new Array(Te);let Ue=Te,rt=Te;for(let Ie=0;Ie<Te;Ie++)ae(be,()=>{const G=(0,K.D)(Qe[Ie],be);let Ee=!1;G.subscribe((0,ue.x)(at,Pe=>{mt[Ie]=Pe,Ee||(Ee=!0,rt--),rt||at.next(Le(mt.slice()))},()=>{--Ue||at.complete()}))},at)},at)}}(at,be,Te?Ue=>(0,Z.n)(Te,Ue):re.y));return Le?mt.pipe((0,ee.Z)(Le)):mt}function ae(Qe,be,Le){Qe?(0,pe.f)(Le,Qe,be):be()}},7272:(Je,he,F)=>{F.d(he,{z:()=>ee});var A=F(8189),K=F(3269),re=F(8996);function ee(...ie){return function k(){return(0,A.J)(1)}()((0,re.D)(ie,(0,K.yG)(ie)))}},515:(Je,he,F)=>{F.d(he,{E:()=>k});const k=new(F(9751).y)(ee=>ee.complete())},8996:(Je,he,F)=>{F.d(he,{D:()=>G});var A=F(8421),k=F(5363),K=F(9468),ie=F(9751),ue=F(2202),pe=F(576),we=F(9672);function ae(Ee,Pe){if(!Ee)throw new Error("Iterable cannot be null");return new ie.y(ut=>{(0,we.f)(ut,Pe,()=>{const nt=Ee[Symbol.asyncIterator]();(0,we.f)(ut,Pe,()=>{nt.next().then(ft=>{ft.done?ut.complete():ut.next(ft.value)})},0,!0)})})}var Qe=F(3670),be=F(8239),Le=F(1144),at=F(6495),Te=F(2206),mt=F(4532),Ue=F(3260);function G(Ee,Pe){return Pe?function Ie(Ee,Pe){if(null!=Ee){if((0,Qe.c)(Ee))return function re(Ee,Pe){return(0,A.Xf)(Ee).pipe((0,K.R)(Pe),(0,k.Q)(Pe))}(Ee,Pe);if((0,Le.z)(Ee))return function Z(Ee,Pe){return new ie.y(ut=>{let nt=0;return Pe.schedule(function(){nt===Ee.length?ut.complete():(ut.next(Ee[nt++]),ut.closed||this.schedule())})})}(Ee,Pe);if((0,be.t)(Ee))return function ee(Ee,Pe){return(0,A.Xf)(Ee).pipe((0,K.R)(Pe),(0,k.Q)(Pe))}(Ee,Pe);if((0,Te.D)(Ee))return ae(Ee,Pe);if((0,at.T)(Ee))return function ce(Ee,Pe){return new ie.y(ut=>{let nt;return(0,we.f)(ut,Pe,()=>{nt=Ee[ue.h](),(0,we.f)(ut,Pe,()=>{let ft,Yt;try{({value:ft,done:Yt}=nt.next())}catch(pt){return void ut.error(pt)}Yt?ut.complete():ut.next(ft)},0,!0)}),()=>(0,pe.m)(nt?.return)&&nt.return()})}(Ee,Pe);if((0,Ue.L)(Ee))return function rt(Ee,Pe){return ae((0,Ue.Q)(Ee),Pe)}(Ee,Pe)}throw(0,mt.z)(Ee)}(Ee,Pe):(0,A.Xf)(Ee)}},8421:(Je,he,F)=>{F.d(he,{Xf:()=>Qe});var A=F(655),k=F(1144),K=F(8239),re=F(9751),ee=F(3670),ie=F(2206),Z=F(4532),ue=F(6495),pe=F(3260),we=F(576),ce=F(7849),ae=F(8822);function Qe(Ie){if(Ie instanceof re.y)return Ie;if(null!=Ie){if((0,ee.c)(Ie))return function be(Ie){return new re.y(G=>{const Ee=Ie[ae.L]();if((0,we.m)(Ee.subscribe))return Ee.subscribe(G);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,k.z)(Ie))return function Le(Ie){return new re.y(G=>{for(let Ee=0;Ee<Ie.length&&!G.closed;Ee++)G.next(Ie[Ee]);G.complete()})}(Ie);if((0,K.t)(Ie))return function at(Ie){return new re.y(G=>{Ie.then(Ee=>{G.closed||(G.next(Ee),G.complete())},Ee=>G.error(Ee)).then(null,ce.h)})}(Ie);if((0,ie.D)(Ie))return mt(Ie);if((0,ue.T)(Ie))return function Te(Ie){return new re.y(G=>{for(const Ee of Ie)if(G.next(Ee),G.closed)return;G.complete()})}(Ie);if((0,pe.L)(Ie))return function Ue(Ie){return mt((0,pe.Q)(Ie))}(Ie)}throw(0,Z.z)(Ie)}function mt(Ie){return new re.y(G=>{(function rt(Ie,G){var Ee,Pe,ut,nt;return(0,A.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,A.KL)(Ie);!(Pe=yield Ee.next()).done;)if(G.next(Pe.value),G.closed)return}catch(ft){ut={error:ft}}finally{try{Pe&&!Pe.done&&(nt=Ee.return)&&(yield nt.call(Ee))}finally{if(ut)throw ut.error}}G.complete()})})(Ie,G).catch(Ee=>G.error(Ee))})}},6451:(Je,he,F)=>{F.d(he,{T:()=>ie});var A=F(8189),k=F(8421),K=F(515),re=F(3269),ee=F(8996);function ie(...Z){const ue=(0,re.yG)(Z),pe=(0,re._6)(Z,1/0),we=Z;return we.length?1===we.length?(0,k.Xf)(we[0]):(0,A.J)(pe)((0,ee.D)(we,ue)):K.E}},9646:(Je,he,F)=>{F.d(he,{of:()=>K});var A=F(3269),k=F(8996);function K(...re){const ee=(0,A.yG)(re);return(0,k.D)(re,ee)}},2843:(Je,he,F)=>{F.d(he,{_:()=>K});var A=F(9751),k=F(576);function K(re,ee){const ie=(0,k.m)(re)?re:()=>re,Z=ue=>ue.error(ie());return new A.y(ee?ue=>ee.schedule(Z,0,ue):Z)}},5403:(Je,he,F)=>{F.d(he,{x:()=>k});var A=F(930);function k(re,ee,ie,Z,ue){return new K(re,ee,ie,Z,ue)}class K extends A.Lv{constructor(ee,ie,Z,ue,pe,we){super(ee),this.onFinalize=pe,this.shouldUnsubscribe=we,this._next=ie?function(ce){try{ie(ce)}catch(ae){ee.error(ae)}}:super._next,this._error=ue?function(ce){try{ue(ce)}catch(ae){ee.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ce){ee.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},262:(Je,he,F)=>{F.d(he,{K:()=>re});var A=F(8421),k=F(5403),K=F(4482);function re(ee){return(0,K.e)((ie,Z)=>{let we,ue=null,pe=!1;ue=ie.subscribe((0,k.x)(Z,void 0,void 0,ce=>{we=(0,A.Xf)(ee(ce,re(ee)(ie))),ue?(ue.unsubscribe(),ue=null,we.subscribe(Z)):pe=!0})),pe&&(ue.unsubscribe(),ue=null,we.subscribe(Z))})}},4351:(Je,he,F)=>{F.d(he,{b:()=>K});var A=F(5577),k=F(576);function K(re,ee){return(0,k.m)(ee)?(0,A.z)(re,ee,1):(0,A.z)(re,1)}},9300:(Je,he,F)=>{F.d(he,{h:()=>K});var A=F(4482),k=F(5403);function K(re,ee){return(0,A.e)((ie,Z)=>{let ue=0;ie.subscribe((0,k.x)(Z,pe=>re.call(ee,pe,ue++)&&Z.next(pe)))})}},8746:(Je,he,F)=>{F.d(he,{x:()=>k});var A=F(4482);function k(K){return(0,A.e)((re,ee)=>{try{re.subscribe(ee)}finally{ee.add(K)}})}},4004:(Je,he,F)=>{F.d(he,{U:()=>K});var A=F(4482),k=F(5403);function K(re,ee){return(0,A.e)((ie,Z)=>{let ue=0;ie.subscribe((0,k.x)(Z,pe=>{Z.next(re.call(ee,pe,ue++))}))})}},9718:(Je,he,F)=>{F.d(he,{h:()=>k});var A=F(4004);function k(K){return(0,A.U)(()=>K)}},8189:(Je,he,F)=>{F.d(he,{J:()=>K});var A=F(5577),k=F(4671);function K(re=1/0){return(0,A.z)(k.y,re)}},5577:(Je,he,F)=>{F.d(he,{z:()=>ue});var A=F(4004),k=F(8421),K=F(4482),re=F(9672),ee=F(5403),Z=F(576);function ue(pe,we,ce=1/0){return(0,Z.m)(we)?ue((ae,Qe)=>(0,A.U)((be,Le)=>we(ae,be,Qe,Le))((0,k.Xf)(pe(ae,Qe))),ce):("number"==typeof we&&(ce=we),(0,K.e)((ae,Qe)=>function ie(pe,we,ce,ae,Qe,be,Le,at){const Te=[];let mt=0,Ue=0,rt=!1;const Ie=()=>{rt&&!Te.length&&!mt&&we.complete()},G=Pe=>mt<ae?Ee(Pe):Te.push(Pe),Ee=Pe=>{be&&we.next(Pe),mt++;let ut=!1;(0,k.Xf)(ce(Pe,Ue++)).subscribe((0,ee.x)(we,nt=>{Qe?.(nt),be?G(nt):we.next(nt)},()=>{ut=!0},void 0,()=>{if(ut)try{for(mt--;Te.length&&mt<ae;){const nt=Te.shift();Le?(0,re.f)(we,Le,()=>Ee(nt)):Ee(nt)}Ie()}catch(nt){we.error(nt)}}))};return pe.subscribe((0,ee.x)(we,G,()=>{rt=!0,Ie()})),()=>{at?.()}}(ae,Qe,pe,ce)))}},5363:(Je,he,F)=>{F.d(he,{Q:()=>re});var A=F(9672),k=F(4482),K=F(5403);function re(ee,ie=0){return(0,k.e)((Z,ue)=>{Z.subscribe((0,K.x)(ue,pe=>(0,A.f)(ue,ee,()=>ue.next(pe),ie),()=>(0,A.f)(ue,ee,()=>ue.complete(),ie),pe=>(0,A.f)(ue,ee,()=>ue.error(pe),ie)))})}},3099:(Je,he,F)=>{F.d(he,{B:()=>ee});var A=F(8421),k=F(7579),K=F(930),re=F(4482);function ee(Z={}){const{connector:ue=(()=>new k.x),resetOnError:pe=!0,resetOnComplete:we=!0,resetOnRefCountZero:ce=!0}=Z;return ae=>{let Qe,be,Le,at=0,Te=!1,mt=!1;const Ue=()=>{be?.unsubscribe(),be=void 0},rt=()=>{Ue(),Qe=Le=void 0,Te=mt=!1},Ie=()=>{const G=Qe;rt(),G?.unsubscribe()};return(0,re.e)((G,Ee)=>{at++,!mt&&!Te&&Ue();const Pe=Le=Le??ue();Ee.add(()=>{at--,0===at&&!mt&&!Te&&(be=ie(Ie,ce))}),Pe.subscribe(Ee),!Qe&&at>0&&(Qe=new K.Hp({next:ut=>Pe.next(ut),error:ut=>{mt=!0,Ue(),be=ie(rt,pe,ut),Pe.error(ut)},complete:()=>{Te=!0,Ue(),be=ie(rt,we),Pe.complete()}}),(0,A.Xf)(G).subscribe(Qe))})(ae)}}function ie(Z,ue,...pe){if(!0===ue)return void Z();if(!1===ue)return;const we=new K.Hp({next:()=>{we.unsubscribe(),Z()}});return ue(...pe).subscribe(we)}},8675:(Je,he,F)=>{F.d(he,{O:()=>re});var A=F(7272),k=F(3269),K=F(4482);function re(...ee){const ie=(0,k.yG)(ee);return(0,K.e)((Z,ue)=>{(ie?(0,A.z)(ee,Z,ie):(0,A.z)(ee,Z)).subscribe(ue)})}},9468:(Je,he,F)=>{F.d(he,{R:()=>k});var A=F(4482);function k(K,re=0){return(0,A.e)((ee,ie)=>{ie.add(K.schedule(()=>ee.subscribe(ie),re))})}},3900:(Je,he,F)=>{F.d(he,{w:()=>re});var A=F(8421),k=F(4482),K=F(5403);function re(ee,ie){return(0,k.e)((Z,ue)=>{let pe=null,we=0,ce=!1;const ae=()=>ce&&!pe&&ue.complete();Z.subscribe((0,K.x)(ue,Qe=>{pe?.unsubscribe();let be=0;const Le=we++;(0,A.Xf)(ee(Qe,Le)).subscribe(pe=(0,K.x)(ue,at=>ue.next(ie?ie(Qe,at,Le,be++):at),()=>{pe=null,ae()}))},()=>{ce=!0,ae()}))})}},5698:(Je,he,F)=>{F.d(he,{q:()=>re});var A=F(515),k=F(4482),K=F(5403);function re(ee){return ee<=0?()=>A.E:(0,k.e)((ie,Z)=>{let ue=0;ie.subscribe((0,K.x)(Z,pe=>{++ue<=ee&&(Z.next(pe),ee<=ue&&Z.complete())}))})}},8505:(Je,he,F)=>{F.d(he,{b:()=>ee});var A=F(576),k=F(4482),K=F(5403),re=F(4671);function ee(ie,Z,ue){const pe=(0,A.m)(ie)||Z||ue?{next:ie,error:Z,complete:ue}:ie;return pe?(0,k.e)((we,ce)=>{var ae;null===(ae=pe.subscribe)||void 0===ae||ae.call(pe);let Qe=!0;we.subscribe((0,K.x)(ce,be=>{var Le;null===(Le=pe.next)||void 0===Le||Le.call(pe,be),ce.next(be)},()=>{var be;Qe=!1,null===(be=pe.complete)||void 0===be||be.call(pe),ce.complete()},be=>{var Le;Qe=!1,null===(Le=pe.error)||void 0===Le||Le.call(pe,be),ce.error(be)},()=>{var be,Le;Qe&&(null===(be=pe.unsubscribe)||void 0===be||be.call(pe)),null===(Le=pe.finalize)||void 0===Le||Le.call(pe)}))}):re.y}},4408:(Je,he,F)=>{F.d(he,{o:()=>ee});var A=F(727);class k extends A.w0{constructor(Z,ue){super()}schedule(Z,ue=0){return this}}const K={setInterval(ie,Z,...ue){const{delegate:pe}=K;return pe?.setInterval?pe.setInterval(ie,Z,...ue):setInterval(ie,Z,...ue)},clearInterval(ie){const{delegate:Z}=K;return(Z?.clearInterval||clearInterval)(ie)},delegate:void 0};var re=F(8737);class ee extends k{constructor(Z,ue){super(Z,ue),this.scheduler=Z,this.work=ue,this.pending=!1}schedule(Z,ue=0){var pe;if(this.closed)return this;this.state=Z;const we=this.id,ce=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ce,we,ue)),this.pending=!0,this.delay=ue,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(ce,this.id,ue),this}requestAsyncId(Z,ue,pe=0){return K.setInterval(Z.flush.bind(Z,this),pe)}recycleAsyncId(Z,ue,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ue;null!=ue&&K.clearInterval(ue)}execute(Z,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(Z,ue);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,ue){let we,pe=!1;try{this.work(Z)}catch(ce){pe=!0,we=ce||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:Z,scheduler:ue}=this,{actions:pe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(pe,this),null!=Z&&(this.id=this.recycleAsyncId(ue,Z,null)),this.delay=null,super.unsubscribe()}}}},640:(Je,he,F)=>{F.d(he,{v:()=>K});const A={now:()=>(A.delegate||Date).now(),delegate:void 0};class k{constructor(ee,ie=k.now){this.schedulerActionCtor=ee,this.now=ie}schedule(ee,ie=0,Z){return new this.schedulerActionCtor(this,ee).schedule(Z,ie)}}k.now=A.now;class K extends k{constructor(ee,ie=k.now){super(ee,ie),this.actions=[],this._active=!1}flush(ee){const{actions:ie}=this;if(this._active)return void ie.push(ee);let Z;this._active=!0;do{if(Z=ee.execute(ee.state,ee.delay))break}while(ee=ie.shift());if(this._active=!1,Z){for(;ee=ie.shift();)ee.unsubscribe();throw Z}}}},4986:(Je,he,F)=>{F.d(he,{P:()=>re,z:()=>K});var A=F(4408);const K=new(F(640).v)(A.o),re=K},3410:(Je,he,F)=>{F.d(he,{z:()=>A});const A={setTimeout(k,K,...re){const{delegate:ee}=A;return ee?.setTimeout?ee.setTimeout(k,K,...re):setTimeout(k,K,...re)},clearTimeout(k){const{delegate:K}=A;return(K?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(Je,he,F)=>{F.d(he,{h:()=>k});const k=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,he,F)=>{F.d(he,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Je,he,F)=>{F.d(he,{_6:()=>ie,jO:()=>re,yG:()=>ee});var A=F(576),k=F(3532);function K(Z){return Z[Z.length-1]}function re(Z){return(0,A.m)(K(Z))?Z.pop():void 0}function ee(Z){return(0,k.K)(K(Z))?Z.pop():void 0}function ie(Z,ue){return"number"==typeof K(Z)?Z.pop():ue}},4742:(Je,he,F)=>{F.d(he,{D:()=>ee});const{isArray:A}=Array,{getPrototypeOf:k,prototype:K,keys:re}=Object;function ee(Z){if(1===Z.length){const ue=Z[0];if(A(ue))return{args:ue,keys:null};if(function ie(Z){return Z&&"object"==typeof Z&&k(Z)===K}(ue)){const pe=re(ue);return{args:pe.map(we=>ue[we]),keys:pe}}}return{args:Z,keys:null}}},8737:(Je,he,F)=>{function A(k,K){if(k){const re=k.indexOf(K);0<=re&&k.splice(re,1)}}F.d(he,{P:()=>A})},3888:(Je,he,F)=>{function A(k){const re=k(ee=>{Error.call(ee),ee.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}F.d(he,{d:()=>A})},1810:(Je,he,F)=>{function A(k,K){return k.reduce((re,ee,ie)=>(re[ee]=K[ie],re),{})}F.d(he,{n:()=>A})},2806:(Je,he,F)=>{F.d(he,{O:()=>re,x:()=>K});var A=F(2416);let k=null;function K(ee){if(A.v.useDeprecatedSynchronousErrorHandling){const ie=!k;if(ie&&(k={errorThrown:!1,error:null}),ee(),ie){const{errorThrown:Z,error:ue}=k;if(k=null,Z)throw ue}}else ee()}function re(ee){A.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=ee)}},9672:(Je,he,F)=>{function A(k,K,re,ee=0,ie=!1){const Z=K.schedule(function(){re(),ie?k.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(k.add(Z),!ie)return Z}F.d(he,{f:()=>A})},4671:(Je,he,F)=>{function A(k){return k}F.d(he,{y:()=>A})},1144:(Je,he,F)=>{F.d(he,{z:()=>A});const A=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(Je,he,F)=>{F.d(he,{D:()=>k});var A=F(576);function k(K){return Symbol.asyncIterator&&(0,A.m)(K?.[Symbol.asyncIterator])}},576:(Je,he,F)=>{function A(k){return"function"==typeof k}F.d(he,{m:()=>A})},3670:(Je,he,F)=>{F.d(he,{c:()=>K});var A=F(8822),k=F(576);function K(re){return(0,k.m)(re[A.L])}},6495:(Je,he,F)=>{F.d(he,{T:()=>K});var A=F(2202),k=F(576);function K(re){return(0,k.m)(re?.[A.h])}},8239:(Je,he,F)=>{F.d(he,{t:()=>k});var A=F(576);function k(K){return(0,A.m)(K?.then)}},3260:(Je,he,F)=>{F.d(he,{L:()=>re,Q:()=>K});var A=F(655),k=F(576);function K(ee){return(0,A.FC)(this,arguments,function*(){const Z=ee.getReader();try{for(;;){const{value:ue,done:pe}=yield(0,A.qq)(Z.read());if(pe)return yield(0,A.qq)(void 0);yield yield(0,A.qq)(ue)}}finally{Z.releaseLock()}})}function re(ee){return(0,k.m)(ee?.getReader)}},3532:(Je,he,F)=>{F.d(he,{K:()=>k});var A=F(576);function k(K){return K&&(0,A.m)(K.schedule)}},4482:(Je,he,F)=>{F.d(he,{A:()=>k,e:()=>K});var A=F(576);function k(re){return(0,A.m)(re?.lift)}function K(re){return ee=>{if(k(ee))return ee.lift(function(ie){try{return re(ie,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Je,he,F)=>{F.d(he,{Z:()=>re});var A=F(4004);const{isArray:k}=Array;function re(ee){return(0,A.U)(ie=>function K(ee,ie){return k(ie)?ee(...ie):ee(ie)}(ee,ie))}},5032:(Je,he,F)=>{function A(){}F.d(he,{Z:()=>A})},9635:(Je,he,F)=>{F.d(he,{U:()=>K,z:()=>k});var A=F(4671);function k(...re){return K(re)}function K(re){return 0===re.length?A.y:1===re.length?re[0]:function(ie){return re.reduce((Z,ue)=>ue(Z),ie)}}},7849:(Je,he,F)=>{F.d(he,{h:()=>K});var A=F(2416),k=F(3410);function K(re){k.z.setTimeout(()=>{const{onUnhandledError:ee}=A.v;if(!ee)throw re;ee(re)})}},4532:(Je,he,F)=>{function A(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(he,{z:()=>A})},655:(Je,he,F)=>{function re(le,fe){var ge={};for(var Ce in le)Object.prototype.hasOwnProperty.call(le,Ce)&&fe.indexOf(Ce)<0&&(ge[Ce]=le[Ce]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(Ce=Object.getOwnPropertySymbols(le);Fe<Ce.length;Fe++)fe.indexOf(Ce[Fe])<0&&Object.prototype.propertyIsEnumerable.call(le,Ce[Fe])&&(ge[Ce[Fe]]=le[Ce[Fe]])}return ge}function ae(le,fe,ge,Ce){return new(ge||(ge=Promise))(function(xe,Ze){function et(Jt){try{yt(Ce.next(Jt))}catch(vt){Ze(vt)}}function Un(Jt){try{yt(Ce.throw(Jt))}catch(vt){Ze(vt)}}function yt(Jt){Jt.done?xe(Jt.value):function Fe(xe){return xe instanceof ge?xe:new ge(function(Ze){Ze(xe)})}(Jt.value).then(et,Un)}yt((Ce=Ce.apply(le,fe||[])).next())})}function Ie(le){return this instanceof Ie?(this.v=le,this):new Ie(le)}function G(le,fe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Ce=ge.apply(le,fe||[]),xe=[];return Fe={},Ze("next"),Ze("throw"),Ze("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ze(dn){Ce[dn]&&(Fe[dn]=function(st){return new Promise(function(nr,Lr){xe.push([dn,st,nr,Lr])>1||et(dn,st)})})}function et(dn,st){try{!function Un(dn){dn.value instanceof Ie?Promise.resolve(dn.value.v).then(yt,Jt):vt(xe[0][2],dn)}(Ce[dn](st))}catch(nr){vt(xe[0][3],nr)}}function yt(dn){et("next",dn)}function Jt(dn){et("throw",dn)}function vt(dn,st){dn(st),xe.shift(),xe.length&&et(xe[0][0],xe[0][1])}}function Pe(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,fe=le[Symbol.asyncIterator];return fe?fe.call(le):(le=function at(le){var fe="function"==typeof Symbol&&Symbol.iterator,ge=fe&&le[fe],Ce=0;if(ge)return ge.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Ce>=le.length&&(le=void 0),{value:le&&le[Ce++],done:!le}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ge={},Ce("next"),Ce("throw"),Ce("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Ce(xe){ge[xe]=le[xe]&&function(Ze){return new Promise(function(et,Un){!function Fe(xe,Ze,et,Un){Promise.resolve(Un).then(function(yt){xe({value:yt,done:et})},Ze)}(et,Un,(Ze=le[xe](Ze)).done,Ze.value)})}}}F.d(he,{FC:()=>G,KL:()=>Pe,_T:()=>re,mG:()=>ae,qq:()=>Ie})},7340:(Je,he,F)=>{F.d(he,{LC:()=>k,SB:()=>pe,X$:()=>re,ZE:()=>Ue,ZN:()=>mt,_j:()=>A,eR:()=>ce,jt:()=>ee,k1:()=>rt,l3:()=>K,oB:()=>ue,vP:()=>Z});class A{}class k{}const K="*";function re(Ie,G){return{type:7,name:Ie,definitions:G,options:{}}}function ee(Ie,G=null){return{type:4,styles:G,timings:Ie}}function Z(Ie,G=null){return{type:2,steps:Ie,options:G}}function ue(Ie){return{type:6,styles:Ie,offset:null}}function pe(Ie,G,Ee){return{type:0,name:Ie,styles:G,options:Ee}}function ce(Ie,G,Ee=null){return{type:1,expr:Ie,animation:G,options:Ee}}function Te(Ie){Promise.resolve().then(Ie)}class mt{constructor(G=0,Ee=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=G+Ee}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}onStart(G){this._originalOnStartFns.push(G),this._onStartFns.push(G)}onDone(G){this._originalOnDoneFns.push(G),this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Te(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(G=>G()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(G){this._position=this.totalTime?G*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(G){const Ee="start"==G?this._onStartFns:this._onDoneFns;Ee.forEach(Pe=>Pe()),Ee.length=0}}class Ue{constructor(G){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=G;let Ee=0,Pe=0,ut=0;const nt=this.players.length;0==nt?Te(()=>this._onFinish()):this.players.forEach(ft=>{ft.onDone(()=>{++Ee==nt&&this._onFinish()}),ft.onDestroy(()=>{++Pe==nt&&this._onDestroy()}),ft.onStart(()=>{++ut==nt&&this._onStart()})}),this.totalTime=this.players.reduce((ft,Yt)=>Math.max(ft,Yt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}init(){this.players.forEach(G=>G.init())}onStart(G){this._onStartFns.push(G)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(G=>G()),this._onStartFns=[])}onDone(G){this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(G=>G.play())}pause(){this.players.forEach(G=>G.pause())}restart(){this.players.forEach(G=>G.restart())}finish(){this._onFinish(),this.players.forEach(G=>G.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(G=>G.destroy()),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this.players.forEach(G=>G.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(G){const Ee=G*this.totalTime;this.players.forEach(Pe=>{const ut=Pe.totalTime?Math.min(1,Ee/Pe.totalTime):1;Pe.setPosition(ut)})}getPosition(){const G=this.players.reduce((Ee,Pe)=>null===Ee||Pe.totalTime>Ee.totalTime?Pe:Ee,null);return null!=G?G.getPosition():0}beforeDestroy(){this.players.forEach(G=>{G.beforeDestroy&&G.beforeDestroy()})}triggerCallback(G){const Ee="start"==G?this._onStartFns:this._onDoneFns;Ee.forEach(Pe=>Pe()),Ee.length=0}}const rt="!"},6895:(Je,he,F)=>{F.d(he,{Do:()=>Ue,EM:()=>Er,HT:()=>re,JF:()=>Ul,K0:()=>ie,Mx:()=>Tu,NF:()=>Dd,O5:()=>Rr,S$:()=>at,V_:()=>pe,Ye:()=>rt,b0:()=>mt,bD:()=>Fl,ez:()=>Na,mk:()=>Ct,q:()=>K,sg:()=>as,w_:()=>ee});var A=F(4650);let k=null;function K(){return k}function re(T){k||(k=T)}class ee{}const ie=new A.OlP("DocumentToken");let Z=(()=>{class T{historyGo(D){throw new Error("Not implemented")}}return T.\u0275fac=function(D){return new(D||T)},T.\u0275prov=A.Yz7({token:T,factory:function(){return function ue(){return(0,A.LFG)(we)}()},providedIn:"platform"}),T})();const pe=new A.OlP("Location Initialized");let we=(()=>{class T extends Z{constructor(D){super(),this._doc=D,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(D){const N=K().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",D,!1),()=>N.removeEventListener("popstate",D)}onHashChange(D){const N=K().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",D,!1),()=>N.removeEventListener("hashchange",D)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(D){this._location.pathname=D}pushState(D,N,$){ce()?this._history.pushState(D,N,$):this._location.hash=$}replaceState(D,N,$){ce()?this._history.replaceState(D,N,$):this._location.hash=$}forward(){this._history.forward()}back(){this._history.back()}historyGo(D=0){this._history.go(D)}getState(){return this._history.state}}return T.\u0275fac=function(D){return new(D||T)(A.LFG(ie))},T.\u0275prov=A.Yz7({token:T,factory:function(){return function ae(){return new we((0,A.LFG)(ie))}()},providedIn:"platform"}),T})();function ce(){return!!window.history.pushState}function Qe(T,M){if(0==T.length)return M;if(0==M.length)return T;let D=0;return T.endsWith("/")&&D++,M.startsWith("/")&&D++,2==D?T+M.substring(1):1==D?T+M:T+"/"+M}function be(T){const M=T.match(/#|\?|$/),D=M&&M.index||T.length;return T.slice(0,D-("/"===T[D-1]?1:0))+T.slice(D)}function Le(T){return T&&"?"!==T[0]?"?"+T:T}let at=(()=>{class T{historyGo(D){throw new Error("Not implemented")}}return T.\u0275fac=function(D){return new(D||T)},T.\u0275prov=A.Yz7({token:T,factory:function(){return(0,A.f3M)(mt)},providedIn:"root"}),T})();const Te=new A.OlP("appBaseHref");let mt=(()=>{class T extends at{constructor(D,N){super(),this._platformLocation=D,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,A.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}prepareExternalUrl(D){return Qe(this._baseHref,D)}path(D=!1){const N=this._platformLocation.pathname+Le(this._platformLocation.search),$=this._platformLocation.hash;return $&&D?`${N}${$}`:N}pushState(D,N,$,ne){const ve=this.prepareExternalUrl($+Le(ne));this._platformLocation.pushState(D,N,ve)}replaceState(D,N,$,ne){const ve=this.prepareExternalUrl($+Le(ne));this._platformLocation.replaceState(D,N,ve)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return T.\u0275fac=function(D){return new(D||T)(A.LFG(Z),A.LFG(Te,8))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Ue=(()=>{class T extends at{constructor(D,N){super(),this._platformLocation=D,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}path(D=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(D){const N=Qe(this._baseHref,D);return N.length>0?"#"+N:N}pushState(D,N,$,ne){let ve=this.prepareExternalUrl($+Le(ne));0==ve.length&&(ve=this._platformLocation.pathname),this._platformLocation.pushState(D,N,ve)}replaceState(D,N,$,ne){let ve=this.prepareExternalUrl($+Le(ne));0==ve.length&&(ve=this._platformLocation.pathname),this._platformLocation.replaceState(D,N,ve)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return T.\u0275fac=function(D){return new(D||T)(A.LFG(Z),A.LFG(Te,8))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac}),T})(),rt=(()=>{class T{constructor(D){this._subject=new A.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=D;const N=this._locationStrategy.getBaseHref();this._basePath=function Pe(T){if(new RegExp("^(https?:)?//").test(T)){const[,D]=T.split(/\/\/[^\/]+/);return D}return T}(be(Ee(N))),this._locationStrategy.onPopState($=>{this._subject.emit({url:this.path(!0),pop:!0,state:$.state,type:$.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(D=!1){return this.normalize(this._locationStrategy.path(D))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(D,N=""){return this.path()==this.normalize(D+Le(N))}normalize(D){return T.stripTrailingSlash(function G(T,M){if(!T||!M.startsWith(T))return M;const D=M.substring(T.length);return""===D||["/",";","?","#"].includes(D[0])?D:M}(this._basePath,Ee(D)))}prepareExternalUrl(D){return D&&"/"!==D[0]&&(D="/"+D),this._locationStrategy.prepareExternalUrl(D)}go(D,N="",$=null){this._locationStrategy.pushState($,"",D,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+Le(N)),$)}replaceState(D,N="",$=null){this._locationStrategy.replaceState($,"",D,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+Le(N)),$)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(D=0){this._locationStrategy.historyGo?.(D)}onUrlChange(D){return this._urlChangeListeners.push(D),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(D);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(D="",N){this._urlChangeListeners.forEach($=>$(D,N))}subscribe(D,N,$){return this._subject.subscribe({next:D,error:N,complete:$})}}return T.normalizeQueryParams=Le,T.joinWithSlash=Qe,T.stripTrailingSlash=be,T.\u0275fac=function(D){return new(D||T)(A.LFG(at))},T.\u0275prov=A.Yz7({token:T,factory:function(){return function Ie(){return new rt((0,A.LFG)(at))}()},providedIn:"root"}),T})();function Ee(T){return T.replace(/\/index.html$/,"")}function Tu(T,M){M=encodeURIComponent(M);for(const D of T.split(";")){const N=D.indexOf("="),[$,ne]=-1==N?[D,""]:[D.slice(0,N),D.slice(N+1)];if($.trim()===M)return decodeURIComponent(ne)}return null}const Sr=/\s+/,qe=[];let Ct=(()=>{class T{constructor(D,N,$,ne){this._iterableDiffers=D,this._keyValueDiffers=N,this._ngEl=$,this._renderer=ne,this.initialClasses=qe,this.stateMap=new Map}set klass(D){this.initialClasses=null!=D?D.trim().split(Sr):qe}set ngClass(D){this.rawClass="string"==typeof D?D.trim().split(Sr):D}ngDoCheck(){for(const N of this.initialClasses)this._updateState(N,!0);const D=this.rawClass;if(Array.isArray(D)||D instanceof Set)for(const N of D)this._updateState(N,!0);else if(null!=D)for(const N of Object.keys(D))this._updateState(N,Boolean(D[N]));this._applyStateDiff()}_updateState(D,N){const $=this.stateMap.get(D);void 0!==$?($.enabled!==N&&($.changed=!0,$.enabled=N),$.touched=!0):this.stateMap.set(D,{enabled:N,changed:!0,touched:!0})}_applyStateDiff(){for(const D of this.stateMap){const N=D[0],$=D[1];$.changed?(this._toggleClass(N,$.enabled),$.changed=!1):$.touched||($.enabled&&this._toggleClass(N,!1),this.stateMap.delete(N)),$.touched=!1}}_toggleClass(D,N){(D=D.trim()).length>0&&D.split(Sr).forEach($=>{N?this._renderer.addClass(this._ngEl.nativeElement,$):this._renderer.removeClass(this._ngEl.nativeElement,$)})}}return T.\u0275fac=function(D){return new(D||T)(A.Y36(A.ZZ4),A.Y36(A.aQg),A.Y36(A.SBq),A.Y36(A.Qsj))},T.\u0275dir=A.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class sr{constructor(M,D,N,$){this.$implicit=M,this.ngForOf=D,this.index=N,this.count=$}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let as=(()=>{class T{set ngForOf(D){this._ngForOf=D,this._ngForOfDirty=!0}set ngForTrackBy(D){this._trackByFn=D}get ngForTrackBy(){return this._trackByFn}constructor(D,N,$){this._viewContainer=D,this._template=N,this._differs=$,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(D){D&&(this._template=D)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const D=this._ngForOf;!this._differ&&D&&(this._differ=this._differs.find(D).create(this.ngForTrackBy))}if(this._differ){const D=this._differ.diff(this._ngForOf);D&&this._applyChanges(D)}}_applyChanges(D){const N=this._viewContainer;D.forEachOperation(($,ne,ve)=>{if(null==$.previousIndex)N.createEmbeddedView(this._template,new sr($.item,this._ngForOf,-1,-1),null===ve?void 0:ve);else if(null==ve)N.remove(null===ne?void 0:ne);else if(null!==ne){const Ke=N.get(ne);N.move(Ke,ve),wn(Ke,$)}});for(let $=0,ne=N.length;$<ne;$++){const Ke=N.get($).context;Ke.index=$,Ke.count=ne,Ke.ngForOf=this._ngForOf}D.forEachIdentityChange($=>{wn(N.get($.currentIndex),$)})}static ngTemplateContextGuard(D,N){return!0}}return T.\u0275fac=function(D){return new(D||T)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},T.\u0275dir=A.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function wn(T,M){T.context.$implicit=M.item}let Rr=(()=>{class T{constructor(D,N){this._viewContainer=D,this._context=new St,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(D){this._context.$implicit=this._context.ngIf=D,this._updateView()}set ngIfThen(D){Li("ngIfThen",D),this._thenTemplateRef=D,this._thenViewRef=null,this._updateView()}set ngIfElse(D){Li("ngIfElse",D),this._elseTemplateRef=D,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(D,N){return!0}}return T.\u0275fac=function(D){return new(D||T)(A.Y36(A.s_b),A.Y36(A.Rgc))},T.\u0275dir=A.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class St{constructor(){this.$implicit=null,this.ngIf=null}}function Li(T,M){if(M&&!M.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,A.AaK)(M)}'.`)}let Na=(()=>{class T{}return T.\u0275fac=function(D){return new(D||T)},T.\u0275mod=A.oAB({type:T}),T.\u0275inj=A.cJS({}),T})();const Fl="browser";function Dd(T){return T===Fl}let Er=(()=>{class T{}return T.\u0275prov=(0,A.Yz7)({token:T,providedIn:"root",factory:()=>new Go((0,A.LFG)(ie),window)}),T})();class Go{constructor(M,D){this.document=M,this.window=D,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(M){this.supportsScrolling()&&this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){if(!this.supportsScrolling())return;const D=function ka(T,M){const D=T.getElementById(M)||T.getElementsByName(M)[0];if(D)return D;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const N=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let $=N.currentNode;for(;$;){const ne=$.shadowRoot;if(ne){const ve=ne.getElementById(M)||ne.querySelector(`[name="${M}"]`);if(ve)return ve}$=N.nextNode()}}return null}(this.document,M);D&&(this.scrollToElement(D),D.focus())}setHistoryScrollRestoration(M){if(this.supportScrollRestoration()){const D=this.window.history;D&&D.scrollRestoration&&(D.scrollRestoration=M)}}scrollToElement(M){const D=M.getBoundingClientRect(),N=D.left+this.window.pageXOffset,$=D.top+this.window.pageYOffset,ne=this.offset();this.window.scrollTo(N-ne[0],$-ne[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const M=To(this.window.history)||To(Object.getPrototypeOf(this.window.history));return!(!M||!M.writable&&!M.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function To(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Ul{}},4650:(Je,he,F)=>{F.d(he,{$8M:()=>fn,$WT:()=>os,$Z:()=>li,AFp:()=>Yv,AaK:()=>ue,CHM:()=>Md,CRH:()=>RR,CZH:()=>Ag,CqO:()=>Ah,D6c:()=>vM,EJc:()=>eE,EiD:()=>R_,EpF:()=>bh,F$t:()=>Ly,F4k:()=>Hp,FYo:()=>rl,FiY:()=>tc,G48:()=>aM,Gf:()=>AR,GfV:()=>JI,Hsn:()=>Mh,JOm:()=>Ro,JVY:()=>vS,JZr:()=>at,KtG:()=>xd,L6k:()=>I_,LAX:()=>T_,LFG:()=>Zt,LSH:()=>gp,Lbi:()=>Mg,Lck:()=>Tv,MAs:()=>Th,MGl:()=>Gp,MMx:()=>Yh,NdJ:()=>bc,O4$:()=>Vu,OlP:()=>_n,Oqu:()=>cl,P3R:()=>HI,PXZ:()=>rM,Q6J:()=>Ch,QGY:()=>Sh,QbO:()=>Jv,Qsj:()=>ca,R0b:()=>ks,RDi:()=>v_,Rgc:()=>gl,SBq:()=>oh,Sil:()=>WR,Suo:()=>wg,TTD:()=>Io,TgZ:()=>jp,Udp:()=>Ky,W1O:()=>z0,XFs:()=>ct,Xpm:()=>an,Xts:()=>rh,Y36:()=>gc,YKP:()=>k0,YNc:()=>$n,Yjl:()=>Wn,Yz7:()=>vt,Z0I:()=>Lr,ZZ4:()=>mE,_Bn:()=>ag,_UZ:()=>Ny,_Vd:()=>dc,_c5:()=>SC,_uU:()=>Xp,aQg:()=>_E,c2e:()=>iC,cJS:()=>st,cg1:()=>hl,dDg:()=>w1,dqk:()=>rn,eBb:()=>ES,eFA:()=>sM,eJc:()=>Hv,ekj:()=>Qy,eoX:()=>Ng,f3M:()=>ni,g9A:()=>Bc,h0i:()=>nu,hGG:()=>yM,hij:()=>Zy,iGM:()=>Eg,ifc:()=>Ii,ip1:()=>nC,jDz:()=>lg,kL8:()=>nv,lG2:()=>Ma,lqb:()=>nl,lri:()=>ZR,mCW:()=>Zd,n5z:()=>Zl,n_E:()=>Fc,oAB:()=>Ra,oxw:()=>FT,pB0:()=>C_,q3G:()=>cr,q4F:()=>O_,qLn:()=>uh,qOj:()=>Fp,qZA:()=>Dh,qzn:()=>el,rWj:()=>Pg,sBO:()=>dM,s_b:()=>Lc,soG:()=>xg,tBr:()=>ai,tb:()=>tM,tp0:()=>Yu,uIk:()=>Fo,vHH:()=>Te,vpe:()=>Ns,wAp:()=>We,xp6:()=>rT,z2F:()=>Fg,z3N:()=>No,zSh:()=>P_,zs3:()=>da});var A=F(7579),k=F(727),K=F(9751),re=F(6451),ee=F(3099);function ie(s){for(let a in s)if(s[a]===ie)return a;throw Error("Could not find renamed property on target object.")}function Z(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function pe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const we=ie({__forward_ref__:ie});function ce(s){return s.__forward_ref__=ce,s.toString=function(){return ue(this())},s}function ae(s){return Qe(s)?s():s}function Qe(s){return"function"==typeof s&&s.hasOwnProperty(we)&&s.__forward_ref__===ce}function be(s){return s&&!!s.\u0275providers}const at="https://g.co/ng/security#xss";class Te extends Error{constructor(a,u){super(mt(a,u)),this.code=a}}function mt(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function Ue(s){return"string"==typeof s?s:null==s?"":String(s)}function Pe(s,a){throw new Te(-201,!1)}function Ze(s,a){null==s&&function et(s,a,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${a} <=Actual]`))}(a,s,null,"!=")}function vt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function st(s){return{providers:s.providers||[],imports:s.imports||[]}}function nr(s){return vn(s,rr)||vn(s,_r)}function Lr(s){return null!==nr(s)}function vn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Bs(s){return s&&(s.hasOwnProperty(is)||s.hasOwnProperty(ir))?s[is]:null}const rr=ie({\u0275prov:ie}),is=ie({\u0275inj:ie}),_r=ie({ngInjectableDef:ie}),ir=ie({ngInjectorDef:ie});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let En;function Gn(s){const a=En;return En=s,a}function wu(s,a,u){const c=nr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&ct.Optional?null:void 0!==a?a:void Pe(ue(s))}const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ts={},Oi="__NG_DI_FLAG__",Mn="ngTempTokenPath",Gr="ngTokenPath",gt=/\n/gm,Cs="\u0275",bn="__source";let Ur;function qt(s){const a=Ur;return Ur=s,a}function Ds(s,a=ct.Default){if(void 0===Ur)throw new Te(-203,!1);return null===Ur?wu(s,void 0,a):Ur.get(s,a&ct.Optional?null:void 0,a)}function Zt(s,a=ct.Default){return(function Ei(){return En}()||Ds)(ae(s),a)}function ni(s,a=ct.Default){return Zt(s,wi(a))}function wi(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function bs(s){const a=[];for(let u=0;u<s.length;u++){const c=ae(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Te(900,!1);let h,p=ct.Default;for(let _=0;_<c.length;_++){const E=c[_],C=Vs(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}a.push(Zt(h,p))}else a.push(Zt(c))}return a}function Bn(s,a){return s[Oi]=a,s.prototype[Oi]=a,s}function Vs(s){return s[Oi]}function yr(s){return{toString:s}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),Ii=(()=>{return(s=Ii||(Ii={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ii;var s})();const Wr={},Nt=[],X=ie({\u0275cmp:ie}),W=ie({\u0275dir:ie}),B=ie({\u0275pipe:ie}),Q=ie({\u0275mod:ie}),me=ie({\u0275fac:ie}),ze=ie({__NG_ELEMENT_ID__:ie});let Dt=0;function an(s){return yr(()=>{const a=$s(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||Ii.Emulated,id:"c"+Dt++,styles:s.styles||Nt,_:null,schemas:s.schemas||null,tView:null};Gf(u);const c=s.dependencies;return u.directiveDefs=Tu(c,!1),u.pipeDefs=Tu(c,!0),u})}function qr(s){return Ut(s)||gn(s)}function Ss(s){return null!==s}function Ra(s){return yr(()=>({type:s.type,bootstrap:s.bootstrap||Nt,declarations:s.declarations||Nt,imports:s.imports||Nt,exports:s.exports||Nt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Iu(s,a){if(null==s)return Wr;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=c,a&&(a[h]=p)}return u}function Ma(s){return yr(()=>{const a=$s(s);return Gf(a),a})}function Wn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ut(s){return s[X]||null}function gn(s){return s[W]||null}function xn(s){return s[B]||null}function os(s){const a=Ut(s)||gn(s)||xn(s);return null!==a&&a.standalone}function br(s,a){const u=s[Q]||null;if(!u&&!0===a)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return u}function $s(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Nt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Iu(s.inputs,a),outputs:Iu(s.outputs)}}function Gf(s){s.features?.forEach(a=>a(s))}function Tu(s,a){if(!s)return null;const u=a?xn:qr;return()=>("function"==typeof s?s():s).map(c=>u(c)).filter(Ss)}const Sr=0,qe=1,Ct=2,un=3,Ar=4,Kr=5,sr=6,as=7,wn=8,Fi=9,Rr=10,St=11,Li=12,Ui=13,js=14,As=15,vr=16,Bi=17,us=18,Ti=19,Hs=20,Ed=21,mn=22,Cu=1,Nl=2,_o=7,zo=8,ls=9,or=10;function Qr(s){return Array.isArray(s)&&"object"==typeof s[Cu]}function ri(s){return Array.isArray(s)&&!0===s[Cu]}function xa(s){return 0!=(4&s.flags)}function yo(s){return s.componentOffset>-1}function Rs(s){return 1==(1&s.flags)}function qn(s){return!!s.template}function vo(s){return 0!=(256&s[Ct])}function zs(s,a){return s.hasOwnProperty(me)?s[me]:null}class bd{constructor(a,u,c){this.previousValue=a,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Io(){return Er}function Er(s){return s.type.prototype.ngOnChanges&&(s.setInput=To),Go}function Go(){const s=Mu(this),a=s?.current;if(a){const u=s.previous;if(u===Wr)s.previous=a;else for(let c in a)u[c]=a[c];s.current=null,this.ngOnChanges(a)}}function To(s,a,u,c){const h=this.declaredInputs[u],p=Mu(s)||function Ul(s,a){return s[ka]=a}(s,{previous:Wr,current:null}),_=p.current||(p.current={}),E=p.previous,C=E[h];_[h]=new bd(C&&C.currentValue,a,E===Wr),s[c]=a}Io.ngInherit=!0;const ka="__ngSimpleChanges__";function Mu(s){return s[ka]||null}const $i=function(s,a,u){},Oa="svg";function Kn(s){for(;Array.isArray(s);)s=s[Sr];return s}function qo(s,a){return Kn(a[s])}function en(s,a){return Kn(a[s.index])}function Pu(s,a){return s.data[a]}function Mr(s,a){const u=a[s];return Qr(u)?u:u[Sr]}function Co(s){return 64==(64&s[Ct])}function Ws(s,a){return null==a?null:s[a]}function Vl(s){s[us]=0}function ji(s,a){s[Kr]+=a;let u=s,c=s[un];for(;null!==c&&(1===a&&1===u[Kr]||-1===a&&0===u[Kr]);)c[Kr]+=a,u=c,c=c[un]}const wt={lFrame:Va(null),bindingsEnabled:!0};function $l(){return wt.bindingsEnabled}function de(){return wt.lFrame.lView}function Ht(){return wt.lFrame.tView}function Md(s){return wt.lFrame.contextLView=s,s[wn]}function xd(s){return wt.lFrame.contextLView=null,s}function Qn(){let s=Ua();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ua(){return wt.lFrame.currentTNode}function Hi(s,a){const u=wt.lFrame;u.currentTNode=s,u.isParent=a}function jl(){return wt.lFrame.isParent}function ku(){wt.lFrame.isParent=!1}function qs(){return wt.lFrame.bindingIndex++}function Ks(s,a){const u=wt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ou(a)}function Ou(s){wt.lFrame.currentDirectiveIndex=s}function Pd(){return wt.lFrame.currentQueryIndex}function Fu(s){wt.lFrame.currentQueryIndex=s}function So(s){const a=s[qe];return 2===a.type?a.declTNode:1===a.type?s[sr]:null}function Yo(s,a,u){if(u&ct.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||u&ct.Host||(h=So(p),null===h||(p=p[As],10&h.type))););if(null===h)return!1;a=h,s=p}const c=wt.lFrame=Xo();return c.currentTNode=a,c.lView=s,!0}function Lu(s){const a=Xo(),u=s[qe];wt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Xo(){const s=wt.lFrame,a=null===s?null:s.child;return null===a?Va(s):a}function Va(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Wl(){const s=wt.lFrame;return wt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Jo=Wl;function Uu(){const s=Wl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wr(){return wt.lFrame.selectedIndex}function hs(s){wt.lFrame.selectedIndex=s}function An(){const s=wt.lFrame;return Pu(s.tView,s.selectedIndex)}function Vu(){wt.lFrame.currentNamespace=Oa}function Ql(s,a){for(let u=a.directiveStart,c=a.directiveEnd;u<c;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:R,ngOnDestroy:O}=p;_&&(s.contentHooks??(s.contentHooks=[])).push(-u,_),E&&((s.contentHooks??(s.contentHooks=[])).push(u,E),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,E)),C&&(s.viewHooks??(s.viewHooks=[])).push(-u,C),R&&((s.viewHooks??(s.viewHooks=[])).push(u,R),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,R)),null!=O&&(s.destroyHooks??(s.destroyHooks=[])).push(u,O)}}function ea(s,a,u){M(s,a,3,u)}function ta(s,a,u,c){(3&s[Ct])===u&&M(s,a,u,c)}function T(s,a){let u=s[Ct];(3&u)===a&&(u&=2047,u+=1,s[Ct]=u)}function M(s,a,u,c){const p=c??-1,_=a.length-1;let E=0;for(let C=void 0!==c?65535&s[us]:0;C<_;C++)if("number"==typeof a[C+1]){if(E=a[C],null!=c&&E>=c)break}else a[C]<0&&(s[us]+=65536),(E<p||-1==p)&&(D(s,u,a,C),s[us]=(4294901760&s[us])+C+2),C++}function D(s,a,u,c){const h=u[c]<0,p=u[c+1],E=s[h?-u[c]:u[c]];if(h){if(s[Ct]>>11<s[us]>>16&&(3&s[Ct])===a){s[Ct]+=2048,$i(4,E,p);try{p.call(E)}finally{$i(5,E,p)}}}else{$i(4,E,p);try{p.call(E)}finally{$i(5,E,p)}}}const N=-1;class ${constructor(a,u,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function $t(s,a,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const p=u[c++],_=u[c++],E=u[c++];s.setAttribute(a,_,E,p)}else{const p=h,_=u[++c];Ir(p)?s.setProperty(a,p,_):s.setAttribute(a,p,_),c++}}return c}function Bt(s){return 3===s||4===s||6===s}function Ir(s){return 64===s.charCodeAt(0)}function xr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?u=h:0===u||Ys(s,u,h,null,-1===u||2===u?a[++c]:null)}}return s}function Ys(s,a,u,c,h){let p=0,_=s.length;if(-1===a)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===a){_=-1;break}if(E>a){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,a),p=_+1),s.splice(p++,0,u),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Gi(s){return s!==N}function Wi(s){return 32767&s}function Ci(s,a){let u=function Vr(s){return s>>16}(s),c=a;for(;u>0;)c=c[As],u--;return c}let $a=!0;function na(s){const a=$a;return $a=s,a}const Od=255,Bm=5;let $u=0;const qi={};function Yl(s,a){const u=Qf(s,a);if(-1!==u)return u;const c=a[qe];c.firstCreatePass&&(s.injectorIndex=a.length,ju(c.data,s),ju(a,null),ju(c.blueprint,null));const h=Yf(s,a),p=s.injectorIndex;if(Gi(h)){const _=Wi(h),E=Ci(h,a),C=E[qe].data;for(let R=0;R<8;R++)a[p+R]=E[_+R]|C[_+R]}return a[p+8]=h,p}function ju(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Qf(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Yf(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=a;for(;null!==h;){if(c=Si(h),null===c)return N;if(u++,h=h[As],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return N}function Fd(s,a,u){!function tI(s,a,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(ze)&&(c=u[ze]),null==c&&(c=u[ze]=$u++);const h=c&Od;a.data[s+(h>>Bm)]|=1<<h}(s,a,u)}function Di(s,a,u){if(u&ct.Optional||void 0!==s)return s;Pe()}function Hu(s,a,u,c){if(u&ct.Optional&&void 0===c&&(c=null),!(u&(ct.Self|ct.Host))){const h=s[Fi],p=Gn(void 0);try{return h?h.get(a,c,u&ct.Optional):wu(a,c,u&ct.Optional)}finally{Gn(p)}}return Di(c,0,u)}function Xl(s,a,u,c=ct.Default,h){if(null!==s){if(1024&a[Ct]){const _=function rI(s,a,u,c,h){let p=s,_=a;for(;null!==p&&null!==_&&1024&_[Ct]&&!(256&_[Ct]);){const E=Vm(p,_,u,c|ct.Self,qi);if(E!==qi)return E;let C=p.parent;if(!C){const R=_[Ed];if(R){const O=R.get(u,qi,c);if(O!==qi)return O}C=Si(_),_=_[As]}p=C}return h}(s,a,u,c,qi);if(_!==qi)return _}const p=Vm(s,a,u,c,qi);if(p!==qi)return p}return Hu(a,u,c,h)}function Vm(s,a,u,c,h){const p=function $b(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ze)?s[ze]:void 0;return"number"==typeof a?a>=0?a&Od:bi:a}(u);if("function"==typeof p){if(!Yo(a,s,c))return c&ct.Host?Di(h,0,c):Hu(a,u,c,h);try{const _=p(c);if(null!=_||c&ct.Optional)return _;Pe()}finally{Jo()}}else if("number"==typeof p){let _=null,E=Qf(s,a),C=N,R=c&ct.Host?a[vr][sr]:null;for((-1===E||c&ct.SkipSelf)&&(C=-1===E?Yf(s,a):a[E+8],C!==N&&Jl(c,!1)?(_=a[qe],E=Wi(C),a=Ci(C,a)):E=-1);-1!==E;){const O=a[qe];if(Xf(p,E,O.data)){const V=nI(E,a,u,_,c,R);if(V!==qi)return V}C=a[E+8],C!==N&&Jl(c,a[qe].data[E+8]===R)&&Xf(p,E,a)?(_=O,E=Wi(C),a=Ci(C,a)):E=-1}}return h}function nI(s,a,u,c,h,p){const _=a[qe],E=_.data[s+8],O=zu(E,_,u,null==c?yo(E)&&$a:c!=_&&0!=(3&E.type),h&ct.Host&&p===E);return null!==O?Xs(a,_,O,E):qi}function zu(s,a,u,c,h){const p=s.providerIndexes,_=a.data,E=1048575&p,C=s.directiveStart,O=p>>20,H=h?E+O:s.directiveEnd;for(let J=c?E:E+O;J<H;J++){const ye=_[J];if(J<C&&u===ye||J>=C&&ye.type===u)return J}if(h){const J=_[C];if(J&&qn(J)&&J.type===u)return C}return null}function Xs(s,a,u,c){let h=s[u];const p=a.data;if(function ne(s){return s instanceof $}(h)){const _=h;_.resolving&&function Ie(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${u}`)}(function rt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ue(s)}(p[u]));const E=na(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Gn(_.injectImpl):null;Yo(s,c,ct.Default);try{h=s[u]=_.factory(void 0,p,s,c),a.firstCreatePass&&u>=c.directiveStart&&function Kf(s,a,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(c){const _=Er(a);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],a)}finally{null!==C&&Gn(C),na(E),_.resolving=!1,Jo()}}return h}function Xf(s,a,u){return!!(u[a+(s>>Bm)]&1<<s)}function Jl(s,a){return!(s&ct.Self||s&ct.Host&&a)}class ra{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,c){return Xl(this._tNode,this._lView,a,wi(c),u)}}function bi(){return new ra(Qn(),de())}function Zl(s){return yr(()=>{const a=s.prototype.constructor,u=a[me]||ia(a),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[me]||ia(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ia(s){return Qe(s)?()=>{const a=ia(ae(s));return a&&a()}:zs(s)}function Si(s){const a=s[qe],u=a.type;return 2===u?a.declTNode:1===u?s[sr]:null}function fn(s){return function Ld(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const p=u[h];if(Bt(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(p===a)return u[h+1];h+=2}}}return null}(Qn(),s)}const ja="__parameters__";function Js(s,a,u){return yr(()=>{const c=function ec(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(a);function h(...p){if(this instanceof h)return c.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(C,R,O){const V=C.hasOwnProperty(ja)?C[ja]:Object.defineProperty(C,ja,{value:[]})[ja];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(_),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class _n{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=vt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sa(s,a){s.forEach(u=>Array.isArray(u)?sa(u,a):a(u))}function Zf(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function oa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Qu(s,a){const u=[];for(let c=0;c<s;c++)u.push(a);return u}function I(s,a,u){let c=x(s,a);return c>=0?s[1|c]=u:(c=~c,function v(s,a,u,c){let h=s.length;if(h==a)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=u,s[a+1]=c}}(s,c,a,u)),c}function S(s,a){const u=x(s,a);if(u>=0)return s[1|u]}function x(s,a){return function q(s,a,u){let c=0,h=s.length>>u;for(;h!==c;){const p=c+(h-c>>1),_=s[p<<u];if(a===_)return p<<u;_>a?h=p:c=p+1}return~(h<<u)}(s,a,1)}const ai=Bn(Js("Inject",s=>({token:s})),-1),tc=Bn(Js("Optional"),8),Yu=Bn(Js("SkipSelf"),4);var Ro=(()=>((Ro=Ro||{})[Ro.Important=1]="Important",Ro[Ro.DashCase=2]="DashCase",Ro))();const qm=new Map;let Km=0;const Xm="__ngContext__";function Xr(s,a){Qr(a)?(s[Xm]=a[Hs],function Qm(s){qm.set(s[Hs],s)}(a)):s[Xm]=a}let Gd;function Wd(s,a){return Gd(s,a)}function qd(s){const a=s[un];return ri(a)?a[un]:a}function n_(s){return Mo(s[Ui])}function r_(s){return Mo(s[Ar])}function Mo(s){for(;null!==s&&!ri(s);)s=s[Ar];return s}function qa(s,a,u,c,h){if(null!=c){let p,_=!1;ri(c)?p=c:Qr(c)&&(_=!0,c=c[Sr]);const E=Kn(c);0===s&&null!==u?null==h?d_(a,u,E):aa(a,u,E,h||null,!0):1===s&&null!==u?aa(a,u,E,h||null,!0):2===s?function g_(s,a,u){const c=Qd(s,a);c&&function h_(s,a,u,c){s.removeChild(a,u,c)}(s,c,a,u)}(a,E,_):3===s&&a.destroyNode(E),null!=p&&function hS(s,a,u,c,h){const p=u[_o];p!==Kn(u)&&qa(a,s,c,p,h);for(let E=or;E<u.length;E++){const C=u[E];Po(C[qe],C,s,a,c,p)}}(a,s,p,u,h)}}function i_(s,a,u){return s.createElement(a,u)}function a_(s,a){const u=s[ls],c=u.indexOf(a),h=a[un];512&a[Ct]&&(a[Ct]&=-513,ji(h,-1)),u.splice(c,1)}function u_(s,a){if(s.length<=or)return;const u=or+a,c=s[u];if(c){const h=c[Bi];null!==h&&h!==s&&a_(h,c),a>0&&(s[u-1][Ar]=c[Ar]);const p=oa(s,or+a);!function s_(s,a){Po(s,a,a[St],2,null,null),a[Sr]=null,a[sr]=null}(c[qe],c);const _=p[Ti];null!==_&&_.detachView(p[qe]),c[un]=null,c[Ar]=null,c[Ct]&=-65}return c}function CI(s,a){if(!(128&a[Ct])){const u=a[St];u.destroyNode&&Po(s,a,u,3,null,null),function o_(s){let a=s[Ui];if(!a)return l_(s[qe],s);for(;a;){let u=null;if(Qr(a))u=a[Ui];else{const c=a[or];c&&(u=c)}if(!u){for(;a&&!a[Ar]&&a!==s;)Qr(a)&&l_(a[qe],a),a=a[un];null===a&&(a=s),Qr(a)&&l_(a[qe],a),u=a&&a[Ar]}a=u}}(a)}}function l_(s,a){if(!(128&a[Ct])){a[Ct]&=-65,a[Ct]|=128,function cS(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=a[u[c]];if(!(h instanceof $)){const p=u[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],C=p[_+1];$i(4,E,C);try{C.call(E)}finally{$i(5,E,C)}}else{$i(4,h,p);try{p.call(h)}finally{$i(5,h,p)}}}}}(s,a),function lS(s,a){const u=s.cleanup,c=a[as];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+3];_>=0?c[h=_]():c[h=-_].unsubscribe(),p+=2}else{const _=c[h=u[p+1]];u[p].call(_)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();a[as]=null}}(s,a),1===a[qe].type&&a[St].destroy();const u=a[Bi];if(null!==u&&ri(a[un])){u!==a[un]&&a_(u,a);const c=a[Ti];null!==c&&c.detachView(s)}!function nS(s){qm.delete(s[Hs])}(a)}}function xo(s,a,u){return function c_(s,a,u){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return u[Sr];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:p}=s.data[c.directiveStart+h];if(p===Ii.None||p===Ii.Emulated)return null}return en(c,u)}}(s,a.parent,u)}function aa(s,a,u,c,h){s.insertBefore(a,u,c,h)}function d_(s,a,u){s.appendChild(a,u)}function op(s,a,u,c,h){null!==c?aa(s,a,u,c,h):d_(s,a,u)}function Qd(s,a){return s.parentNode(a)}function ap(s,a,u){return bI(s,a,u)}let p_,Jd,ac,uc,bI=function DI(s,a,u){return 40&s.type?en(s,u):null};function Yd(s,a,u,c){const h=xo(s,c,a),p=a[St],E=ap(c.parent||a[sr],c,a);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)op(p,h,u[C],E,!1);else op(p,h,u,E,!1);void 0!==p_&&p_(p,c,a,u,h)}function lp(s,a){if(null!==a){const u=a.type;if(3&u)return en(a,s);if(4&u)return Xd(-1,s[a.index]);if(8&u){const c=a.child;if(null!==c)return lp(s,c);{const h=s[a.index];return ri(h)?Xd(-1,h):Kn(h)}}if(32&u)return Wd(a,s)()||Kn(s[a.index]);{const c=SI(s,a);return null!==c?Array.isArray(c)?c[0]:lp(qd(s[vr]),c):lp(s,a.next)}}return null}function SI(s,a){return null!==a?s[vr][sr].projection[a.projection]:null}function Xd(s,a){const u=or+s+1;if(u<a.length){const c=a[u],h=c[qe].firstChild;if(null!==h)return lp(c,h)}return a[_o]}function m_(s,a,u,c,h,p,_){for(;null!=u;){const E=c[u.index],C=u.type;if(_&&0===a&&(E&&Xr(Kn(E),c),u.flags|=2),32!=(32&u.flags))if(8&C)m_(s,a,u.child,c,h,p,!1),qa(a,s,h,E,p);else if(32&C){const R=Wd(u,c);let O;for(;O=R();)qa(a,s,h,O,p);qa(a,s,h,E,p)}else 16&C?__(s,a,c,u,h,p):qa(a,s,h,E,p);u=_?u.projectionNext:u.next}}function Po(s,a,u,c,h,p){m_(u,c,s.firstChild,a,h,p,!1)}function __(s,a,u,c,h,p){const _=u[vr],C=_[sr].projection[c.projection];if(Array.isArray(C))for(let R=0;R<C.length;R++)qa(a,s,h,C[R],p);else m_(s,a,C,_[un],h,p,!0)}function RI(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function Ka(s,a,u){const{mergedAttrs:c,classes:h,styles:p}=u;null!==c&&$t(s,a,c),null!==h&&RI(s,a,h),null!==p&&function AI(s,a,u){s.setAttribute(a,"style",u)}(s,a,p)}function oc(s){return function cp(){if(void 0===Jd&&(Jd=null,rn.trustedTypes))try{Jd=rn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Jd}()?.createHTML(s)||s}function v_(s){ac=s}function pp(s){return function Ju(){if(void 0===uc&&(uc=null,rn.trustedTypes))try{uc=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return uc}()?.createScriptURL(s)||s}class Zu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class gS extends Zu{getTypeName(){return"HTML"}}class mS extends Zu{getTypeName(){return"Style"}}class E_ extends Zu{getTypeName(){return"Script"}}class _S extends Zu{getTypeName(){return"URL"}}class w_ extends Zu{getTypeName(){return"ResourceURL"}}function No(s){return s instanceof Zu?s.changingThisBreaksApplicationSecurity:s}function el(s,a){const u=function yS(s){return s instanceof Zu&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${at})`)}return u===a}function vS(s){return new gS(s)}function I_(s){return new mS(s)}function ES(s){return new E_(s)}function T_(s){return new _S(s)}function C_(s){return new w_(s)}class D_{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(oc(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class PI{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const u=this.inertDocument.createElement("template");return u.innerHTML=oc(a),u}}const b_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zd(s){return(s=String(s)).match(b_)?s:"unsafe:"+s}function ua(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function eh(...s){const a={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(a[c]=!0);return a}const NI=ua("area,br,col,hr,img,wbr"),kI=ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OI=ua("rp,rt"),S_=eh(NI,eh(kI,ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eh(OI,ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eh(OI,kI)),th=ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BI=eh(th,ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rO=ua("script,style,template");class A_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!S_.hasOwnProperty(u))return this.sanitizedSomething=!0,!rO.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=a.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),_=p.name,E=_.toLowerCase();if(!BI.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;th[E]&&(C=Zd(C)),this.buf.push(" ",_,'="',VI(C),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();S_.hasOwnProperty(u)&&!NI.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(VI(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const iO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sO=/([^\#-~ |!])/g;function VI(s){return s.replace(/&/g,"&amp;").replace(iO,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(sO,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lc;function R_(s,a){let u=null;try{lc=lc||function xI(s){const a=new PI(s);return function wS(){try{return!!(new window.DOMParser).parseFromString(oc(""),"text/html")}catch{return!1}}()?new D_(a):a}(s);let c=a?String(a):"";u=lc.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=u.innerHTML,u=lc.getInertBodyElement(c)}while(c!==p);return oc((new A_).sanitizeChildren(M_(u)||u))}finally{if(u){const c=M_(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function M_(s){return"content"in s&&function IS(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var cr=(()=>((cr=cr||{})[cr.NONE=0]="NONE",cr[cr.HTML=1]="HTML",cr[cr.STYLE=2]="STYLE",cr[cr.SCRIPT=3]="SCRIPT",cr[cr.URL=4]="URL",cr[cr.RESOURCE_URL=5]="RESOURCE_URL",cr))();function gp(s){const a=nh();return a?a.sanitize(cr.URL,s)||"":el(s,"URL")?No(s):Zd(Ue(s))}function $I(s){const a=nh();if(a)return pp(a.sanitize(cr.RESOURCE_URL,s)||"");if(el(s,"ResourceURL"))return pp(No(s));throw new Te(904,!1)}function HI(s,a,u){return function DS(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?$I:gp}(a,u)(s)}function nh(){const s=de();return s&&s[Li]}const rh=new _n("ENVIRONMENT_INITIALIZER"),SS=new _n("INJECTOR",-1),zI=new _n("INJECTOR_DEF_TYPES");class mp{get(a,u=Ts){if(u===Ts){const c=new Error(`NullInjectorError: No provider for ${ue(a)}!`);throw c.name="NullInjectorError",c}return u}}function AS(...s){return{\u0275providers:_p(0,s),\u0275fromNgModule:!0}}function _p(s,...a){const u=[],c=new Set;let h;return sa(a,p=>{const _=p;GI(_,u,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&RS(h,u),u}function RS(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];WI(h,p=>{a.push(p)})}}function GI(s,a,u,c){if(!(s=ae(s)))return!1;let h=null,p=Bs(s);const _=!p&&Ut(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const C=s.ngModule;if(p=Bs(C),!p)return!1;h=C}const E=c.has(h);if(_){if(E)return!1;if(c.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const R of C)GI(R,a,u,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let R;c.add(h);try{sa(p.imports,O=>{GI(O,a,u,c)&&(R||(R=[]),R.push(O))})}finally{}void 0!==R&&RS(R,a)}if(!E){const R=zs(h)||(()=>new h);a.push({provide:h,useFactory:R,deps:Nt},{provide:zI,useValue:h,multi:!0},{provide:rh,useValue:()=>Zt(h),multi:!0})}const C=p.providers;null==C||E||WI(C,O=>{a.push(O)})}}return h!==s&&void 0!==s.providers}function WI(s,a){for(let u of s)be(u)&&(u=u.\u0275providers),Array.isArray(u)?WI(u,a):a(u)}const yp=ie({provide:String,useValue:ie});function qI(s){return null!==s&&"object"==typeof s&&yp in s}function tl(s){return"function"==typeof s}const P_=new _n("Set Injector scope."),vp={},xS={};let N_;function Ep(){return void 0===N_&&(N_=new mp),N_}class nl{}class ih extends nl{get destroyed(){return this._destroyed}constructor(a,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sh(a,_=>this.processProvider(_)),this.records.set(SS,cc(void 0,this)),h.has("environment")&&this.records.set(nl,cc(void 0,this));const p=this.records.get(P_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(zI.multi,Nt,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=qt(this),c=Gn(void 0);try{return a()}finally{qt(u),Gn(c)}}get(a,u=Ts,c=ct.Default){this.assertNotDestroyed(),c=wi(c);const h=qt(this),p=Gn(void 0);try{if(!(c&ct.SkipSelf)){let E=this.records.get(a);if(void 0===E){const C=function uO(s){return"function"==typeof s||"object"==typeof s&&s instanceof _n}(a)&&nr(a);E=C&&this.injectableDefInScope(C)?cc(la(a),vp):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(c&ct.Self?Ep():this.parent).get(a,u=c&ct.Optional&&u===Ts?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Mn]=_[Mn]||[]).unshift(ue(a)),h)throw _;return function ss(s,a,u,c){const h=s[Mn];throw a[bn]&&h.unshift(a[bn]),s.message=function Ho(s,a,u,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Cs?s.slice(2):s;let h=ue(a);if(Array.isArray(a))h=a.map(ue).join(" -> ");else if("object"==typeof a){let p=[];for(let _ in a)if(a.hasOwnProperty(_)){let E=a[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${p.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(gt,"\n  ")}`}("\n"+s.message,h,u,c),s[Gr]=h,s[Mn]=null,s}(_,a,"R3InjectorError",this.source)}throw _}finally{Gn(p),qt(h)}}resolveInjectorInitializers(){const a=qt(this),u=Gn(void 0);try{const c=this.get(rh.multi,Nt,ct.Self);for(const h of c)h()}finally{qt(a),Gn(u)}}toString(){const a=[],u=this.records;for(const c of u.keys())a.push(ue(c));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(a){let u=tl(a=ae(a))?a:ae(a&&a.provide);const c=function NS(s){return qI(s)?cc(void 0,s.useValue):cc(YI(s),vp)}(a);if(tl(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=cc(void 0,vp,!0),h.factory=()=>bs(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,c)}hydrate(a,u){return u.value===vp&&(u.value=xS,u.value=u.factory()),"object"==typeof u.value&&u.value&&function OS(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ae(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function la(s){const a=nr(s),u=null!==a?a.factory:zs(s);if(null!==u)return u;if(s instanceof _n)throw new Te(204,!1);if(s instanceof Function)return function PS(s){const a=s.length;if(a>0)throw Qu(a,"?"),new Te(204,!1);const u=function ki(s){return s&&(s[rr]||s[_r])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Te(204,!1)}function YI(s,a,u){let c;if(tl(s)){const h=ae(s);return zs(h)||la(h)}if(qI(s))c=()=>ae(s.useValue);else if(function QI(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...bs(s.deps||[]));else if(function KI(s){return!(!s||!s.useExisting)}(s))c=()=>Zt(ae(s.useExisting));else{const h=ae(s&&(s.useClass||s.provide));if(!function kS(s){return!!s.deps}(s))return zs(h)||la(h);c=()=>new h(...bs(s.deps))}return c}function cc(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function sh(s,a){for(const u of s)Array.isArray(u)?sh(u,a):u&&be(u)?sh(u.\u0275providers,a):a(u)}class FS{}class wp{}class BS{resolveComponentFactory(a){throw function LS(s){const a=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let dc=(()=>{class s{}return s.NULL=new BS,s})();function VS(){return hc(Qn(),de())}function hc(s,a){return new oh(en(s,a))}let oh=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=VS,s})();function lO(s){return s instanceof oh?s.nativeElement:s}class rl{}let ca=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function $S(){const s=de(),u=Mr(Qn().index,s);return(Qr(u)?u:s)[St]}(),s})(),k_=(()=>{class s{}return s.\u0275prov=vt({token:s,providedIn:"root",factory:()=>null}),s})();class JI{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const O_=new JI("15.2.8"),F_={},ah="ngOriginalError";function L_(s){return s[ah]}class uh{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&L_(a);for(;u&&L_(u);)u=L_(u);return u||null}}function Zs(s){return s instanceof Function?s():s}function Tp(s,a,u){let c=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}u=h+1}}const z_="ng-template";function G_(s,a,u){let c=0,h=!0;for(;c<s.length;){let p=s[c++];if("string"==typeof p&&h){const _=s[c++];if(u&&"class"===p&&-1!==Tp(_.toLowerCase(),a,0))return!0}else{if(1===p){for(;c<s.length&&"string"==typeof(p=s[c++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Cp(s){return 4===s.type&&s.value!==z_}function W_(s,a,u){return a===(4!==s.type||u?s.value:z_)}function q_(s,a,u){let c=4;const h=s.attrs||[],p=function tT(s){for(let a=0;a<s.length;a++)if(Bt(s[a]))return a;return s.length}(h);let _=!1;for(let E=0;E<a.length;E++){const C=a[E];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!W_(s,C,u)||""===C&&1===a.length){if(xs(c))return!1;_=!0}}else{const R=8&c?C:a[++E];if(8&c&&null!==s.attrs){if(!G_(s.attrs,R,u)){if(xs(c))return!1;_=!0}continue}const V=zS(8&c?"class":C,h,Cp(s),u);if(-1===V){if(xs(c))return!1;_=!0;continue}if(""!==R){let H;H=V>p?"":h[V+1].toLowerCase();const J=8&c?H:null;if(J&&-1!==Tp(J,R,0)||2&c&&R!==H){if(xs(c))return!1;_=!0}}}}else{if(!_&&!xs(c)&&!xs(C))return!1;if(_&&xs(C))continue;_=!1,c=C|1&c}}return xs(c)||_}function xs(s){return 0==(1&s)}function zS(s,a,u,c){if(null===a)return-1;let h=0;if(c||!u){let p=!1;for(;h<a.length;){const _=a[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Q_(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===a)return u;u++}return-1}(a,s)}function eT(s,a,u=!1){for(let c=0;c<a.length;c++)if(q_(s,a[c],u))return!0;return!1}function GS(s,a){e:for(let u=0;u<a.length;u++){const c=a[u];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function Dp(s,a){return s?":not("+a.trim()+")":a}function nT(s){let a=s[0],u=1,c=2,h="",p=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const E=s[++u];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!xs(_)&&(a+=Dp(p,h),h=""),c=_,p=p||!xs(c);u++}return""!==h&&(a+=Dp(p,h)),a}const Rt={};function rT(s){X_(Ht(),de(),wr()+s,!1)}function X_(s,a,u,c){if(!c)if(3==(3&a[Ct])){const p=s.preOrderCheckHooks;null!==p&&ea(a,p,u)}else{const p=s.preOrderHooks;null!==p&&ta(a,p,0,u)}hs(u)}function bp(s,a=null,u=null,c){const h=uT(s,a,u,c);return h.resolveInjectorInitializers(),h}function uT(s,a=null,u=null,c,h=new Set){const p=[u||Nt,AS(s)];return c=c||("object"==typeof s?void 0:ue(s)),new ih(p,a||Ep(),c||null,h)}let da=(()=>{class s{static create(u,c){if(Array.isArray(u))return bp({name:""},c,u,"");{const h=u.name??"";return bp({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Ts,s.NULL=new mp,s.\u0275prov=vt({token:s,providedIn:"any",factory:()=>Zt(SS)}),s.__NG_ELEMENT_ID__=-1,s})();function gc(s,a=ct.Default){const u=de();return null===u?Zt(s,a):Xl(Qn(),u,ae(s),a)}function li(){throw new Error("invalid")}function oy(s,a){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const p=u[c+1];if(-1!==p){const _=s.data[p];Fu(u[c]),_.contentQueries(2,a[p],p)}}}function Rp(s,a,u,c,h,p,_,E,C,R,O){const V=a.blueprint.slice();return V[Sr]=h,V[Ct]=76|c,(null!==O||s&&1024&s[Ct])&&(V[Ct]|=1024),Vl(V),V[un]=V[As]=s,V[wn]=u,V[Rr]=_||s&&s[Rr],V[St]=E||s&&s[St],V[Li]=C||s&&s[Li]||null,V[Fi]=R||s&&s[Fi]||null,V[sr]=p,V[Hs]=function fI(){return Km++}(),V[Ed]=O,V[vr]=2==a.type?s[vr]:V,V}function mc(s,a,u,c,h){let p=s.data[a];if(null===p)p=function hh(s,a,u,c,h){const p=Ua(),_=jl(),C=s.data[a]=function uA(s,a,u,c,h,p){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,a,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(s,a,u,c,h),function bo(){return wt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=c,p.attrs=h;const _=function ds(){const s=wt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Hi(p,!0),p}function fh(s,a,u,c){if(0===u)return-1;const h=a.length;for(let p=0;p<u;p++)a.push(c),s.blueprint.push(c),s.data.push(null);return h}function ph(s,a,u){Lu(a);try{const c=s.viewQuery;null!==c&&Ey(1,c,u);const h=s.template;null!==h&&pT(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&oy(s,a),s.staticViewQueries&&Ey(2,s.viewQuery,u);const p=s.components;null!==p&&function sA(s,a){for(let u=0;u<a.length;u++)TT(s,a[u])}(a,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{a[Ct]&=-5,Uu()}}function Mp(s,a,u,c){const h=a[Ct];if(128!=(128&h)){Lu(a);try{Vl(a),function Qo(s){return wt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&pT(s,a,u,2,c);const _=3==(3&h);if(_){const R=s.preOrderCheckHooks;null!==R&&ea(a,R,null)}else{const R=s.preOrderHooks;null!==R&&ta(a,R,0,null),T(a,0)}if(function wT(s){for(let a=n_(s);null!==a;a=r_(a)){if(!a[Nl])continue;const u=a[ls];for(let c=0;c<u.length;c++){const h=u[c];512&h[Ct]||ji(h[un],1),h[Ct]|=512}}}(a),function Oo(s){for(let a=n_(s);null!==a;a=r_(a))for(let u=or;u<a.length;u++){const c=a[u],h=c[qe];Co(c)&&Mp(h,c,h.template,c[wn])}}(a),null!==s.contentQueries&&oy(s,a),_){const R=s.contentCheckHooks;null!==R&&ea(a,R)}else{const R=s.contentHooks;null!==R&&ta(a,R,1),T(a,1)}!function rA(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)hs(~h);else{const p=h,_=u[++c],E=u[++c];Ks(_,p),E(2,a[p])}}}finally{hs(-1)}}(s,a);const E=s.components;null!==E&&function iA(s,a){for(let u=0;u<a.length;u++)IT(s,a[u])}(a,E);const C=s.viewQuery;if(null!==C&&Ey(2,C,c),_){const R=s.viewCheckHooks;null!==R&&ea(a,R)}else{const R=s.viewHooks;null!==R&&ta(a,R,2),T(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Ct]&=-41,512&a[Ct]&&(a[Ct]&=-513,ji(a[un],-1))}finally{Uu()}}}function pT(s,a,u,c,h){const p=wr(),_=2&c;try{hs(-1),_&&a.length>mn&&X_(s,a,mn,!1),$i(_?2:0,h),u(c,h)}finally{hs(p),$i(_?3:1,h)}}function ay(s,a,u){if(xa(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,u[p],p)}}}function uy(s,a,u){$l()&&(function py(s,a,u,c){const h=u.directiveStart,p=u.directiveEnd;yo(u)&&function vT(s,a,u){const c=en(a,s),h=gT(u),p=s[Rr],_=gs(s,Rp(s,h,null,u.onPush?32:16,c,a,p,p.createRenderer(c,u),null,null,null));s[a.index]=_}(a,u,s.data[h+u.componentOffset]),s.firstCreatePass||Yl(u,a),Xr(c,a);const _=u.initialInputs;for(let E=h;E<p;E++){const C=s.data[E],R=Xs(a,s,E,u);Xr(R,a),null!==_&&pA(0,E-h,R,C,0,_),qn(C)&&(Mr(u.index,a)[wn]=Xs(a,s,E,u))}}(s,a,u,en(u,a)),64==(64&u.flags)&&_T(s,a,u))}function ly(s,a,u=en){const c=a.localNames;if(null!==c){let h=a.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],E=-1===_?u(a,s):s[_];s[h++]=E}}}function gT(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=xp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function xp(s,a,u,c,h,p,_,E,C,R){const O=mn+c,V=O+h,H=function oA(s,a){const u=[];for(let c=0;c<a;c++)u.push(c<s?null:Rt);return u}(O,V),J="function"==typeof R?R():R;return H[qe]={type:s,blueprint:H,template:u,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function Pp(s,a,u,c){const h=DT(a);null===u?h.push(c):(h.push(u),s.firstCreatePass&&bT(s).push(c,h.length-1))}function Np(s,a,u,c){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===c?cy(u,a,h,p):c.hasOwnProperty(h)&&cy(u,a,c[h],p)}return u}function cy(s,a,u,c){s.hasOwnProperty(u)?s[u].push(a,c):s[u]=[a,c]}function ps(s,a,u,c,h,p,_,E){const C=en(a,u);let O,R=a.inputs;!E&&null!=R&&(O=R[c])?(ST(s,u,O,c,h),yo(a)&&function cA(s,a){const u=Mr(a,s);16&u[Ct]||(u[Ct]|=32)}(u,a.index)):3&a.type&&(c=function lA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,a.value||"",c):h,p.setProperty(C,c,h))}function gh(s,a,u,c){if($l()){const h=null===c?null:{"":-1},p=function hA(s,a){const u=s.directiveRegistry;let c=null,h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];if(eT(a,_.selectors,!1))if(c||(c=[]),qn(_))if(null!==_.findHostDirectiveDefs){const E=[];h=h||new Map,_.findHostDirectiveDefs(_,E,h),c.unshift(...E,_),mh(s,a,E.length)}else c.unshift(_),mh(s,a,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,c,h),c.push(_)}return null===c?null:[c,h]}(s,u);let _,E;null===p?_=E=null:[_,E]=p,null!==_&&mT(s,a,u,_,h,E),h&&function fA(s,a,u){if(a){const c=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=u[a[h+1]];if(null==p)throw new Te(-301,!1);c.push(a[h],p)}}}(u,c,h)}u.mergedAttrs=xr(u.mergedAttrs,u.attrs)}function mT(s,a,u,c,h,p){for(let R=0;R<c.length;R++)Fd(Yl(u,a),s,c[R].type);!function _y(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,c.length);for(let R=0;R<c.length;R++){const O=c[R];O.providersResolver&&O.providersResolver(O)}let _=!1,E=!1,C=fh(s,a,c.length,null);for(let R=0;R<c.length;R++){const O=c[R];u.mergedAttrs=xr(u.mergedAttrs,O.hostAttrs),yT(s,u,a,C,O),my(C,O,h),null!==O.contentQueries&&(u.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=64);const V=O.type.prototype;!_&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),_=!0),!E&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),E=!0),C++}!function dy(s,a,u){const h=a.directiveEnd,p=s.data,_=a.attrs,E=[];let C=null,R=null;for(let O=a.directiveStart;O<h;O++){const V=p[O],H=u?u.get(V):null,ye=H?H.outputs:null;C=Np(V.inputs,O,C,H?H.inputs:null),R=Np(V.outputs,O,R,ye);const Me=null===C||null===_||Cp(a)?null:yy(C,O,_);E.push(Me)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=C,a.outputs=R}(s,u,p)}function _T(s,a,u){const c=u.directiveStart,h=u.directiveEnd,p=u.index,_=function Ba(){return wt.lFrame.currentDirectiveIndex}();try{hs(p);for(let E=c;E<h;E++){const C=s.data[E],R=a[E];Ou(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&gy(C,R)}}finally{hs(-1),Ou(_)}}function gy(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function mh(s,a,u){a.componentOffset=u,(s.components??(s.components=[])).push(a.index)}function my(s,a,u){if(u){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)u[a.exportAs[c]]=s;qn(a)&&(u[""]=s)}}function yT(s,a,u,c,h){s.data[c]=h;const p=h.factory||(h.factory=zs(h.type)),_=new $(p,qn(h),gc);s.blueprint[c]=_,u[c]=_,function fy(s,a,u,c,h){const p=h.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const E=~a.index;(function dA(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(_)!=E&&_.push(E),_.push(u,c,p)}}(s,a,c,fh(s,u,h.hostVars,Rt),h)}function ko(s,a,u,c,h,p){const _=en(s,a);!function _h(s,a,u,c,h,p,_){if(null==p)s.removeAttribute(a,h,u);else{const E=null==_?Ue(p):_(p,c||"",h);s.setAttribute(a,h,E,u)}}(a[St],_,p,s.value,u,c,h)}function pA(s,a,u,c,h,p){const _=p[a];if(null!==_){const E=c.setInput;for(let C=0;C<_.length;){const R=_[C++],O=_[C++],V=_[C++];null!==E?c.setInput(u,V,R,O):u[O]=V}}}function yy(s,a,u){let c=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const _=s[p];for(let E=0;E<_.length;E+=2)if(_[E]===a){c.push(p,_[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function ET(s,a,u,c){return[s,!0,!1,a,null,0,c,u,null,null]}function IT(s,a){const u=Mr(a,s);if(Co(u)){const c=u[qe];48&u[Ct]?Mp(c,u,c.template,u[wn]):u[Kr]>0&&_c(u)}}function _c(s){for(let c=n_(s);null!==c;c=r_(c))for(let h=or;h<c.length;h++){const p=c[h];if(Co(p))if(512&p[Ct]){const _=p[qe];Mp(_,p,_.template,p[wn])}else p[Kr]>0&&_c(p)}const u=s[qe].components;if(null!==u)for(let c=0;c<u.length;c++){const h=Mr(u[c],s);Co(h)&&h[Kr]>0&&_c(h)}}function TT(s,a){const u=Mr(a,s),c=u[qe];(function CT(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(c,u),ph(c,u,u[wn])}function gs(s,a){return s[Ui]?s[js][Ar]=a:s[Ui]=a,s[js]=a,a}function yc(s){for(;s;){s[Ct]|=32;const a=qd(s);if(vo(s)&&!a)return s;s=a}return null}function vy(s,a,u,c=!0){const h=a[Rr];h.begin&&h.begin();try{Mp(s,a,s.template,u)}catch(_){throw c&&gA(a,_),_}finally{h.end&&h.end()}}function Ey(s,a,u){Fu(0),a(s,u)}function DT(s){return s[as]||(s[as]=[])}function bT(s){return s.cleanup||(s.cleanup=[])}function gA(s,a){const u=s[Fi],c=u?u.get(uh,null):null;c&&c.handleError(a)}function ST(s,a,u,c,h){for(let p=0;p<u.length;){const _=u[p++],E=u[p++],C=a[_],R=s.data[_];null!==R.setInput?R.setInput(C,h,c,E):C[E]=h}}function wy(s,a,u){let c=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==a)for(let _=0;_<a.length;_++){const E=a[_];"number"==typeof E?p=E:1==p?h=pe(h,E):2==p&&(c=pe(c,E+": "+a[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}function Iy(s,a,u,c,h=!1){for(;null!==u;){const p=a[u.index];if(null!==p&&c.push(Kn(p)),ri(p))for(let E=or;E<p.length;E++){const C=p[E],R=C[qe].firstChild;null!==R&&Iy(C[qe],C,R,c)}const _=u.type;if(8&_)Iy(s,a,u.child,c);else if(32&_){const E=Wd(u,a);let C;for(;C=E();)c.push(C)}else if(16&_){const E=SI(a,u);if(Array.isArray(E))c.push(...E);else{const C=qd(a[vr]);Iy(C[qe],C,E,c,!0)}}u=h?u.projectionNext:u.next}return c}class Op{get rootNodes(){const a=this._lView,u=a[qe];return Iy(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(a){this._lView[wn]=a}get destroyed(){return 128==(128&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[un];if(ri(a)){const u=a[zo],c=u?u.indexOf(this):-1;c>-1&&(u_(a,c),oa(u,c))}this._attachedToViewContainer=!1}CI(this._lView[qe],this._lView)}onDestroy(a){Pp(this._lView[qe],this._lView,null,a)}markForCheck(){yc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-65}reattach(){this._lView[Ct]|=64}detectChanges(){vy(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wI(s,a){Po(s,a,a[St],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=a}}class EO extends Op{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;vy(a[qe],a,a[wn],!1)}checkNoChanges(){}get context(){return null}}class AT extends dc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Ut(a);return new yh(u,this.ngModule)}}function mA(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class MT{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,c){c=wi(c);const h=this.injector.get(a,F_,c);return h!==F_||u===F_?h:this.parentInjector.get(a,u,c)}}class yh extends wp{get inputs(){return mA(this.componentDef.inputs)}get outputs(){return mA(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function Y_(s){return s.map(nT).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,c,h){let p=(h=h||this.ngModule)instanceof nl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new MT(a,p):a,E=_.get(rl,null);if(null===E)throw new Te(407,!1);const C=_.get(k_,null),R=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",V=c?function aA(s,a,u){return s.selectRootElement(a,u===Ii.ShadowDom)}(R,c,this.componentDef.encapsulation):i_(R,O,function RT(s){const a=s.toLowerCase();return"svg"===a?Oa:"math"===a?"math":null}(O)),H=this.componentDef.onPush?288:272,J=xp(0,null,null,1,0,null,null,null,null,null),ye=Rp(null,J,null,H,null,null,E,R,C,_,null);let Me,Be;Lu(ye);try{const Xe=this.componentDef;let Tt,De=null;Xe.findHostDirectiveDefs?(Tt=[],De=new Map,Xe.findHostDirectiveDefs(Xe,Tt,De),Tt.push(Xe)):Tt=[Xe];const Mt=function yA(s,a){const u=s[qe],c=mn;return s[c]=a,mc(u,c,2,"#host",null)}(ye,V),Pn=function vA(s,a,u,c,h,p,_,E){const C=h[qe];!function EA(s,a,u,c){for(const h of s)a.mergedAttrs=xr(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(wy(a,a.mergedAttrs,!0),null!==u&&Ka(c,u,a))}(c,s,a,_);const R=p.createRenderer(a,u),O=Rp(h,gT(u),null,u.onPush?32:16,h[s.index],s,p,R,E||null,null,null);return C.firstCreatePass&&mh(C,s,c.length-1),gs(h,O),h[s.index]=O}(Mt,V,Xe,Tt,ye,E,R);Be=Pu(J,mn),V&&function wA(s,a,u,c){if(c)$t(s,u,["ng-version",O_.full]);else{const{attrs:h,classes:p}=function WS(s){const a=[],u=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++c]):8===h&&u.push(p);else{if(!xs(h))break;h=p}c++}return{attrs:a,classes:u}}(a.selectors[0]);h&&$t(s,u,h),p&&p.length>0&&RI(s,u,p.join(" "))}}(R,Xe,V,c),void 0!==u&&function xT(s,a,u){const c=s.projection=[];for(let h=0;h<a.length;h++){const p=u[h];c.push(null!=p?Array.from(p):null)}}(Be,this.ngContentSelectors,u),Me=function IO(s,a,u,c,h,p){const _=Qn(),E=h[qe],C=en(_,h);mT(E,h,_,u,null,c);for(let O=0;O<u.length;O++)Xr(Xs(h,E,_.directiveStart+O,_),h);_T(E,h,_),C&&Xr(C,h);const R=Xs(h,E,_.directiveStart+_.componentOffset,_);if(s[wn]=h[wn]=R,null!==p)for(const O of p)O(R,a);return ay(E,_,s),R}(Pn,Xe,Tt,De,ye,[IA]),ph(J,ye,null)}finally{Uu()}return new _A(this.componentType,Me,hc(Be,ye),ye,Be)}}class _A extends FS{constructor(a,u,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new EO(h),this.componentType=a}setInput(a,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[a])){const p=this._rootLView;ST(p[qe],p,h,a,u),yc(Mr(this._tNode.index,p))}}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function IA(){const s=Qn();Ql(de()[qe],s)}function Fp(s){let a=function Ty(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;a;){let h;if(qn(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Te(903,!1);h=a.\u0275dir}if(h){if(u){c.push(h);const _=s;_.inputs=vh(s.inputs),_.declaredInputs=vh(s.declaredInputs),_.outputs=vh(s.outputs);const E=h.hostBindings;E&&by(s,E);const C=h.viewQuery,R=h.contentQueries;if(C&&Cy(s,C),R&&Dy(s,R),Z(s.inputs,h.inputs),Z(s.declaredInputs,h.declaredInputs),Z(s.outputs,h.outputs),qn(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===Fp&&(u=!1)}}a=Object.getPrototypeOf(a)}!function vc(s){let a=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=a+=h.hostVars,h.hostAttrs=xr(h.hostAttrs,u=xr(u,h.hostAttrs))}}(c)}function vh(s){return s===Wr?{}:s===Nt?[]:s}function Cy(s,a){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{a(c,h),u(c,h)}:a}function Dy(s,a){const u=s.contentQueries;s.contentQueries=u?(c,h,p)=>{a(c,h,p),u(c,h,p)}:a}function by(s,a){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{a(c,h),u(c,h)}:a}function Up(s){return!!My(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function My(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ci(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function Fo(s,a,u,c){const h=de();return ci(h,qs(),a)&&(Ht(),ko(An(),h,s,a,u,c)),Fo}function Ih(s,a,u,c){return ci(s,qs(),u)?a+Ue(u)+c:Rt}function $n(s,a,u,c,h,p,_,E){const C=de(),R=Ht(),O=s+mn,V=R.firstCreatePass?function PA(s,a,u,c,h,p,_,E,C){const R=a.consts,O=mc(a,s,4,_||null,Ws(R,E));gh(a,u,O,Ws(R,C)),Ql(a,O);const V=O.tView=xp(2,O,c,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,R);return null!==a.queries&&(a.queries.template(a,O),V.queries=a.queries.embeddedTView(O)),O}(O,R,C,a,u,c,h,p,_):R.data[O];Hi(V,!1);const H=C[St].createComment("");Yd(R,C,H,V),Xr(H,C),gs(C,C[O]=ET(H,C,H,V)),Rs(V)&&uy(R,C,V),null!=_&&ly(C,V,E)}function Th(s){return function cs(s,a){return s[a]}(function Hl(){return wt.lFrame.contextLView}(),mn+s)}function Ch(s,a,u){const c=de();return ci(c,qs(),a)&&ps(Ht(),An(),c,s,a,c[St],u,!1),Ch}function Py(s,a,u,c,h){const _=h?"class":"style";ST(s,u,a.inputs[_],_,c)}function jp(s,a,u,c){const h=de(),p=Ht(),_=mn+s,E=h[St],C=p.firstCreatePass?function kA(s,a,u,c,h,p){const _=a.consts,C=mc(a,s,2,c,Ws(_,h));return gh(a,u,C,Ws(_,p)),null!==C.attrs&&wy(C,C.attrs,!1),null!==C.mergedAttrs&&wy(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(_,p,h,a,u,c):p.data[_],R=h[_]=i_(E,a,function Kl(){return wt.lFrame.currentNamespace}()),O=Rs(C);return Hi(C,!0),Ka(E,R,C),32!=(32&C.flags)&&Yd(p,h,R,C),0===function Do(){return wt.lFrame.elementDepthCount}()&&Xr(R,h),function Ko(){wt.lFrame.elementDepthCount++}(),O&&(uy(p,h,C),ay(p,C,h)),null!==c&&ly(h,C),jp}function Dh(){let s=Qn();jl()?ku():(s=s.parent,Hi(s,!1));const a=s;!function Ad(){wt.lFrame.elementDepthCount--}();const u=Ht();return u.firstCreatePass&&(Ql(u,s),xa(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function At(s){return 0!=(8&s.flags)}(a)&&Py(u,a,de(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ot(s){return 0!=(16&s.flags)}(a)&&Py(u,a,de(),a.stylesWithoutHost,!1),Dh}function Ny(s,a,u,c){return jp(s,a,u,c),Dh(),Ny}function bh(){return de()}function Sh(s){return!!s&&"function"==typeof s.then}function Hp(s){return!!s&&"function"==typeof s.subscribe}const Ah=Hp;function bc(s,a,u,c){const h=de(),p=Ht(),_=Qn();return function kT(s,a,u,c,h,p,_){const E=Rs(c),R=s.firstCreatePass&&bT(s),O=a[wn],V=DT(a);let H=!0;if(3&c.type||_){const Me=en(c,a),Be=_?_(Me):Me,Xe=V.length,Tt=_?Mt=>_(Kn(Mt[c.index])):c.index;let De=null;if(!_&&E&&(De=function FA(s,a,u,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===u&&h[p+1]===c){const E=a[as],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof _&&(p+=2)}return null}(s,a,h,c.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=p,De.__ngLastListenerFn__=p,H=!1;else{p=OT(c,a,O,p,!1);const Mt=u.listen(Be,h,p);V.push(p,Mt),R&&R.push(h,Tt,Xe,Xe+1)}}else p=OT(c,a,O,p,!1);const J=c.outputs;let ye;if(H&&null!==J&&(ye=J[h])){const Me=ye.length;if(Me)for(let Be=0;Be<Me;Be+=2){const Pn=a[ye[Be]][ye[Be+1]].subscribe(p),hr=V.length;V.push(p,Pn),R&&R.push(h,c.index,hr,-(hr+1))}}}(p,h,h[St],_,s,a,c),bc}function Fy(s,a,u,c){try{return $i(6,a,u),!1!==u(c)}catch(h){return gA(s,h),!1}finally{$i(7,a,u)}}function OT(s,a,u,c,h){return function p(_){if(_===Function)return c;yc(s.componentOffset>-1?Mr(s.index,a):a);let C=Fy(a,u,c,_),R=p.__ngNextListenerFn__;for(;R;)C=Fy(a,u,R,_)&&C,R=R.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function FT(s=1){return function Nd(s){return(wt.lFrame.contextLView=function Bu(s,a){for(;s>0;)a=a[As],s--;return a}(s,wt.lFrame.contextLView))[wn]}(s)}function Rh(s,a){let u=null;const c=function K_(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===c?eT(s,p,!0):GS(c,p))return h}else u=h}return u}function Ly(s){const a=de()[vr][sr];if(!a.projection){const c=a.projection=Qu(s?s.length:1,null),h=c.slice();let p=a.child;for(;null!==p;){const _=s?Rh(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:c[_]=p,h[_]=p),p=p.next}}}function Mh(s,a=0,u){const c=de(),h=Ht(),p=mc(h,mn+s,16,null,u||null);null===p.projection&&(p.projection=a),ku(),32!=(32&p.flags)&&function sc(s,a,u){__(a[St],0,a,u,xo(s,u,a),ap(u.parent||a[sr],u,a))}(h,c,p)}function Gp(s,a,u,c,h){const p=de(),_=Ih(p,a,u,c);return _!==Rt&&ps(Ht(),An(),p,s,_,p[St],h,!1),Gp}function Ya(s,a){return s<<17|a<<2}function Xa(s){return s>>17&32767}function zy(s){return 2|s}function fa(s){return(131068&s)>>2}function xh(s,a){return-131069&s|a<<2}function Ph(s){return 1|s}function Qp(s,a,u,c,h){const p=s[u+1],_=null===a;let E=c?Xa(p):fa(p),C=!1;for(;0!==E&&(!1===C||_);){const O=s[E+1];UA(s[E],a)&&(C=!0,s[E+1]=c?Ph(O):zy(O)),E=c?Xa(O):fa(O)}C&&(s[u+1]=c?zy(p):Ph(p))}function UA(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&x(s,a)>=0}function Ky(s,a,u){return to(s,a,u,!1),Ky}function Qy(s,a){return to(s,a,null,!0),Qy}function to(s,a,u,c){const h=de(),p=Ht(),_=function z(s){const a=wt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}(2);p.firstUpdatePass&&function Yy(s,a,u,c){const h=s.data;if(null===h[u+1]){const p=h[wr()],_=function qT(s,a){return a>=s.expandoStartIndex}(s,u);(function Jy(s,a){return 0!=(s.flags&(a?8:16))})(p,c)&&null===a&&!_&&(a=!1),a=function KT(s,a,u,c){const h=function Qs(s){const a=wt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(u=Nh(u=JT(null,s,a,u,c),a.attrs,c),p=null);else{const _=a.directiveStylingLast;if(-1===_||s[_]!==h)if(u=JT(h,s,a,u,c),null===p){let C=function QT(s,a,u){const c=u?a.classBindings:a.styleBindings;if(0!==fa(c))return s[Xa(c)]}(s,a,c);void 0!==C&&Array.isArray(C)&&(C=JT(null,s,a,C[1],c),C=Nh(C,a.attrs,c),function YT(s,a,u,c){s[Xa(u?a.classBindings:a.styleBindings)]=c}(s,a,c,C))}else p=function XT(s,a,u){let c;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)c=Nh(c,s[p].hostAttrs,u);return Nh(c,a.attrs,u)}(s,a,c)}return void 0!==p&&(c?a.residualClasses=p:a.residualStyles=p),u}(h,p,a,c),function LA(s,a,u,c,h,p){let _=p?a.classBindings:a.styleBindings,E=Xa(_),C=fa(_);s[c]=u;let O,R=!1;if(Array.isArray(u)?(O=u[1],(null===O||x(u,O)>0)&&(R=!0)):O=u,h)if(0!==C){const H=Xa(s[E+1]);s[c+1]=Ya(H,E),0!==H&&(s[H+1]=xh(s[H+1],c)),s[E+1]=function Hy(s,a){return 131071&s|a<<17}(s[E+1],c)}else s[c+1]=Ya(E,0),0!==E&&(s[E+1]=xh(s[E+1],c)),E=c;else s[c+1]=Ya(C,0),0===E?E=c:s[C+1]=xh(s[C+1],c),C=c;R&&(s[c+1]=zy(s[c+1])),Qp(s,O,c,!0),Qp(s,O,c,!1),function Kp(s,a,u,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&x(p,a)>=0&&(u[c+1]=Ph(u[c+1]))}(a,O,s,c,p),_=Ya(E,C),p?a.classBindings=_:a.styleBindings=_}(h,p,a,u,_,c)}}(p,s,_,c),a!==Rt&&ci(h,_,a)&&function HA(s,a,u,c,h,p,_,E){if(!(3&a.type))return;const C=s.data,R=C[E+1],O=function Gy(s){return 1==(1&s)}(R)?ZT(C,a,u,h,fa(R),_):void 0;kh(O)||(kh(p)||function jy(s){return 2==(2&s)}(R)&&(p=ZT(C,null,u,h,E,_)),function fS(s,a,u,c,h){if(a)h?s.addClass(u,c):s.removeClass(u,c);else{let p=-1===c.indexOf("-")?void 0:Ro.DashCase;null==h?s.removeStyle(u,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ro.Important),s.setStyle(u,c,h,p))}}(c,_,qo(wr(),u),h,p))}(p,p.data[wr()],h,h[St],s,h[_+1]=function zA(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ue(No(s)))),s}(a,u),c,_)}function JT(s,a,u,c,h){let p=null;const _=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<_&&(p=a[E],c=Nh(c,p.hostAttrs,h),p!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function Nh(s,a,u){const c=u?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const _=a[p];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),I(s,_,!!u||a[++p]))}return void 0===s?null:s}function ZT(s,a,u,c,h,p){const _=null===a;let E;for(;h>0;){const C=s[h],R=Array.isArray(C),O=R?C[1]:C,V=null===O;let H=u[h+1];H===Rt&&(H=V?Nt:void 0);let J=V?S(H,c):O===c?H:void 0;if(R&&!kh(J)&&(J=S(C,c)),kh(J)&&(E=J,_))return E;const ye=s[h+1];h=_?Xa(ye):fa(ye)}if(null!==a){let C=p?a.residualClasses:a.residualStyles;null!=C&&(E=S(C,c))}return E}function kh(s){return void 0!==s}function Xp(s,a=""){const u=de(),c=Ht(),h=s+mn,p=c.firstCreatePass?mc(c,h,1,a,null):c.data[h],_=u[h]=function Kd(s,a){return s.createText(a)}(u[St],a);Yd(c,u,_,p),Hi(p,!1)}function cl(s){return Zy("",s,""),cl}function Zy(s,a,u){const c=de(),h=Ih(c,s,a,u);return h!==Rt&&function eo(s,a,u){const c=qo(a,s);!function sp(s,a,u){s.setValue(a,u)}(s[St],c,u)}(c,wr(),h),Zy}const so=void 0;var u0=["en",[["a","p"],["AM","PM"],so],[["AM","PM"],so,so],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],so,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],so,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",so,"{1} 'at' {0}",so],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tv(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Ac={};function hl(s){const a=function Xn(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=c0(a);if(u)return u;const c=a.split("-")[0];if(u=c0(c),u)return u;if("en"===c)return u0;throw new Te(701,!1)}function nv(s){return hl(s)[We.PluralCase]}function c0(s){return s in Ac||(Ac[s]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[s]),Ac[s]}var We=(()=>((We=We||{})[We.LocaleId=0]="LocaleId",We[We.DayPeriodsFormat=1]="DayPeriodsFormat",We[We.DayPeriodsStandalone=2]="DayPeriodsStandalone",We[We.DaysFormat=3]="DaysFormat",We[We.DaysStandalone=4]="DaysStandalone",We[We.MonthsFormat=5]="MonthsFormat",We[We.MonthsStandalone=6]="MonthsStandalone",We[We.Eras=7]="Eras",We[We.FirstDayOfWeek=8]="FirstDayOfWeek",We[We.WeekendRange=9]="WeekendRange",We[We.DateFormat=10]="DateFormat",We[We.TimeFormat=11]="TimeFormat",We[We.DateTimeFormat=12]="DateTimeFormat",We[We.NumberSymbols=13]="NumberSymbols",We[We.NumberFormats=14]="NumberFormats",We[We.CurrencyCode=15]="CurrencyCode",We[We.CurrencySymbol=16]="CurrencySymbol",We[We.CurrencyName=17]="CurrencyName",We[We.Currencies=18]="Currencies",We[We.Directionality=19]="Directionality",We[We.PluralCase=20]="PluralCase",We[We.ExtraData=21]="ExtraData",We))();const Ja="en-US";let h0=Ja;function Gh(s,a,u,c,h){if(s=ae(s),Array.isArray(s))for(let p=0;p<s.length;p++)Gh(s[p],a,u,c,h);else{const p=Ht(),_=de();let E=tl(s)?s:ae(s.provide),C=YI(s);const R=Qn(),O=1048575&R.providerIndexes,V=R.directiveStart,H=R.providerIndexes>>20;if(tl(s)||!s.multi){const J=new $(C,h,gc),ye=Kh(E,a,h?O:O+H,V);-1===ye?(Fd(Yl(R,_),p,E),Wh(p,s,a.length),a.push(E),R.directiveStart++,R.directiveEnd++,h&&(R.providerIndexes+=1048576),u.push(J),_.push(J)):(u[ye]=J,_[ye]=J)}else{const J=Kh(E,a,O+H,V),ye=Kh(E,a,O,O+H),Be=ye>=0&&u[ye];if(h&&!Be||!h&&!(J>=0&&u[J])){Fd(Yl(R,_),p,E);const Xe=function Iv(s,a,u,c,h){const p=new $(s,u,gc);return p.multi=[],p.index=a,p.componentProviders=0,qh(p,h,c&&!u),p}(h?wv:fR,u.length,h,c,C);!h&&Be&&(u[ye].providerFactory=Xe),Wh(p,s,a.length,0),a.push(E),R.directiveStart++,R.directiveEnd++,h&&(R.providerIndexes+=1048576),u.push(Xe),_.push(Xe)}else Wh(p,s,J>-1?J:ye,qh(u[h?ye:J],C,!h&&c));!h&&c&&Be&&u[ye].componentProviders++}}}function Wh(s,a,u,c){const h=tl(a),p=function MS(s){return!!s.useClass}(a);if(h||p){const C=(p?ae(a.useClass):a).prototype.ngOnDestroy;if(C){const R=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const O=R.indexOf(u);-1===O?R.push(u,[c,C]):R[O+1].push(c,C)}else R.push(u,C)}}}function qh(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function Kh(s,a,u,c){for(let h=u;h<c;h++)if(a[h]===s)return h;return-1}function fR(s,a,u,c){return Qh(this.multi,[])}function wv(s,a,u,c){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=Xs(u,u[qe],this.providerFactory.index,c);p=E.slice(0,_),Qh(h,p);for(let C=_;C<E.length;C++)p.push(E[C])}else p=[],Qh(h,p);return p}function Qh(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function ag(s,a=[]){return u=>{u.providersResolver=(c,h)=>function Ev(s,a,u){const c=Ht();if(c.firstCreatePass){const h=qn(s);Gh(u,c.data,c.blueprint,h,!0),Gh(a,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,a)}}class nu{}class k0{}function Tv(s,a){return new ug(s,a??null)}class ug extends nu{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AT(this);const c=br(a);this._bootstrapComponents=Zs(c.bootstrap),this._r3Injector=uT(a,u,[{provide:nu,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],ue(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Cv extends k0{constructor(a){super(),this.moduleType=a}create(a){return new ug(this.moduleType,a)}}class Dv extends nu{constructor(a,u,c){super(),this.componentFactoryResolver=new AT(this),this.instance=null;const h=new ih([...a,{provide:nu,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],u||Ep(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Yh(s,a,u=null){return new Dv(s,a,u).injector}let ya=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=_p(0,u.type),h=c.length>0?Yh([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=vt({token:s,providedIn:"environment",factory:()=>new s(Zt(nl))}),s})();function lg(s){s.getStandaloneInjector=a=>a.get(ya).getOrCreateStandaloneInjector(s)}function gg(s){return a=>{setTimeout(s,void 0,a)}}const Ns=class Fv extends A.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,c){let h=a,p=u||(()=>null),_=c;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),p=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(p=gg(p),h&&(h=gg(h)),_&&(_=gg(_)));const E=super.subscribe({next:h,error:p,complete:_});return a instanceof k.w0&&a.add(E),E}};function $0(){return this._results[Symbol.iterator]()}class Fc{get changes(){return this._changes||(this._changes=new Ns)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Fc.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=$0)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const c=this;c.dirty=!1;const h=function si(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ud(s,a,u){if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=a[c];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gl=(()=>{class s{}return s.__NG_ELEMENT_ID__=Uv,s})();const Lv=gl,TR=class extends Lv{constructor(a,u,c){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(a,u){const c=this._declarationTContainer.tView,h=Rp(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null,u||null);h[Bi]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Ti];return null!==_&&(h[Ti]=_.createEmbeddedView(c)),ph(c,h,a),new Op(h)}};function Uv(){return mg(Qn(),de())}function mg(s,a){return 4&s.type?new TR(a,s,hc(s,a)):null}let Lc=(()=>{class s{}return s.__NG_ELEMENT_ID__=CR,s})();function CR(){return yg(Qn(),de())}const Bv=Lc,DR=class extends Bv{constructor(a,u,c){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=c}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const a=Yf(this._hostTNode,this._hostLView);if(Gi(a)){const u=Ci(a,this._hostLView),c=Wi(a);return new ra(u[qe].data[c+8],u)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=_g(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-or}createEmbeddedView(a,u,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const _=a.createEmbeddedView(u||{},p);return this.insert(_,h),_}createComponent(a,u,c,h,p){const _=a&&!function za(s){return"function"==typeof s}(a);let E;if(_)E=u;else{const V=u||{};E=V.index,c=V.injector,h=V.projectableNodes,p=V.environmentInjector||V.ngModuleRef}const C=_?a:new yh(Ut(a)),R=c||this.parentInjector;if(!p&&null==C.ngModule){const H=(_?R:this.parentInjector).get(nl,null);H&&(p=H)}const O=C.create(R,h,void 0,p);return this.insert(O.hostView,E),O}insert(a,u){const c=a._lView,h=c[qe];if(function Gs(s){return ri(s[un])}(c)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const V=c[un],H=new DR(V,V[sr],V[un]);H.detach(H.indexOf(a))}}const p=this._adjustIndex(u),_=this._lContainer;!function II(s,a,u,c){const h=or+c,p=u.length;c>0&&(u[h-1][Ar]=a),c<p-or?(a[Ar]=u[h],Zf(u,or+c,a)):(u.push(a),a[Ar]=null),a[un]=u;const _=a[Bi];null!==_&&u!==_&&function TI(s,a){const u=s[ls];a[vr]!==a[un][un][vr]&&(s[Nl]=!0),null===u?s[ls]=[a]:u.push(a)}(_,a);const E=a[Ti];null!==E&&E.insertView(s),a[Ct]|=64}(h,c,_,p);const E=Xd(p,_),C=c[St],R=Qd(C,_[_o]);return null!==R&&function EI(s,a,u,c,h,p){c[Sr]=h,c[sr]=a,Po(s,c,u,1,h,p)}(h,_[sr],C,c,R,E),a.attachToViewContainerRef(),Zf(Zh(_),p,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=_g(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),c=u_(this._lContainer,u);c&&(oa(Zh(this._lContainer),u),CI(c[qe],c))}detach(a){const u=this._adjustIndex(a,-1),c=u_(this._lContainer,u);return c&&null!=oa(Zh(this._lContainer),u)?new Op(c):null}_adjustIndex(a,u=0){return a??this.length+u}};function _g(s){return s[zo]}function Zh(s){return s[zo]||(s[zo]=[])}function yg(s,a){let u;const c=a[s.index];if(ri(c))u=c;else{let h;if(8&s.type)h=Kn(c);else{const p=a[St];h=p.createComment("");const _=en(s,a);aa(p,Qd(p,_),h,function f_(s,a){return s.nextSibling(a)}(p,_),!1)}a[s.index]=u=ET(c,a,h,s),gs(a,u)}return new DR(u,s,a)}class ef{constructor(a){this.queryList=a,this.matches=null}clone(){return new ef(this.queryList)}setDirty(){this.queryList.setDirty()}}class su{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const c=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let p=0;p<c;p++){const _=u.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new su(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Tg(a,u).matches&&this.queries[u].setDirty()}}class bR{constructor(a,u,c=null){this.predicate=a,this.flags=u,this.read=c}}class tf{constructor(a=[]){this.queries=a}elementStart(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,p=this.getByIndex(c).embeddedTView(a,h);p&&(p.indexInDeclarationView=c,null!==u?u.push(p):u=[p])}return null!==u?new tf(u):null}template(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class j0{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new j0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(a,u,Vv(u,p)),this.matchTNodeWithReadOption(a,u,zu(u,a,p,!1,!1))}else c===gl?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,zu(u,a,c,!1,!1))}matchTNodeWithReadOption(a,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===oh||h===Lc||h===gl&&4&u.type)this.addMatch(u.index,-2);else{const p=zu(u,a,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,c)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Vv(s,a){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===a)return u[c+1];return null}function $v(s,a,u,c){return-1===u?function ZO(s,a){return 11&s.type?hc(s,a):4&s.type?mg(s,a):null}(a,s):-2===u?function SR(s,a,u){return u===oh?hc(a,s):u===gl?mg(a,s):u===Lc?yg(a,s):void 0}(s,a,c):Xs(s,s[qe],u,a)}function vg(s,a,u,c){const h=a[Ti].queries[c];if(null===h.matches){const p=s.data,_=u.matches,E=[];for(let C=0;C<_.length;C+=2){const R=_[C];E.push(R<0?null:$v(a,p[R],_[C+1],u.metadata.read))}h.matches=E}return h.matches}function H0(s,a,u,c){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const _=vg(s,a,h,u);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(_[E/2]);else{const R=p[E+1],O=a[-C];for(let V=or;V<O.length;V++){const H=O[V];H[Bi]===H[un]&&H0(H[qe],H,R,c)}if(null!==O[ls]){const V=O[ls];for(let H=0;H<V.length;H++){const J=V[H];H0(J[qe],J,R,c)}}}}}return c}function Eg(s){const a=de(),u=Ht(),c=Pd();Fu(c+1);const h=Tg(u,c);if(s.dirty&&function Sd(s){return 4==(4&s[Ct])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?H0(u,a,c,[]):vg(u,a,h,c);s.reset(p,lO),s.notifyOnChanges()}return!0}return!1}function AR(s,a,u){const c=Ht();c.firstCreatePass&&(MR(c,new bR(s,a,u),-1),2==(2&a)&&(c.staticViewQueries=!0)),Ig(c,de(),a)}function wg(s,a,u,c){const h=Ht();if(h.firstCreatePass){const p=Qn();MR(h,new bR(a,u,c),p.index),function t1(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}Ig(h,de(),u)}function RR(){return function e1(s,a){return s[Ti].queries[a].queryList}(de(),Pd())}function Ig(s,a,u){const c=new Fc(4==(4&u));Pp(s,a,c,c.destroy),null===a[Ti]&&(a[Ti]=new su),a[Ti].queries.push(new ef(c))}function MR(s,a,u){null===s.queries&&(s.queries=new tf),s.queries.track(new j0(a,u))}function Tg(s,a){return s.queries.getByIndex(a)}function z0(s,a){return mg(s,a)}function Hv(s){return!!br(s)}function Sg(...s){}const nC=new _n("Application Initializer");let Ag=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Sg,this.reject=Sg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Sh(p))u.push(p);else if(Ah(p)){const _=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Zt(nC,8))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Yv=new _n("AppId",{providedIn:"root",factory:function rC(){return`${Rg()}${Rg()}${Rg()}`}});function Rg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Bc=new _n("Platform Initializer"),Mg=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jv=new _n("AnimationModuleType");let iC=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xg=new _n("LocaleId",{providedIn:"root",factory:()=>ni(xg,ct.Optional|ct.SkipSelf)||function Zv(){return typeof $localize<"u"&&$localize.locale||Ja}()}),eE=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class y1{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let WR=(()=>{class s{compileModuleSync(u){return new Cv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),p=Zs(br(u).declarations).reduce((_,E)=>{const C=Ut(E);return C&&_.push(new yh(C)),_},[]);return new y1(c,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const QR=(()=>Promise.resolve(0))();function nE(s){typeof Zone>"u"?QR.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ks{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function rE(){let s=rn.requestAnimationFrame,a=rn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function aC(s){const a=()=>{!function XR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(rn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,sE(s),s.isCheckStableRunning=!0,iE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),sE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,p,_,E)=>{try{return JR(s),u.invokeTask(h,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),uC(s)}},onInvoke:(u,c,h,p,_,E,C)=>{try{return JR(s),u.invoke(h,p,_,E,C)}finally{s.shouldCoalesceRunChangeDetection&&a(),uC(s)}},onHasTask:(u,c,h,p)=>{u.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,sE(s),iE(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,c,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new Te(909,!1)}run(a,u,c){return this._inner.run(a,u,c)}runTask(a,u,c,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,a,YR,Sg,Sg);try{return p.runTask(_,u,c)}finally{p.cancelTask(_)}}runGuarded(a,u,c){return this._inner.runGuarded(a,u,c)}runOutsideAngular(a){return this._outer.run(a)}}const YR={};function iE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function sE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function JR(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function uC(s){s._nesting--,iE(s)}class oE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(a,u,c){return a.apply(u,c)}runGuarded(a,u,c){return a.apply(u,c)}runOutsideAngular(a){return a()}runTask(a,u,c,h){return a.apply(u,c)}}const ZR=new _n(""),Pg=new _n("");let uf,w1=(()=>{class s{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uf||(function I1(s){uf=s}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),nE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Zt(ks),Zt(Ng),Zt(Pg))},s.\u0275prov=vt({token:s,factory:s.\u0275fac}),s})(),Ng=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return uf?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ao=!1;let Uo=null;const eM=new _n("AllowMultipleToken"),lf=new _n("PlatformDestroyListeners"),tM=new _n("appBootstrapListener");class rM{constructor(a,u){this.name=a,this.token=u}}function sM(s,a,u=[]){const c=`Platform: ${a}`,h=new _n(c);return(p=[])=>{let _=hC();if(!_||_.injector.get(eM,!1)){const E=[...u,...p,{provide:h,useValue:!0}];s?s(E):function iM(s){if(Uo&&!Uo.get(eM,!1))throw new Te(400,!1);Uo=s;const a=s.get(kg);(function cC(s){const a=s.get(Bc,null);a&&a.forEach(u=>u())})(s)}(function oM(s=[],a){return da.create({name:a,providers:[{provide:P_,useValue:"platform"},{provide:lf,useValue:new Set([()=>Uo=null])},...s]})}(E,c))}return function uE(s){const a=hC();if(!a)throw new Te(401,!1);return a}()}}function hC(){return Uo?.get(kg)??null}let kg=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function fC(s,a){let u;return u="noop"===s?new oE:("zone.js"===s?void 0:s)||new ks(a),u}(c?.ngZone,function Og(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:ks,useValue:h}];return h.run(()=>{const _=da.create({providers:p,parent:this.injector,name:u.moduleType.name}),E=u.create(_),C=E.injector.get(uh,null);if(!C)throw new Te(402,!1);return h.runOutsideAngular(()=>{const R=h.onError.subscribe({next:O=>{C.handleError(O)}});E.onDestroy(()=>{$c(this._modules,E),R.unsubscribe()})}),function Vc(s,a,u){try{const c=u();return Sh(c)?c.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>s.handleError(c)),c}}(C,h,()=>{const R=E.injector.get(Ag);return R.runInitializers(),R.donePromise.then(()=>(function tg(s){Ze(s,"Expected localeId to be defined"),"string"==typeof s&&(h0=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(xg,Ja)||Ja),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,c=[]){const h=pC({},c);return function yl(s,a,u){const c=new Cv(u);return Promise.resolve(c)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const c=u.injector.get(Fg);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Te(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(lf,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Zt(da))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function pC(s,a){return Array.isArray(a)?a.reduce(pC,s):{...s,...a}}let Fg=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,c,h){this._zone=u,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new K.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new K.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),nE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),R.unsubscribe()}});this.isStable=(0,re.T)(p,_.pipe((0,ee.B)()))}bootstrap(u,c){const h=u instanceof wp;if(!this._injector.get(Ag).done){!h&&os(u);throw new Te(405,ao)}let _;_=h?u:this._injector.get(dc).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const E=function nM(s){return s.isBoundToModule}(_)?void 0:this._injector.get(nu),R=_.create(da.NULL,[],c||_.selector,E),O=R.location.nativeElement,V=R.injector.get(ZR,null);return V?.registerApplication(O),R.onDestroy(()=>{this.detachView(R.hostView),$c(this.components,R),V?.unregisterApplication(O)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;$c(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(tM,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>$c(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Te(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Zt(ks),Zt(nl),Zt(uh))},s.\u0275prov=vt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function $c(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function aM(){}let dM=(()=>{class s{}return s.__NG_ELEMENT_ID__=cE,s})();function cE(s){return function T1(s,a,u){if(yo(s)&&!u){const c=Mr(s.index,a);return new Op(c,c)}return 47&s.type?new Op(a[vr],a):null}(Qn(),de(),16==(16&s))}class wC{constructor(){}supports(a){return Up(a)}create(a){return new IC(a)}}const hM=(s,a)=>a;class IC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||hM}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,c=this._removalsHead,h=0,p=null;for(;u||c;){const _=!c||u&&u.currentIndex<CC(c,h,p)?u:c,E=CC(_,h,p),C=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{p||(p=[]);const R=E-h,O=C-h;if(R!=O){for(let H=0;H<R;H++){const J=H<p.length?p[H]:p[H]=0,ye=J+H;O<=ye&&ye<R&&(p[H]=J+1)}p[_.previousIndex]=O-R}}E!==C&&a(_,E,C)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Up(a))throw new Te(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,_,u=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],_=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,p,_,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,E),c=!0),u=u._next}else h=0,function ol(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)a(c.value)}}(a,E=>{_=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,E,_,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,c,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,p,h)):a=this._addAfter(new fM(u,c),p,h),a}_verifyReinsertion(a,u,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,u,c),this._addToMoves(a,c),a}_moveAfter(a,u,c){return this._unlink(a),this._insertAfter(a,u,c),this._addToMoves(a,c),a}_addAfter(a,u,c){return this._insertAfter(a,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,c){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new TC),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,c=a._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TC),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class fM{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bg{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const u=a._prevDup,c=a._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class TC{constructor(){this.map=new Map}put(a){const u=a.trackById;let c=this.map.get(u);c||(c=new Bg,this.map.set(u,c)),c.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CC(s,a,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+a+h}class DC{constructor(){}supports(a){return a instanceof Map||My(a)}create(){return new pM}}class pM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||My(a)))throw new Te(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const c=a._prev;return u._next=a,u._prev=c,a._prev=u,c&&(c._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const c=new gM(a);return this._records.set(a,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(c=>u(a[c],c))}}class gM{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bC(){return new mE([new wC])}let mE=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||bC()),deps:[[s,new Yu,new tc]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Te(901,!1)}}return s.\u0275prov=vt({token:s,providedIn:"root",factory:bC}),s})();function Vg(){return new _E([new DC])}let _E=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Vg()),deps:[[s,new Yu,new tc]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Te(901,!1)}}return s.\u0275prov=vt({token:s,providedIn:"root",factory:Vg}),s})();const SC=sM(null,"core",[]);let yM=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Zt(Fg))},s.\u0275mod=Ra({type:s}),s.\u0275inj=st({}),s})();function vM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},1481:(Je,he,F)=>{F.d(he,{Dx:()=>Dn,H7:()=>Dr,b2:()=>Ei,q6:()=>_r,se:()=>it});var A=F(6895),k=F(4650);class K extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends K{static makeCurrent(){(0,A.HT)(new re)}onAndCancel(W,B,Q){return W.addEventListener(B,Q,!1),()=>{W.removeEventListener(B,Q,!1)}}dispatchEvent(W,B){W.dispatchEvent(B)}remove(W){W.parentNode&&W.parentNode.removeChild(W)}createElement(W,B){return(B=B||this.getDefaultDocument()).createElement(W)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(W){return W.nodeType===Node.ELEMENT_NODE}isShadowRoot(W){return W instanceof DocumentFragment}getGlobalEventTarget(W,B){return"window"===B?window:"document"===B?W:"body"===B?W.body:null}getBaseHref(W){const B=function ie(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==B?null:function ue(X){Z=Z||document.createElement("a"),Z.setAttribute("href",X);const W=Z.pathname;return"/"===W.charAt(0)?W:`/${W}`}(B)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(W){return(0,A.Mx)(document.cookie,W)}}let Z,ee=null;const pe=new k.OlP("TRANSITION_ID"),ce=[{provide:k.ip1,useFactory:function we(X,W,B){return()=>{B.get(k.CZH).donePromise.then(()=>{const Q=(0,A.q)(),me=W.querySelectorAll(`style[ng-transition="${X}"]`);for(let ze=0;ze<me.length;ze++)Q.remove(me[ze])})}},deps:[pe,A.K0,k.zs3],multi:!0}];let Qe=(()=>{class X{build(){return new XMLHttpRequest}}return X.\u0275fac=function(B){return new(B||X)},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();const be=new k.OlP("EventManagerPlugins");let Le=(()=>{class X{constructor(B,Q){this._zone=Q,this._eventNameToPlugin=new Map,B.forEach(me=>{me.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,Q,me){return this._findPluginFor(Q).addEventListener(B,Q,me)}addGlobalEventListener(B,Q,me){return this._findPluginFor(Q).addGlobalEventListener(B,Q,me)}getZone(){return this._zone}_findPluginFor(B){const Q=this._eventNameToPlugin.get(B);if(Q)return Q;const me=this._plugins;for(let ze=0;ze<me.length;ze++){const Dt=me[ze];if(Dt.supports(B))return this._eventNameToPlugin.set(B,Dt),Dt}throw new Error(`No event manager plugin found for event ${B}`)}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(be),k.LFG(k.R0b))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();class at{constructor(W){this._doc=W}addGlobalEventListener(W,B,Q){const me=(0,A.q)().getGlobalEventTarget(this._doc,W);if(!me)throw new Error(`Unsupported event target ${me} for event ${B}`);return this.addEventListener(me,B,Q)}}let Te=(()=>{class X{constructor(){this.usageCount=new Map}addStyles(B){for(const Q of B)1===this.changeUsageCount(Q,1)&&this.onStyleAdded(Q)}removeStyles(B){for(const Q of B)0===this.changeUsageCount(Q,-1)&&this.onStyleRemoved(Q)}onStyleRemoved(B){}onStyleAdded(B){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(B,Q){const me=this.usageCount;let ze=me.get(B)??0;return ze+=Q,ze>0?me.set(B,ze):me.delete(B),ze}ngOnDestroy(){for(const B of this.getAllStyles())this.onStyleRemoved(B);this.usageCount.clear()}}return X.\u0275fac=function(B){return new(B||X)},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})(),mt=(()=>{class X extends Te{constructor(B){super(),this.doc=B,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(B){for(const Q of this.hostNodes)this.addStyleToHost(Q,B)}onStyleRemoved(B){const Q=this.styleRef;Q.get(B)?.forEach(ze=>ze.remove()),Q.delete(B)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const Q of this.getAllStyles())this.addStyleToHost(B,Q)}removeHost(B){this.hostNodes.delete(B)}addStyleToHost(B,Q){const me=this.doc.createElement("style");me.textContent=Q,B.appendChild(me);const ze=this.styleRef.get(Q);ze?ze.push(me):this.styleRef.set(Q,[me])}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(A.K0))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,G="%COMP%",Ee=`_nghost-${G}`,Pe=`_ngcontent-${G}`,nt=new k.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function pt(X,W){return W.flat(100).map(B=>B.replace(rt,X))}function cn(X){return W=>{if("__ngUnwrap__"===W)return X;!1===X(W)&&(W.preventDefault(),W.returnValue=!1)}}let it=(()=>{class X{constructor(B,Q,me,ze){this.eventManager=B,this.sharedStylesHost=Q,this.appId=me,this.removeStylesOnCompDestory=ze,this.rendererByCompId=new Map,this.defaultRenderer=new le(B)}createRenderer(B,Q){if(!B||!Q)return this.defaultRenderer;const me=this.getOrCreateRenderer(B,Q);return me instanceof Ze?me.applyToHost(B):me instanceof xe&&me.applyStyles(),me}getOrCreateRenderer(B,Q){const me=this.rendererByCompId;let ze=me.get(Q.id);if(!ze){const Dt=this.eventManager,an=this.sharedStylesHost,Sn=this.removeStylesOnCompDestory;switch(Q.encapsulation){case k.ifc.Emulated:ze=new Ze(Dt,an,Q,this.appId,Sn);break;case k.ifc.ShadowDom:return new Fe(Dt,an,B,Q);default:ze=new xe(Dt,an,Q,Sn)}ze.onDestroy=()=>me.delete(Q.id),me.set(Q.id,ze)}return ze}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(Le),k.LFG(mt),k.LFG(k.AFp),k.LFG(nt))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();class le{constructor(W){this.eventManager=W,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(W,B){return B?document.createElementNS(Ue[B]||B,W):document.createElement(W)}createComment(W){return document.createComment(W)}createText(W){return document.createTextNode(W)}appendChild(W,B){(Ce(W)?W.content:W).appendChild(B)}insertBefore(W,B,Q){W&&(Ce(W)?W.content:W).insertBefore(B,Q)}removeChild(W,B){W&&W.removeChild(B)}selectRootElement(W,B){let Q="string"==typeof W?document.querySelector(W):W;if(!Q)throw new Error(`The selector "${W}" did not match any elements`);return B||(Q.textContent=""),Q}parentNode(W){return W.parentNode}nextSibling(W){return W.nextSibling}setAttribute(W,B,Q,me){if(me){B=me+":"+B;const ze=Ue[me];ze?W.setAttributeNS(ze,B,Q):W.setAttribute(B,Q)}else W.setAttribute(B,Q)}removeAttribute(W,B,Q){if(Q){const me=Ue[Q];me?W.removeAttributeNS(me,B):W.removeAttribute(`${Q}:${B}`)}else W.removeAttribute(B)}addClass(W,B){W.classList.add(B)}removeClass(W,B){W.classList.remove(B)}setStyle(W,B,Q,me){me&(k.JOm.DashCase|k.JOm.Important)?W.style.setProperty(B,Q,me&k.JOm.Important?"important":""):W.style[B]=Q}removeStyle(W,B,Q){Q&k.JOm.DashCase?W.style.removeProperty(B):W.style[B]=""}setProperty(W,B,Q){W[B]=Q}setValue(W,B){W.nodeValue=B}listen(W,B,Q){return"string"==typeof W?this.eventManager.addGlobalEventListener(W,B,cn(Q)):this.eventManager.addEventListener(W,B,cn(Q))}}function Ce(X){return"TEMPLATE"===X.tagName&&void 0!==X.content}class Fe extends le{constructor(W,B,Q,me){super(W),this.sharedStylesHost=B,this.hostEl=Q,this.shadowRoot=Q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ze=pt(me.id,me.styles);for(const Dt of ze){const an=document.createElement("style");an.textContent=Dt,this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(W){return W===this.hostEl?this.shadowRoot:W}appendChild(W,B){return super.appendChild(this.nodeOrShadowRoot(W),B)}insertBefore(W,B,Q){return super.insertBefore(this.nodeOrShadowRoot(W),B,Q)}removeChild(W,B){return super.removeChild(this.nodeOrShadowRoot(W),B)}parentNode(W){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(W)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xe extends le{constructor(W,B,Q,me,ze=Q.id){super(W),this.sharedStylesHost=B,this.removeStylesOnCompDestory=me,this.rendererUsageCount=0,this.styles=pt(ze,Q.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ze extends xe{constructor(W,B,Q,me,ze){const Dt=me+"-"+Q.id;super(W,B,Q,ze,Dt),this.contentAttr=function ft(X){return Pe.replace(rt,X)}(Dt),this.hostAttr=function Yt(X){return Ee.replace(rt,X)}(Dt)}applyToHost(W){this.applyStyles(),this.setAttribute(W,this.hostAttr,"")}createElement(W,B){const Q=super.createElement(W,B);return super.setAttribute(Q,this.contentAttr,""),Q}}let et=(()=>{class X extends at{constructor(B){super(B)}supports(B){return!0}addEventListener(B,Q,me){return B.addEventListener(Q,me,!1),()=>this.removeEventListener(B,Q,me)}removeEventListener(B,Q,me){return B.removeEventListener(Q,me)}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(A.K0))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();const Un=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let vt=(()=>{class X extends at{constructor(B){super(B)}supports(B){return null!=X.parseEventName(B)}addEventListener(B,Q,me){const ze=X.parseEventName(Q),Dt=X.eventCallback(ze.fullKey,me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(B,ze.domEventName,Dt))}static parseEventName(B){const Q=B.toLowerCase().split("."),me=Q.shift();if(0===Q.length||"keydown"!==me&&"keyup"!==me)return null;const ze=X._normalizeKey(Q.pop());let Dt="",an=Q.indexOf("code");if(an>-1&&(Q.splice(an,1),Dt="code."),Un.forEach(qr=>{const Ss=Q.indexOf(qr);Ss>-1&&(Q.splice(Ss,1),Dt+=qr+".")}),Dt+=ze,0!=Q.length||0===ze.length)return null;const Sn={};return Sn.domEventName=me,Sn.fullKey=Dt,Sn}static matchEventFullKeyCode(B,Q){let me=yt[B.key]||B.key,ze="";return Q.indexOf("code.")>-1&&(me=B.code,ze="code."),!(null==me||!me)&&(me=me.toLowerCase()," "===me?me="space":"."===me&&(me="dot"),Un.forEach(Dt=>{Dt!==me&&(0,Jt[Dt])(B)&&(ze+=Dt+".")}),ze+=me,ze===Q)}static eventCallback(B,Q,me){return ze=>{X.matchEventFullKeyCode(ze,B)&&me.runGuarded(()=>Q(ze))}}static _normalizeKey(B){return"esc"===B?"escape":B}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(A.K0))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();const _r=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:A.bD},{provide:k.g9A,useValue:function ki(){re.makeCurrent()},multi:!0},{provide:A.K0,useFactory:function rr(){return(0,k.RDi)(document),document},deps:[]}]),ir=new k.OlP(""),ct=[{provide:k.rWj,useClass:class ae{addToWindow(W){k.dqk.getAngularTestability=(Q,me=!0)=>{const ze=W.findTestabilityInTree(Q,me);if(null==ze)throw new Error("Could not find testability for element.");return ze},k.dqk.getAllAngularTestabilities=()=>W.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>W.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(Q=>{const me=k.dqk.getAllAngularTestabilities();let ze=me.length,Dt=!1;const an=function(Sn){Dt=Dt||Sn,ze--,0==ze&&Q(Dt)};me.forEach(function(Sn){Sn.whenStable(an)})})}findTestabilityInTree(W,B,Q){return null==B?null:W.getTestability(B)??(Q?(0,A.q)().isShadowRoot(B)?this.findTestabilityInTree(W,B.host,!0):this.findTestabilityInTree(W,B.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],En=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function Bs(){return new k.qLn},deps:[]},{provide:be,useClass:et,multi:!0,deps:[A.K0,k.R0b,k.Lbi]},{provide:be,useClass:vt,multi:!0,deps:[A.K0]},{provide:it,useClass:it,deps:[Le,mt,k.AFp,nt]},{provide:k.FYo,useExisting:it},{provide:Te,useExisting:mt},{provide:mt,useClass:mt,deps:[A.K0]},{provide:Le,useClass:Le,deps:[be,k.R0b]},{provide:A.JF,useClass:Qe,deps:[]},[]];let Ei=(()=>{class X{constructor(B){}static withServerTransition(B){return{ngModule:X,providers:[{provide:k.AFp,useValue:B.appId},{provide:pe,useExisting:k.AFp},ce]}}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(ir,12))},X.\u0275mod=k.oAB({type:X}),X.\u0275inj=k.cJS({providers:[...En,...ct],imports:[A.ez,k.hGG]}),X})(),Dn=(()=>{class X{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(A.K0))},X.\u0275prov=k.Yz7({token:X,factory:function(B){let Q=null;return Q=B?new B:function rn(){return new Dn((0,k.LFG)(A.K0))}(),Q},providedIn:"root"}),X})();typeof window<"u"&&window;let Dr=(()=>{class X{}return X.\u0275fac=function(B){return new(B||X)},X.\u0275prov=k.Yz7({token:X,factory:function(B){let Q=null;return Q=B?new(B||X):k.LFG(Wr),Q},providedIn:"root"}),X})(),Wr=(()=>{class X extends Dr{constructor(B){super(),this._doc=B}sanitize(B,Q){if(null==Q)return null;switch(B){case k.q3G.NONE:return Q;case k.q3G.HTML:return(0,k.qzn)(Q,"HTML")?(0,k.z3N)(Q):(0,k.EiD)(this._doc,String(Q)).toString();case k.q3G.STYLE:return(0,k.qzn)(Q,"Style")?(0,k.z3N)(Q):Q;case k.q3G.SCRIPT:if((0,k.qzn)(Q,"Script"))return(0,k.z3N)(Q);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(Q,"URL")?(0,k.z3N)(Q):(0,k.mCW)(String(Q));case k.q3G.RESOURCE_URL:if((0,k.qzn)(Q,"ResourceURL"))return(0,k.z3N)(Q);throw new Error(`unsafe value used in a resource URL context (see ${k.JZr})`);default:throw new Error(`Unexpected SecurityContext ${B} (see ${k.JZr})`)}}bypassSecurityTrustHtml(B){return(0,k.JVY)(B)}bypassSecurityTrustStyle(B){return(0,k.L6k)(B)}bypassSecurityTrustScript(B){return(0,k.eBb)(B)}bypassSecurityTrustUrl(B){return(0,k.LAX)(B)}bypassSecurityTrustResourceUrl(B){return(0,k.pB0)(B)}}return X.\u0275fac=function(B){return new(B||X)(k.LFG(A.K0))},X.\u0275prov=k.Yz7({token:X,factory:function(B){let Q=null;return Q=B?new B:function Ii(X){return new Wr(X.get(A.K0))}(k.LFG(k.zs3)),Q},providedIn:"root"}),X})()},8869:(Je,he,F)=>{F.d(he,{rH:()=>Xl,Bz:()=>Ku,lC:()=>Go});var A=F(4650),k=F(8996),K=F(9646),re=F(1135);const ie=(0,F(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Z=F(9841),ue=F(7272),pe=F(9751),we=F(8421);function ce(y){return new pe.y(v=>{(0,we.Xf)(y()).subscribe(v)})}var ae=F(9635),Qe=F(2843),be=F(515),Le=F(727),at=F(4482),Te=F(5403);function mt(){return(0,at.e)((y,v)=>{let m=null;y._refCount++;const I=(0,Te.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const S=y._connection,x=m;m=null,S&&(!x||S===x)&&S.unsubscribe(),v.unsubscribe()});y.subscribe(I),I.closed||(m=y.connect())})}class Ue extends pe.y{constructor(v,m){super(),this.source=v,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,at.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Le.w0;const m=this.getSubject();v.add(this.source.subscribe((0,Te.x)(m,void 0,()=>{this._teardown(),m.complete()},I=>{this._teardown(),m.error(I)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Le.w0.EMPTY)}return v}refCount(){return mt()(this)}}var rt=F(7579),Ie=F(6895),G=F(4004),Ee=F(3900),Pe=F(5698),ut=F(8675),nt=F(9300),ft=F(5577);function Yt(y){return(0,at.e)((v,m)=>{let I=!1;v.subscribe((0,Te.x)(m,S=>{I=!0,m.next(S)},()=>{I||m.next(y),m.complete()}))})}function pt(y=cn){return(0,at.e)((v,m)=>{let I=!1;v.subscribe((0,Te.x)(m,S=>{I=!0,m.next(S)},()=>I?m.complete():m.error(y())))})}function cn(){return new ie}var it=F(4671);function le(y,v){const m=arguments.length>=2;return I=>I.pipe(y?(0,nt.h)((S,x)=>y(S,x,I)):it.y,(0,Pe.q)(1),m?Yt(v):pt(()=>new ie))}var fe=F(4351),ge=F(8505),Ce=F(262);function xe(y,v){return(0,at.e)(function Fe(y,v,m,I,S){return(x,L)=>{let q=m,_e=v,Ve=0;x.subscribe((0,Te.x)(L,Ge=>{const jt=Ve++;_e=q?y(_e,Ge,jt):(q=!0,Ge),I&&L.next(_e)},S&&(()=>{q&&L.next(_e),L.complete()})))}}(y,v,arguments.length>=2,!0))}function Ze(y){return y<=0?()=>be.E:(0,at.e)((v,m)=>{let I=[];v.subscribe((0,Te.x)(m,S=>{I.push(S),y<I.length&&I.shift()},()=>{for(const S of I)m.next(S);m.complete()},void 0,()=>{I=null}))})}function et(y,v){const m=arguments.length>=2;return I=>I.pipe(y?(0,nt.h)((S,x)=>y(S,x,I)):it.y,Ze(1),m?Yt(v):pt(()=>new ie))}var yt=F(9718),Jt=F(8746),vt=F(8189),dn=F(1481);const st="primary",nr=Symbol("RouteTitle");class Lr{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m[0]:m}return null}getAll(v){if(this.has(v)){const m=this.params[v];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function vn(y){return new Lr(y)}function ki(y,v,m){const I=m.path.split("/");if(I.length>y.length||"full"===m.pathMatch&&(v.hasChildren()||I.length<y.length))return null;const S={};for(let x=0;x<I.length;x++){const L=I[x],q=y[x];if(L.startsWith(":"))S[L.substring(1)]=q;else if(L!==q.path)return null}return{consumed:y.slice(0,I.length),posParams:S}}function rr(y,v){const m=y?Object.keys(y):void 0,I=v?Object.keys(v):void 0;if(!m||!I||m.length!=I.length)return!1;let S;for(let x=0;x<m.length;x++)if(S=m[x],!is(y[S],v[S]))return!1;return!0}function is(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const m=[...y].sort(),I=[...v].sort();return m.every((S,x)=>I[x]===S)}return y===v}function _r(y){return Array.prototype.concat.apply([],y)}function ir(y){return y.length>0?y[y.length-1]:null}function En(y,v){for(const m in y)y.hasOwnProperty(m)&&v(y[m],m)}function Ei(y){return(0,A.CqO)(y)?y:(0,A.QGY)(y)?(0,k.D)(Promise.resolve(y)):(0,K.of)(y)}const Gn=!1,wu={exact:function ht(y,v,m){if(!Ur(y.segments,v.segments)||!Mn(y.segments,v.segments,m)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const I in v.children)if(!y.children[I]||!ht(y.children[I],v.children[I],m))return!1;return!0},subset:Ts},go={exact:function Dn(y,v){return rr(y,v)},subset:function Et(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(m=>is(y[m],v[m]))},ignored:()=>!0};function rn(y,v,m){return wu[m.paths](y.root,v.root,m.matrixParams)&&go[m.queryParams](y.queryParams,v.queryParams)&&!("exact"===m.fragment&&y.fragment!==v.fragment)}function Ts(y,v,m){return Oi(y,v,v.segments,m)}function Oi(y,v,m,I){if(y.segments.length>m.length){const S=y.segments.slice(0,m.length);return!(!Ur(S,m)||v.hasChildren()||!Mn(S,m,I))}if(y.segments.length===m.length){if(!Ur(y.segments,m)||!Mn(y.segments,m,I))return!1;for(const S in v.children)if(!y.children[S]||!Ts(y.children[S],v.children[S],I))return!1;return!0}{const S=m.slice(0,y.segments.length),x=m.slice(y.segments.length);return!!(Ur(y.segments,S)&&Mn(y.segments,S,I)&&y.children[st])&&Oi(y.children[st],v,x,I)}}function Mn(y,v,m){return v.every((I,S)=>go[m](y[S].parameters,I.parameters))}class Gr{constructor(v=new gt([],{}),m={},I=null){this.root=v,this.queryParams=m,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return mo.serialize(this)}}class gt{constructor(v,m){this.segments=v,this.children=m,this.parent=null,En(m,(I,S)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ni(this)}}class Cs{constructor(v,m){this.path=v,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=vn(this.parameters)),this._parameterMap}toString(){return Dr(this)}}function Ur(y,v){return y.length===v.length&&y.every((m,I)=>m.path===v[I].path)}let Ds=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:function(){return new Zt},providedIn:"root"}),y})();class Zt{parse(v){const m=new ze(v);return new Gr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(v){const m=`/${wi(v.root,!0)}`,I=function Wr(y){const v=Object.keys(y).map(m=>{const I=y[m];return Array.isArray(I)?I.map(S=>`${Bn(m)}=${Bn(S)}`).join("&"):`${Bn(m)}=${Bn(I)}`}).filter(m=>!!m);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${m}${I}${"string"==typeof v.fragment?`#${function Vs(y){return encodeURI(y)}(v.fragment)}`:""}`}}const mo=new Zt;function ni(y){return y.segments.map(v=>Dr(v)).join("/")}function wi(y,v){if(!y.hasChildren())return ni(y);if(v){const m=y.children[st]?wi(y.children[st],!1):"",I=[];return En(y.children,(S,x)=>{x!==st&&I.push(`${x}:${wi(S,!1)}`)}),I.length>0?`${m}(${I.join("//")})`:m}{const m=function qt(y,v){let m=[];return En(y.children,(I,S)=>{S===st&&(m=m.concat(v(I,S)))}),En(y.children,(I,S)=>{S!==st&&(m=m.concat(v(I,S)))}),m}(y,(I,S)=>S===st?[wi(y.children[st],!1)]:[`${S}:${wi(I,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[st]?`${ni(y)}/${m[0]}`:`${ni(y)}/(${m.join("//")})`}}function bs(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(y){return bs(y).replace(/%3B/gi,";")}function ss(y){return bs(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ho(y){return decodeURIComponent(y)}function yr(y){return Ho(y.replace(/\+/g,"%20"))}function Dr(y){return`${ss(y.path)}${function Ii(y){return Object.keys(y).map(v=>`;${ss(v)}=${ss(y[v])}`).join("")}(y.parameters)}`}const Nt=/^[^\/()?;=#]+/;function X(y){const v=y.match(Nt);return v?v[0]:""}const W=/^[^=?&#]+/,Q=/^[^&#]+/;class ze{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(v.length>0||Object.keys(m).length>0)&&(I[st]=new gt(v,m)),I}parseSegment(){const v=X(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new A.vHH(4009,Gn);return this.capture(v),new Cs(Ho(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const m=X(this.remaining);if(!m)return;this.capture(m);let I="";if(this.consumeOptional("=")){const S=X(this.remaining);S&&(I=S,this.capture(I))}v[Ho(m)]=Ho(I)}parseQueryParam(v){const m=function B(y){const v=y.match(W);return v?v[0]:""}(this.remaining);if(!m)return;this.capture(m);let I="";if(this.consumeOptional("=")){const L=function me(y){const v=y.match(Q);return v?v[0]:""}(this.remaining);L&&(I=L,this.capture(I))}const S=yr(m),x=yr(I);if(v.hasOwnProperty(S)){let L=v[S];Array.isArray(L)||(L=[L],v[S]=L),L.push(x)}else v[S]=x}parseParens(v){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=X(this.remaining),S=this.remaining[I.length];if("/"!==S&&")"!==S&&";"!==S)throw new A.vHH(4010,Gn);let x;I.indexOf(":")>-1?(x=I.slice(0,I.indexOf(":")),this.capture(x),this.capture(":")):v&&(x=st);const L=this.parseChildren();m[x]=1===Object.keys(L).length?L[st]:new gt([],L),this.consumeOptional("//")}return m}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new A.vHH(4011,Gn)}}function Dt(y){return y.segments.length>0?new gt([],{[st]:y}):y}function an(y){const v={};for(const I of Object.keys(y.children)){const x=an(y.children[I]);(x.segments.length>0||x.hasChildren())&&(v[I]=x)}return function Sn(y){if(1===y.numberOfChildren&&y.children[st]){const v=y.children[st];return new gt(y.segments.concat(v.segments),v.children)}return y}(new gt(y.segments,v))}function qr(y){return y instanceof Gr}const Ss=!1;function Ma(y,v,m,I,S){if(0===m.length)return gn(v.root,v.root,v.root,I,S);const x=function br(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new os(!0,0,y);let v=0,m=!1;const I=y.reduce((S,x,L)=>{if("object"==typeof x&&null!=x){if(x.outlets){const q={};return En(x.outlets,(_e,Ve)=>{q[Ve]="string"==typeof _e?_e.split("/"):_e}),[...S,{outlets:q}]}if(x.segmentPath)return[...S,x.segmentPath]}return"string"!=typeof x?[...S,x]:0===L?(x.split("/").forEach((q,_e)=>{0==_e&&"."===q||(0==_e&&""===q?m=!0:".."===q?v++:""!=q&&S.push(q))}),S):[...S,x]},[]);return new os(m,v,I)}(m);return x.toRoot()?gn(v.root,v.root,new gt([],{}),I,S):function L(_e){const Ve=function Tu(y,v,m,I){if(y.isAbsolute)return new $s(v.root,!0,0);if(-1===I)return new $s(m,m===v.root,0);return function Sr(y,v,m){let I=y,S=v,x=m;for(;x>S;){if(x-=S,I=I.parent,!I)throw new A.vHH(4005,Ss&&"Invalid number of '../'");S=I.segments.length}return new $s(I,!1,S-x)}(m,I+(Wn(y.commands[0])?0:1),y.numberOfDoubleDots)}(x,v,y.snapshot?._urlSegment,_e),Ge=Ve.processChildren?un(Ve.segmentGroup,Ve.index,x.commands):Ct(Ve.segmentGroup,Ve.index,x.commands);return gn(v.root,Ve.segmentGroup,Ge,I,S)}(y.snapshot?._lastPathIndex)}function Wn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Ut(y){return"object"==typeof y&&null!=y&&y.outlets}function gn(y,v,m,I,S){let L,x={};I&&En(I,(_e,Ve)=>{x[Ve]=Array.isArray(_e)?_e.map(Ge=>`${Ge}`):`${_e}`}),L=y===v?m:xn(y,v,m);const q=Dt(an(L));return new Gr(q,x,S)}function xn(y,v,m){const I={};return En(y.children,(S,x)=>{I[x]=S===v?m:xn(S,v,m)}),new gt(y.segments,I)}class os{constructor(v,m,I){if(this.isAbsolute=v,this.numberOfDoubleDots=m,this.commands=I,v&&I.length>0&&Wn(I[0]))throw new A.vHH(4003,Ss&&"Root segment cannot have matrix parameters");const S=I.find(Ut);if(S&&S!==ir(I))throw new A.vHH(4004,Ss&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $s{constructor(v,m,I){this.segmentGroup=v,this.processChildren=m,this.index=I}}function Ct(y,v,m){if(y||(y=new gt([],{})),0===y.segments.length&&y.hasChildren())return un(y,v,m);const I=function Ar(y,v,m){let I=0,S=v;const x={match:!1,pathIndex:0,commandIndex:0};for(;S<y.segments.length;){if(I>=m.length)return x;const L=y.segments[S],q=m[I];if(Ut(q))break;const _e=`${q}`,Ve=I<m.length-1?m[I+1]:null;if(S>0&&void 0===_e)break;if(_e&&Ve&&"object"==typeof Ve&&void 0===Ve.outlets){if(!wn(_e,Ve,L))return x;I+=2}else{if(!wn(_e,{},L))return x;I++}S++}return{match:!0,pathIndex:S,commandIndex:I}}(y,v,m),S=m.slice(I.commandIndex);if(I.match&&I.pathIndex<y.segments.length){const x=new gt(y.segments.slice(0,I.pathIndex),{});return x.children[st]=new gt(y.segments.slice(I.pathIndex),y.children),un(x,0,S)}return I.match&&0===S.length?new gt(y.segments,{}):I.match&&!y.hasChildren()?Kr(y,v,m):I.match?un(y,0,S):Kr(y,v,m)}function un(y,v,m){if(0===m.length)return new gt(y.segments,{});{const I=function qe(y){return Ut(y[0])?y[0].outlets:{[st]:y}}(m),S={};if(!I[st]&&y.children[st]&&1===y.numberOfChildren&&0===y.children[st].segments.length){const x=un(y.children[st],v,m);return new gt(y.segments,x.children)}return En(I,(x,L)=>{"string"==typeof x&&(x=[x]),null!==x&&(S[L]=Ct(y.children[L],v,x))}),En(y.children,(x,L)=>{void 0===I[L]&&(S[L]=x)}),new gt(y.segments,S)}}function Kr(y,v,m){const I=y.segments.slice(0,v);let S=0;for(;S<m.length;){const x=m[S];if(Ut(x)){const _e=sr(x.outlets);return new gt(I,_e)}if(0===S&&Wn(m[0])){I.push(new Cs(y.segments[v].path,as(m[0]))),S++;continue}const L=Ut(x)?x.outlets[st]:`${x}`,q=S<m.length-1?m[S+1]:null;L&&q&&Wn(q)?(I.push(new Cs(L,as(q))),S+=2):(I.push(new Cs(L,{})),S++)}return new gt(I,{})}function sr(y){const v={};return En(y,(m,I)=>{"string"==typeof m&&(m=[m]),null!==m&&(v[I]=Kr(new gt([],{}),0,m))}),v}function as(y){const v={};return En(y,(m,I)=>v[I]=`${m}`),v}function wn(y,v,m){return y==m.path&&rr(v,m.parameters)}const Fi="imperative";class Rr{constructor(v,m){this.id=v,this.url=m}}class St extends Rr{constructor(v,m,I="imperative",S=null){super(v,m),this.type=0,this.navigationTrigger=I,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends Rr{constructor(v,m,I){super(v,m),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ui extends Rr{constructor(v,m,I,S){super(v,m),this.reason=I,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class js extends Rr{constructor(v,m,I,S){super(v,m),this.reason=I,this.code=S,this.type=16}}class As extends Rr{constructor(v,m,I,S){super(v,m),this.error=I,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vr extends Rr{constructor(v,m,I,S){super(v,m),this.urlAfterRedirects=I,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends Rr{constructor(v,m,I,S){super(v,m),this.urlAfterRedirects=I,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us extends Rr{constructor(v,m,I,S,x){super(v,m),this.urlAfterRedirects=I,this.state=S,this.shouldActivate=x,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ti extends Rr{constructor(v,m,I,S){super(v,m),this.urlAfterRedirects=I,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends Rr{constructor(v,m,I,S){super(v,m),this.urlAfterRedirects=I,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ed{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mn{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vi{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cu{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nl{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(v,m,I){this.routerEvent=v,this.position=m,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Du=(()=>{class y{createUrlTree(m,I,S,x,L,q){return Ma(m||I.root,S,x,L,q)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac}),y})(),ri=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:function(v){return Du.\u0275fac(v)},providedIn:"root"}),y})();class xa{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const m=this.pathFromRoot(v);return m.length>1?m[m.length-2]:null}children(v){const m=yo(v,this._root);return m?m.children.map(I=>I.value):[]}firstChild(v){const m=yo(v,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(v){const m=Rs(v,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==v)}pathFromRoot(v){return Rs(v,this._root).map(m=>m.value)}}function yo(y,v){if(y===v.value)return v;for(const m of v.children){const I=yo(y,m);if(I)return I}return null}function Rs(y,v){if(y===v.value)return[v];for(const m of v.children){const I=Rs(y,m);if(I.length)return I.unshift(v),I}return[]}class qn{constructor(v,m){this.value=v,this.children=m}toString(){return`TreeNode(${this.value})`}}function vo(y){const v={};return y&&y.children.forEach(m=>v[m.value.outlet]=m),v}class wd extends xa{constructor(v,m){super(v),this.snapshot=m,kl(this,v)}toString(){return this.snapshot.toString()}}function bu(y,v){const m=function Su(y,v){const L=new Au([],{},{},"",{},st,v,null,y.root,-1,{});return new Td("",new qn(L,[]))}(y,v),I=new re.X([new Cs("",{})]),S=new re.X({}),x=new re.X({}),L=new re.X({}),q=new re.X(""),_e=new Eo(I,S,L,q,x,st,v,m.root);return _e.snapshot=m.root,new wd(new qn(_e,[]),m)}class Eo{constructor(v,m,I,S,x,L,q,_e){this.url=v,this.params=m,this.queryParams=I,this.fragment=S,this.data=x,this.outlet=L,this.component=q,this.title=this.data?.pipe((0,G.U)(Ve=>Ve[nr]))??(0,K.of)(void 0),this._futureSnapshot=_e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,G.U)(v=>vn(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,G.U)(v=>vn(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wf(y,v="emptyOnly"){const m=y.pathFromRoot;let I=0;if("always"!==v)for(I=m.length-1;I>=1;){const S=m[I],x=m[I-1];if(S.routeConfig&&""===S.routeConfig.path)I--;else{if(x.component)break;I--}}return function Id(y){return y.reduce((v,m)=>({params:{...v.params,...m.params},data:{...v.data,...m.data},resolve:{...m.data,...v.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(I))}class Au{get title(){return this.data?.[nr]}constructor(v,m,I,S,x,L,q,_e,Ve,Ge,jt){this.url=v,this.params=m,this.queryParams=I,this.fragment=S,this.data=x,this.outlet=L,this.component=q,this.routeConfig=_e,this._urlSegment=Ve,this._lastPathIndex=Ge,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Td extends xa{constructor(v,m){super(m),this.url=v,kl(this,m)}toString(){return Ru(this._root)}}function kl(y,v){v.value._routerState=y,v.children.forEach(m=>kl(y,m))}function Ru(y){const v=y.children.length>0?` { ${y.children.map(Ru).join(", ")} } `:"";return`${y.value}${v}`}function Pa(y){if(y.snapshot){const v=y.snapshot,m=y._futureSnapshot;y.snapshot=m,rr(v.queryParams,m.queryParams)||y.queryParams.next(m.queryParams),v.fragment!==m.fragment&&y.fragment.next(m.fragment),rr(v.params,m.params)||y.params.next(m.params),function Bs(y,v){if(y.length!==v.length)return!1;for(let m=0;m<y.length;++m)if(!rr(y[m],v[m]))return!1;return!0}(v.url,m.url)||y.url.next(m.url),rr(v.data,m.data)||y.data.next(m.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Ol(y,v){const m=rr(y.params,v.params)&&function bn(y,v){return Ur(y,v)&&y.every((m,I)=>rr(m.parameters,v[I].parameters))}(y.url,v.url);return m&&!(!y.parent!=!v.parent)&&(!y.parent||Ol(y.parent,v.parent))}function Na(y,v,m){if(m&&y.shouldReuseRoute(v.value,m.value.snapshot)){const I=m.value;I._futureSnapshot=v.value;const S=function Fl(y,v,m){return v.children.map(I=>{for(const S of m.children)if(y.shouldReuseRoute(I.value,S.value.snapshot))return Na(y,I,S);return Na(y,I)})}(y,v,m);return new qn(I,S)}{if(y.shouldAttach(v.value)){const x=y.retrieve(v.value);if(null!==x){const L=x.route;return L.value._futureSnapshot=v.value,L.children=v.children.map(q=>Na(y,q)),L}}const I=function Ll(y){return new Eo(new re.X(y.url),new re.X(y.params),new re.X(y.queryParams),new re.X(y.fragment),new re.X(y.data),y.outlet,y.component,y)}(v.value),S=v.children.map(x=>Na(y,x));return new qn(I,S)}}const wo="ngNavigationCancelingError";function Cd(y,v){const{redirectTo:m,navigationBehaviorOptions:I}=qr(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,S=Dd(!1,0,v);return S.url=m,S.navigationBehaviorOptions=I,S}function Dd(y,v,m){const I=new Error("NavigationCancelingError: "+(y||""));return I[wo]=!0,I.cancellationCode=v,m&&(I.url=m),I}function qf(y){return zs(y)&&qr(y.url)}function zs(y){return y&&y[wo]}class bd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,I){const S=this.getOrCreateContext(m);S.outlet=I,this.contexts.set(m,S)}onChildOutletDestroyed(m){const I=this.getContext(m);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let I=this.getContext(m);return I||(I=new bd,this.contexts.set(m,I)),I}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Er=!1;let Go=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=st,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.attachEvents=new A.vpe,this.detachEvents=new A.vpe,this.parentContexts=(0,A.f3M)(Io),this.location=(0,A.f3M)(A.s_b),this.changeDetector=(0,A.f3M)(A.sBO),this.environmentInjector=(0,A.f3M)(A.lqb)}ngOnChanges(m){if(m.name){const{firstChange:I,previousValue:S}=m.name;if(I)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.vHH(4012,Er);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.vHH(4012,Er);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.vHH(4012,Er);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,I){this.activated=m,this._activatedRoute=I,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,I){if(this.isActivated)throw new A.vHH(4013,Er);this._activatedRoute=m;const S=this.location,L=m.snapshot.component,q=this.parentContexts.getOrCreateContext(this.name).children,_e=new To(m,q,S.injector);if(I&&function ka(y){return!!y.resolveComponentFactory}(I)){const Ve=I.resolveComponentFactory(L);this.activated=S.createComponent(Ve,S.length,_e)}else this.activated=S.createComponent(L,{index:S.length,injector:_e,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=A.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[A.TTD]}),y})();class To{constructor(v,m,I){this.route=v,this.childContexts=m,this.parent=I}get(v,m){return v===Eo?this.route:v===Io?this.childContexts:this.parent.get(v,m)}}let Mu=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=A.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[A.jDz],decls:1,vars:0,template:function(m,I){1&m&&A._UZ(0,"router-outlet")},dependencies:[Go],encapsulation:2}),y})();function Ul(y,v){return y.providers&&!y._injector&&(y._injector=(0,A.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function en(y){const v=y.children&&y.children.map(en),m=v?{...y,children:v}:{...y};return!m.component&&!m.loadComponent&&(v||m.loadChildren)&&m.outlet&&m.outlet!==st&&(m.component=Mu),m}function ar(y){return y.outlet||st}function Pu(y,v){const m=y.filter(I=>ar(I)===v);return m.push(...y.filter(I=>ar(I)!==v)),m}function cs(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const m=v.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Sd{constructor(v,m,I,S){this.routeReuseStrategy=v,this.futureState=m,this.currState=I,this.forwardEvent=S}activate(v){const m=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,I,v),Pa(this.futureState.root),this.activateChildRoutes(m,I,v)}deactivateChildRoutes(v,m,I){const S=vo(m);v.children.forEach(x=>{const L=x.value.outlet;this.deactivateRoutes(x,S[L],I),delete S[L]}),En(S,(x,L)=>{this.deactivateRouteAndItsChildren(x,I)})}deactivateRoutes(v,m,I){const S=v.value,x=m?m.value:null;if(S===x)if(S.component){const L=I.getContext(S.outlet);L&&this.deactivateChildRoutes(v,m,L.children)}else this.deactivateChildRoutes(v,m,I);else x&&this.deactivateRouteAndItsChildren(m,I)}deactivateRouteAndItsChildren(v,m){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,m):this.deactivateRouteAndOutlet(v,m)}detachAndStoreRouteSubtree(v,m){const I=m.getContext(v.value.outlet),S=I&&v.value.component?I.children:m,x=vo(v);for(const L of Object.keys(x))this.deactivateRouteAndItsChildren(x[L],S);if(I&&I.outlet){const L=I.outlet.detach(),q=I.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:L,route:v,contexts:q})}}deactivateRouteAndOutlet(v,m){const I=m.getContext(v.value.outlet),S=I&&v.value.component?I.children:m,x=vo(v);for(const L of Object.keys(x))this.deactivateRouteAndItsChildren(x[L],S);I&&(I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated()),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(v,m,I){const S=vo(m);v.children.forEach(x=>{this.activateRoutes(x,S[x.value.outlet],I),this.forwardEvent(new _o(x.value.snapshot))}),v.children.length&&this.forwardEvent(new Cu(v.value.snapshot))}activateRoutes(v,m,I){const S=v.value,x=m?m.value:null;if(Pa(S),S===x)if(S.component){const L=I.getOrCreateContext(S.outlet);this.activateChildRoutes(v,m,L.children)}else this.activateChildRoutes(v,m,I);else if(S.component){const L=I.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const q=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),L.children.onOutletReAttached(q.contexts),L.attachRef=q.componentRef,L.route=q.route.value,L.outlet&&L.outlet.attach(q.componentRef,q.route.value),Pa(q.route.value),this.activateChildRoutes(v,null,L.children)}else{const q=cs(S.snapshot),_e=q?.get(A._Vd)??null;L.attachRef=null,L.route=S,L.resolver=_e,L.injector=q,L.outlet&&L.outlet.activateWith(S,L.injector),this.activateChildRoutes(v,null,L.children)}}else this.activateChildRoutes(v,null,I)}}class Co{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Gs{constructor(v,m){this.component=v,this.route=m}}function Ws(y,v,m){const I=y._root;return wt(I,v?v._root:null,m,[I.value])}function ji(y,v){const m=Symbol(),I=v.get(y,m);return I===m?"function"!=typeof y||(0,A.Z0I)(y)?v.get(y):y:I}function wt(y,v,m,I,S={canDeactivateChecks:[],canActivateChecks:[]}){const x=vo(v);return y.children.forEach(L=>{(function Nu(y,v,m,I,S={canDeactivateChecks:[],canActivateChecks:[]}){const x=y.value,L=v?v.value:null,q=m?m.getContext(y.value.outlet):null;if(L&&x.routeConfig===L.routeConfig){const _e=function Um(y,v,m){if("function"==typeof m)return m(y,v);switch(m){case"pathParamsChange":return!Ur(y.url,v.url);case"pathParamsOrQueryParamsChange":return!Ur(y.url,v.url)||!rr(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ol(y,v)||!rr(y.queryParams,v.queryParams);default:return!Ol(y,v)}}(L,x,x.routeConfig.runGuardsAndResolvers);_e?S.canActivateChecks.push(new Co(I)):(x.data=L.data,x._resolvedData=L._resolvedData),wt(y,v,x.component?q?q.children:null:m,I,S),_e&&q&&q.outlet&&q.outlet.isActivated&&S.canDeactivateChecks.push(new Gs(q.outlet.component,L))}else L&&Do(v,q,S),S.canActivateChecks.push(new Co(I)),wt(y,null,x.component?q?q.children:null:m,I,S)})(L,x[L.value.outlet],m,I.concat([L.value]),S),delete x[L.value.outlet]}),En(x,(L,q)=>Do(L,m.getContext(q),S)),S}function Do(y,v,m){const I=vo(y),S=y.value;En(I,(x,L)=>{Do(x,S.component?v?v.children.getContext(L):null:v,m)}),m.canDeactivateChecks.push(new Gs(S.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,S))}function Ko(y){return"function"==typeof y}function Qn(y){return y instanceof ie||"EmptyError"===y?.name}const Ua=Symbol("INITIAL_VALUE");function ds(){return(0,Ee.w)(y=>(0,Z.a)(y.map(v=>v.pipe((0,Pe.q)(1),(0,ut.O)(Ua)))).pipe((0,G.U)(v=>{for(const m of v)if(!0!==m){if(m===Ua)return Ua;if(!1===m||m instanceof Gr)return m}return!0}),(0,nt.h)(v=>v!==Ua),(0,Pe.q)(1)))}function qs(y){return(0,ae.z)((0,ge.b)(v=>{if(qr(v))throw Cd(0,v)}),(0,G.U)(v=>!0===v))}const bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ne(y,v,m,I,S){const x=Ks(y,v,m);return x.matched?function z(y,v,m,I){const S=v.canMatch;if(!S||0===S.length)return(0,K.of)(!0);const x=S.map(L=>{const q=ji(L,y);return Ei(function Ht(y){return y&&Ko(y.canMatch)}(q)?q.canMatch(v,m):y.runInContext(()=>q(v,m)))});return(0,K.of)(x).pipe(ds(),qs())}(I=Ul(v,I),v,m).pipe((0,G.U)(L=>!0===L?x:{...bo})):(0,K.of)(x)}function Ks(y,v,m){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||m.length>0)?{...bo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(v.matcher||ki)(m,y,v);if(!S)return{...bo};const x={};En(S.posParams,(q,_e)=>{x[_e]=q.path});const L=S.consumed.length>0?{...x,...S.consumed[S.consumed.length-1].parameters}:x;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:L,positionalParamSegments:S.posParams??{}}}function Ba(y,v,m,I){if(m.length>0&&function Pd(y,v,m){return m.some(I=>So(y,v,I)&&ar(I)!==st)}(y,m,I)){const x=new gt(v,function Qs(y,v,m,I){const S={};S[st]=I,I._sourceSegment=y,I._segmentIndexShift=v.length;for(const x of m)if(""===x.path&&ar(x)!==st){const L=new gt([],{});L._sourceSegment=y,L._segmentIndexShift=v.length,S[ar(x)]=L}return S}(y,v,I,new gt(m,y.children)));return x._sourceSegment=y,x._segmentIndexShift=v.length,{segmentGroup:x,slicedSegments:[]}}if(0===m.length&&function Fu(y,v,m){return m.some(I=>So(y,v,I))}(y,m,I)){const x=new gt(y.segments,function Ou(y,v,m,I,S){const x={};for(const L of I)if(So(y,m,L)&&!S[ar(L)]){const q=new gt([],{});q._sourceSegment=y,q._segmentIndexShift=v.length,x[ar(L)]=q}return{...S,...x}}(y,v,m,I,y.children));return x._sourceSegment=y,x._segmentIndexShift=v.length,{segmentGroup:x,slicedSegments:m}}const S=new gt(y.segments,y.children);return S._sourceSegment=y,S._segmentIndexShift=v.length,{segmentGroup:S,slicedSegments:m}}function So(y,v,m){return(!(y.hasChildren()||v.length>0)||"full"!==m.pathMatch)&&""===m.path}function Yo(y,v,m,I){return!!(ar(y)===I||I!==st&&So(v,m,y))&&("**"===y.path||Ks(v,y,m).matched)}function Lu(y,v,m){return 0===v.length&&!y.children[m]}const Xo=!1;class Va{constructor(v){this.segmentGroup=v||null}}class Wl{constructor(v){this.urlTree=v}}function Jo(y){return(0,Qe._)(new Va(y))}function Uu(y){return(0,Qe._)(new Wl(y))}class hs{constructor(v,m,I,S,x){this.injector=v,this.configLoader=m,this.urlSerializer=I,this.urlTree=S,this.config=x,this.allowRedirects=!0}apply(){const v=Ba(this.urlTree.root,[],[],this.config).segmentGroup,m=new gt(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,m,st).pipe((0,G.U)(x=>this.createUrlTree(an(x),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ce.K)(x=>{if(x instanceof Wl)return this.allowRedirects=!1,this.match(x.urlTree);throw x instanceof Va?this.noMatchError(x):x}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,st).pipe((0,G.U)(S=>this.createUrlTree(an(S),v.queryParams,v.fragment))).pipe((0,Ce.K)(S=>{throw S instanceof Va?this.noMatchError(S):S}))}noMatchError(v){return new A.vHH(4002,Xo)}createUrlTree(v,m,I){const S=Dt(v);return new Gr(S,m,I)}expandSegmentGroup(v,m,I,S){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(v,m,I).pipe((0,G.U)(x=>new gt([],x))):this.expandSegment(v,I,m,I.segments,S,!0)}expandChildren(v,m,I){const S=[];for(const x of Object.keys(I.children))"primary"===x?S.unshift(x):S.push(x);return(0,k.D)(S).pipe((0,fe.b)(x=>{const L=I.children[x],q=Pu(m,x);return this.expandSegmentGroup(v,q,L,x).pipe((0,G.U)(_e=>({segment:_e,outlet:x})))}),xe((x,L)=>(x[L.outlet]=L.segment,x),{}),et())}expandSegment(v,m,I,S,x,L){return(0,k.D)(I).pipe((0,fe.b)(q=>this.expandSegmentAgainstRoute(v,m,I,q,S,x,L).pipe((0,Ce.K)(Ve=>{if(Ve instanceof Va)return(0,K.of)(null);throw Ve}))),le(q=>!!q),(0,Ce.K)((q,_e)=>{if(Qn(q))return Lu(m,S,x)?(0,K.of)(new gt([],{})):Jo(m);throw q}))}expandSegmentAgainstRoute(v,m,I,S,x,L,q){return Yo(S,m,x,L)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(v,m,S,x,L):q&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,m,I,S,x,L):Jo(m):Jo(m)}expandSegmentAgainstRouteUsingRedirect(v,m,I,S,x,L){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,I,S,L):this.expandRegularSegmentAgainstRouteUsingRedirect(v,m,I,S,x,L)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,m,I,S){const x=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?Uu(x):this.lineralizeSegments(I,x).pipe((0,ft.z)(L=>{const q=new gt(L,{});return this.expandSegment(v,q,m,L,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,m,I,S,x,L){const{matched:q,consumedSegments:_e,remainingSegments:Ve,positionalParamSegments:Ge}=Ks(m,S,x);if(!q)return Jo(m);const jt=this.applyRedirectCommands(_e,S.redirectTo,Ge);return S.redirectTo.startsWith("/")?Uu(jt):this.lineralizeSegments(S,jt).pipe((0,ft.z)(lr=>this.expandSegment(v,m,I,lr.concat(Ve),L,!1)))}matchSegmentAgainstRoute(v,m,I,S,x){return"**"===I.path?(v=Ul(I,v),I.loadChildren?(I._loadedRoutes?(0,K.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(v,I)).pipe((0,G.U)(q=>(I._loadedRoutes=q.routes,I._loadedInjector=q.injector,new gt(S,{})))):(0,K.of)(new gt(S,{}))):Ne(m,I,S,v).pipe((0,Ee.w)(({matched:L,consumedSegments:q,remainingSegments:_e})=>L?this.getChildConfig(v=I._injector??v,I,S).pipe((0,ft.z)(Ge=>{const jt=Ge.injector??v,lr=Ge.routes,{segmentGroup:oi,slicedSegments:fs}=Ba(m,q,_e,lr),Ms=new gt(oi.segments,oi.children);if(0===fs.length&&Ms.hasChildren())return this.expandChildren(jt,lr,Ms).pipe((0,G.U)(Yu=>new gt(q,Yu)));if(0===lr.length&&0===fs.length)return(0,K.of)(new gt(q,{}));const ai=ar(I)===x;return this.expandSegment(jt,Ms,lr,fs,ai?st:x,!0).pipe((0,G.U)(nc=>new gt(q.concat(nc.segments),nc.children)))})):Jo(m)))}getChildConfig(v,m,I){return m.children?(0,K.of)({routes:m.children,injector:v}):m.loadChildren?void 0!==m._loadedRoutes?(0,K.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Qo(y,v,m,I){const S=v.canLoad;if(void 0===S||0===S.length)return(0,K.of)(!0);const x=S.map(L=>{const q=ji(L,y);return Ei(function $l(y){return y&&Ko(y.canLoad)}(q)?q.canLoad(v,m):y.runInContext(()=>q(v,m)))});return(0,K.of)(x).pipe(ds(),qs())}(v,m,I).pipe((0,ft.z)(S=>S?this.configLoader.loadChildren(v,m).pipe((0,ge.b)(x=>{m._loadedRoutes=x.routes,m._loadedInjector=x.injector})):function Bu(y){return(0,Qe._)(Dd(Xo,3))}())):(0,K.of)({routes:[],injector:v})}lineralizeSegments(v,m){let I=[],S=m.root;for(;;){if(I=I.concat(S.segments),0===S.numberOfChildren)return(0,K.of)(I);if(S.numberOfChildren>1||!S.children[st])return v.redirectTo,(0,Qe._)(new A.vHH(4e3,Xo));S=S.children[st]}}applyRedirectCommands(v,m,I){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),v,I)}applyRedirectCreateUrlTree(v,m,I,S){const x=this.createSegmentGroup(v,m.root,I,S);return new Gr(x,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(v,m){const I={};return En(v,(S,x)=>{if("string"==typeof S&&S.startsWith(":")){const q=S.substring(1);I[x]=m[q]}else I[x]=S}),I}createSegmentGroup(v,m,I,S){const x=this.createSegments(v,m.segments,I,S);let L={};return En(m.children,(q,_e)=>{L[_e]=this.createSegmentGroup(v,q,I,S)}),new gt(x,L)}createSegments(v,m,I,S){return m.map(x=>x.path.startsWith(":")?this.findPosParam(v,x,S):this.findOrReturn(x,I))}findPosParam(v,m,I){const S=I[m.path.substring(1)];if(!S)throw new A.vHH(4001,Xo);return S}findOrReturn(v,m){let I=0;for(const S of m){if(S.path===v.path)return m.splice(I),S;I++}return v}}class Zo{}class Kl{constructor(v,m,I,S,x,L,q){this.injector=v,this.rootComponentType=m,this.config=I,this.urlTree=S,this.url=x,this.paramsInheritanceStrategy=L,this.urlSerializer=q}recognize(){const v=Ba(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,st).pipe((0,G.U)(m=>{if(null===m)return null;const I=new Au([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},st,this.rootComponentType,null,this.urlTree.root,-1,{}),S=new qn(I,m),x=new Td(this.url,S);return this.inheritParamsAndData(x._root),x}))}inheritParamsAndData(v){const m=v.value,I=Wf(m,this.paramsInheritanceStrategy);m.params=Object.freeze(I.params),m.data=Object.freeze(I.data),v.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(v,m,I,S){return 0===I.segments.length&&I.hasChildren()?this.processChildren(v,m,I):this.processSegment(v,m,I,I.segments,S)}processChildren(v,m,I){return(0,k.D)(Object.keys(I.children)).pipe((0,fe.b)(S=>{const x=I.children[S],L=Pu(m,S);return this.processSegmentGroup(v,L,x,S)}),xe((S,x)=>S&&x?(S.push(...x),S):null),function Un(y,v=!1){return(0,at.e)((m,I)=>{let S=0;m.subscribe((0,Te.x)(I,x=>{const L=y(x,S++);(L||v)&&I.next(x),!L&&I.complete()}))})}(S=>null!==S),Yt(null),et(),(0,G.U)(S=>{if(null===S)return null;const x=ta(S);return function Kf(y){y.sort((v,m)=>v.value.outlet===st?-1:m.value.outlet===st?1:v.value.outlet.localeCompare(m.value.outlet))}(x),x}))}processSegment(v,m,I,S,x){return(0,k.D)(m).pipe((0,fe.b)(L=>this.processSegmentAgainstRoute(L._injector??v,L,I,S,x)),le(L=>!!L),(0,Ce.K)(L=>{if(Qn(L))return Lu(I,S,x)?(0,K.of)([]):(0,K.of)(null);throw L}))}processSegmentAgainstRoute(v,m,I,S,x){if(m.redirectTo||!Yo(m,I,S,x))return(0,K.of)(null);let L;if("**"===m.path){const q=S.length>0?ir(S).parameters:{},_e=D(I)+S.length,Ve=new Au(S,q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$(m),ar(m),m.component??m._loadedComponent??null,m,M(I),_e,ne(m));L=(0,K.of)({snapshot:Ve,consumedSegments:[],remainingSegments:[]})}else L=Ne(I,m,S,v).pipe((0,G.U)(({matched:q,consumedSegments:_e,remainingSegments:Ve,parameters:Ge})=>{if(!q)return null;const jt=D(I)+_e.length;return{snapshot:new Au(_e,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$(m),ar(m),m.component??m._loadedComponent??null,m,M(I),jt,ne(m)),consumedSegments:_e,remainingSegments:Ve}}));return L.pipe((0,Ee.w)(q=>{if(null===q)return(0,K.of)(null);const{snapshot:_e,consumedSegments:Ve,remainingSegments:Ge}=q;v=m._injector??v;const jt=m._loadedInjector??v,lr=function Ql(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(m),{segmentGroup:oi,slicedSegments:fs}=Ba(I,Ve,Ge,lr.filter(ai=>void 0===ai.redirectTo));if(0===fs.length&&oi.hasChildren())return this.processChildren(jt,lr,oi).pipe((0,G.U)(ai=>null===ai?null:[new qn(_e,ai)]));if(0===lr.length&&0===fs.length)return(0,K.of)([new qn(_e,[])]);const Ms=ar(m)===x;return this.processSegment(jt,lr,oi,fs,Ms?st:x).pipe((0,G.U)(ai=>null===ai?null:[new qn(_e,ai)]))}))}}function ea(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function ta(y){const v=[],m=new Set;for(const I of y){if(!ea(I)){v.push(I);continue}const S=v.find(x=>I.value.routeConfig===x.value.routeConfig);void 0!==S?(S.children.push(...I.children),m.add(S)):v.push(I)}for(const I of m){const S=ta(I.children);v.push(new qn(I.value,S))}return v.filter(I=>!m.has(I))}function M(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function D(y){let v=y,m=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,m+=v._segmentIndexShift??0;return m-1}function $(y){return y.data||{}}function ne(y){return y.resolve||{}}function Vn(y){return"string"==typeof y.title||null===y.title}function $t(y){return(0,Ee.w)(v=>{const m=y(v);return m?(0,k.D)(m).pipe((0,G.U)(()=>v)):(0,K.of)(v)})}const Ir=new A.OlP("ROUTES");let xr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,A.f3M)(A.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,K.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const I=Ei(m.loadComponent()).pipe((0,G.U)(Gi),(0,ge.b)(x=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=x}),(0,Jt.x)(()=>{this.componentLoaders.delete(m)})),S=new Ue(I,()=>new rt.x).pipe(mt());return this.componentLoaders.set(m,S),S}loadChildren(m,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,K.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const x=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,G.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(I);let _e,Ve,Ge=!1;Array.isArray(q)?Ve=q:(_e=q.create(m).injector,Ve=_r(_e.get(Ir,[],A.XFs.Self|A.XFs.Optional)));return{routes:Ve.map(en),injector:_e}}),(0,Jt.x)(()=>{this.childrenLoaders.delete(I)})),L=new Ue(x,()=>new rt.x).pipe(mt());return this.childrenLoaders.set(I,L),L}loadModuleFactoryOrRoutes(m){return Ei(m()).pipe((0,G.U)(Gi),(0,ft.z)(I=>I instanceof A.YKP||Array.isArray(I)?(0,K.of)(I):(0,k.D)(this.compiler.compileModuleAsync(I))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Gi(y){return function Ys(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Vr=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new rt.x,this.configLoader=(0,A.f3M)(xr),this.environmentInjector=(0,A.f3M)(A.lqb),this.urlSerializer=(0,A.f3M)(Ds),this.rootContexts=(0,A.f3M)(Io),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new mn(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new Ed(S))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const I=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:I})}setupNavigations(m){return this.transitions=new re.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fi,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(I=>0!==I.id),(0,G.U)(I=>({...I,extractedUrl:m.urlHandlingStrategy.extract(I.rawUrl)})),(0,Ee.w)(I=>{let S=!1,x=!1;return(0,K.of)(I).pipe((0,ge.b)(L=>{this.currentNavigation={id:L.id,initialUrl:L.rawUrl,extractedUrl:L.extractedUrl,trigger:L.source,extras:L.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ee.w)(L=>{const q=m.browserUrlTree.toString(),_e=!m.navigated||L.extractedUrl.toString()!==q||q!==m.currentUrlTree.toString();if(!_e&&"reload"!==(L.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Ge="";return this.events.next(new js(L.id,m.serializeUrl(I.rawUrl),Ge,0)),m.rawUrlTree=L.rawUrl,L.resolve(null),be.E}if(m.urlHandlingStrategy.shouldProcessUrl(L.rawUrl))return Ci(L.source)&&(m.browserUrlTree=L.extractedUrl),(0,K.of)(L).pipe((0,Ee.w)(Ge=>{const jt=this.transitions?.getValue();return this.events.next(new St(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),Ge.source,Ge.restoredState)),jt!==this.transitions?.getValue()?be.E:Promise.resolve(Ge)}),function An(y,v,m,I){return(0,Ee.w)(S=>function wr(y,v,m,I,S){return new hs(y,v,m,I,S).apply()}(y,v,m,S.extractedUrl,I).pipe((0,G.U)(x=>({...S,urlAfterRedirects:x}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,ge.b)(Ge=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ge.urlAfterRedirects},I.urlAfterRedirects=Ge.urlAfterRedirects}),function ve(y,v,m,I,S){return(0,ft.z)(x=>function ur(y,v,m,I,S,x,L="emptyOnly"){return new Kl(y,v,m,I,S,L,x).recognize().pipe((0,Ee.w)(q=>null===q?function ql(y){return new pe.y(v=>v.error(y))}(new Zo):(0,K.of)(q)))}(y,v,m,x.urlAfterRedirects,I.serialize(x.urlAfterRedirects),I,S).pipe((0,G.U)(L=>({...x,targetSnapshot:L}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,ge.b)(Ge=>{if(I.targetSnapshot=Ge.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Ge.extras.skipLocationChange){const lr=m.urlHandlingStrategy.merge(Ge.urlAfterRedirects,Ge.rawUrl);m.setBrowserUrl(lr,Ge)}m.browserUrlTree=Ge.urlAfterRedirects}const jt=new vr(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(jt)}));if(_e&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Ge,extractedUrl:jt,source:lr,restoredState:oi,extras:fs}=L,Ms=new St(Ge,this.urlSerializer.serialize(jt),lr,oi);this.events.next(Ms);const ai=bu(jt,this.rootComponentType).snapshot;return I={...L,targetSnapshot:ai,urlAfterRedirects:jt,extras:{...fs,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(I)}{const Ge="";return this.events.next(new js(L.id,m.serializeUrl(I.extractedUrl),Ge,1)),m.rawUrlTree=L.rawUrl,L.resolve(null),be.E}}),(0,ge.b)(L=>{const q=new Bi(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(L.urlAfterRedirects),L.targetSnapshot);this.events.next(q)}),(0,G.U)(L=>I={...L,guards:Ws(L.targetSnapshot,L.currentSnapshot,this.rootContexts)}),function Hi(y,v){return(0,ft.z)(m=>{const{targetSnapshot:I,currentSnapshot:S,guards:{canActivateChecks:x,canDeactivateChecks:L}}=m;return 0===L.length&&0===x.length?(0,K.of)({...m,guardsResult:!0}):function jl(y,v,m,I){return(0,k.D)(y).pipe((0,ft.z)(S=>function zi(y,v,m,I,S){const x=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!x||0===x.length)return(0,K.of)(!0);const L=x.map(q=>{const _e=cs(v)??S,Ve=ji(q,_e);return Ei(function de(y){return y&&Ko(y.canDeactivate)}(Ve)?Ve.canDeactivate(y,v,m,I):_e.runInContext(()=>Ve(y,v,m,I))).pipe(le())});return(0,K.of)(L).pipe(ds())}(S.component,S.route,m,v,I)),le(S=>!0!==S,!0))}(L,I,S,y).pipe((0,ft.z)(q=>q&&function Ad(y){return"boolean"==typeof y}(q)?function ku(y,v,m,I){return(0,k.D)(v).pipe((0,fe.b)(S=>(0,ue.z)(function zl(y,v){return null!==y&&v&&v(new Vi(y)),(0,K.of)(!0)}(S.route.parent,I),function Hl(y,v){return null!==y&&v&&v(new Nl(y)),(0,K.of)(!0)}(S.route,I),function Br(y,v,m){const I=v[v.length-1],x=v.slice(0,v.length-1).reverse().map(L=>function Vl(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}(L)).filter(L=>null!==L).map(L=>ce(()=>{const q=L.guards.map(_e=>{const Ve=cs(L.node)??m,Ge=ji(_e,Ve);return Ei(function La(y){return y&&Ko(y.canActivateChild)}(Ge)?Ge.canActivateChild(I,y):Ve.runInContext(()=>Ge(I,y))).pipe(le())});return(0,K.of)(q).pipe(ds())}));return(0,K.of)(x).pipe(ds())}(y,S.path,m),function Gl(y,v,m){const I=v.routeConfig?v.routeConfig.canActivate:null;if(!I||0===I.length)return(0,K.of)(!0);const S=I.map(x=>ce(()=>{const L=cs(v)??m,q=ji(x,L);return Ei(function Rd(y){return y&&Ko(y.canActivate)}(q)?q.canActivate(v,y):L.runInContext(()=>q(v,y))).pipe(le())}));return(0,K.of)(S).pipe(ds())}(y,S.route,m))),le(S=>!0!==S,!0))}(I,x,y,v):(0,K.of)(q)),(0,G.U)(q=>({...m,guardsResult:q})))})}(this.environmentInjector,L=>this.events.next(L)),(0,ge.b)(L=>{if(I.guardsResult=L.guardsResult,qr(L.guardsResult))throw Cd(0,L.guardsResult);const q=new us(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(L.urlAfterRedirects),L.targetSnapshot,!!L.guardsResult);this.events.next(q)}),(0,nt.h)(L=>!!L.guardsResult||(m.restoreHistory(L),this.cancelNavigationTransition(L,"",3),!1)),$t(L=>{if(L.guards.canActivateChecks.length)return(0,K.of)(L).pipe((0,ge.b)(q=>{const _e=new Ti(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(_e)}),(0,Ee.w)(q=>{let _e=!1;return(0,K.of)(q).pipe(function Ke(y,v){return(0,ft.z)(m=>{const{targetSnapshot:I,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,K.of)(m);let x=0;return(0,k.D)(S).pipe((0,fe.b)(L=>function tn(y,v,m,I){const S=y.routeConfig,x=y._resolve;return void 0!==S?.title&&!Vn(S)&&(x[nr]=S.title),function At(y,v,m,I){const S=function Ot(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===S.length)return(0,K.of)({});const x={};return(0,k.D)(S).pipe((0,ft.z)(L=>function Vt(y,v,m,I){const S=cs(v)??I,x=ji(y,S);return Ei(x.resolve?x.resolve(v,m):S.runInContext(()=>x(v,m)))}(y[L],v,m,I).pipe(le(),(0,ge.b)(q=>{x[L]=q}))),Ze(1),(0,yt.h)(x),(0,Ce.K)(L=>Qn(L)?be.E:(0,Qe._)(L)))}(x,y,v,I).pipe((0,G.U)(L=>(y._resolvedData=L,y.data=Wf(y,m).resolve,S&&Vn(S)&&(y.data[nr]=S.title),null)))}(L.route,I,y,v)),(0,ge.b)(()=>x++),Ze(1),(0,ft.z)(L=>x===S.length?(0,K.of)(m):be.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,ge.b)({next:()=>_e=!0,complete:()=>{_e||(m.restoreHistory(q),this.cancelNavigationTransition(q,"",2))}}))}),(0,ge.b)(q=>{const _e=new Hs(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(_e)}))}),$t(L=>{const q=_e=>{const Ve=[];_e.routeConfig?.loadComponent&&!_e.routeConfig._loadedComponent&&Ve.push(this.configLoader.loadComponent(_e.routeConfig).pipe((0,ge.b)(Ge=>{_e.component=Ge}),(0,G.U)(()=>{})));for(const Ge of _e.children)Ve.push(...q(Ge));return Ve};return(0,Z.a)(q(L.targetSnapshot.root)).pipe(Yt(),(0,Pe.q)(1))}),$t(()=>this.afterPreactivation()),(0,G.U)(L=>{const q=function Lm(y,v,m){const I=Na(y,v._root,m?m._root:void 0);return new wd(I,v)}(m.routeReuseStrategy,L.targetSnapshot,L.currentRouterState);return I={...L,targetRouterState:q}}),(0,ge.b)(L=>{m.currentUrlTree=L.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),m.routerState=L.targetRouterState,"deferred"===m.urlUpdateStrategy&&(L.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,L),m.browserUrlTree=L.urlAfterRedirects)}),((y,v,m)=>(0,G.U)(I=>(new Sd(v,I.targetRouterState,I.currentRouterState,m).activate(y),I)))(this.rootContexts,m.routeReuseStrategy,L=>this.events.next(L)),(0,Pe.q)(1),(0,ge.b)({next:L=>{S=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Li(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(L.targetRouterState.snapshot),L.resolve(!0)},complete:()=>{S=!0}}),(0,Jt.x)(()=>{S||x||this.cancelNavigationTransition(I,"",1),this.currentNavigation?.id===I.id&&(this.currentNavigation=null)}),(0,Ce.K)(L=>{if(x=!0,zs(L)){qf(L)||(m.navigated=!0,m.restoreHistory(I,!0));const q=new Ui(I.id,this.urlSerializer.serialize(I.extractedUrl),L.message,L.cancellationCode);if(this.events.next(q),qf(L)){const _e=m.urlHandlingStrategy.merge(L.url,m.rawUrlTree),Ve={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Ci(I.source)};m.scheduleNavigation(_e,Fi,null,Ve,{resolve:I.resolve,reject:I.reject,promise:I.promise})}else I.resolve(!1)}else{m.restoreHistory(I,!0);const q=new As(I.id,this.urlSerializer.serialize(I.extractedUrl),L,I.targetSnapshot??void 0);this.events.next(q);try{I.resolve(m.errorHandler(L))}catch(_e){I.reject(_e)}}return be.E}))}))}cancelNavigationTransition(m,I,S){const x=new Ui(m.id,this.urlSerializer.serialize(m.extractedUrl),I,S);this.events.next(x),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ci(y){return y!==Fi}let $a=(()=>{class y{buildTitle(m){let I,S=m.root;for(;void 0!==S;)I=this.getResolvedTitleForRoute(S)??I,S=S.children.find(x=>x.outlet===st);return I}getResolvedTitleForRoute(m){return m.data[nr]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:function(){return(0,A.f3M)(na)},providedIn:"root"}),y})(),na=(()=>{class y extends $a{constructor(m){super(),this.title=m}updateTitle(m){const I=this.buildTitle(m);void 0!==I&&this.title.setTitle(I)}}return y.\u0275fac=function(m){return new(m||y)(A.LFG(dn.Dx))},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),kd=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:function(){return(0,A.f3M)(Bm)},providedIn:"root"}),y})();class Od{shouldDetach(v){return!1}store(v,m){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,m){return v.routeConfig===m.routeConfig}}let Bm=(()=>{class y extends Od{}return y.\u0275fac=function(){let v;return function(I){return(v||(v=A.n5z(y)))(I||y)}}(),y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const qi=new A.OlP("",{providedIn:"root",factory:()=>({})});let tI=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:function(){return(0,A.f3M)(Yl)},providedIn:"root"}),y})(),Yl=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,I){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Qf(y){throw y}function Yf(y,v,m){return v.parse("/")}const Fd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ld={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,A.f3M)(A.c2e),this.isNgZoneEnabled=!1,this.options=(0,A.f3M)(qi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Qf,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yf,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,A.f3M)(tI),this.routeReuseStrategy=(0,A.f3M)(kd),this.urlCreationStrategy=(0,A.f3M)(ri),this.titleStrategy=(0,A.f3M)($a),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_r((0,A.f3M)(Ir,{optional:!0})??[]),this.navigationTransitions=(0,A.f3M)(Vr),this.urlSerializer=(0,A.f3M)(Ds),this.location=(0,A.f3M)(Ie.Ye),this.isNgZoneEnabled=(0,A.f3M)(A.R0b)instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bu(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fi,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const I="popstate"===m.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,I,m.state)},0)}))}navigateToSyncWithBrowser(m,I,S){const x={replaceUrl:!0},L=S?.navigationId?S:null;if(S){const _e={...S};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(x.state=_e)}const q=this.parseUrl(m);this.scheduleNavigation(q,I,L,x)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(en),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,I={}){const{relativeTo:S,queryParams:x,fragment:L,queryParamsHandling:q,preserveFragment:_e}=I,Ve=_e?this.currentUrlTree.fragment:L;let Ge=null;switch(q){case"merge":Ge={...this.currentUrlTree.queryParams,...x};break;case"preserve":Ge=this.currentUrlTree.queryParams;break;default:Ge=x||null}return null!==Ge&&(Ge=this.removeEmptyProps(Ge)),this.urlCreationStrategy.createUrlTree(S,this.routerState,this.currentUrlTree,m,Ge,Ve??null)}navigateByUrl(m,I={skipLocationChange:!1}){const S=qr(m)?m:this.parseUrl(m),x=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(x,Fi,null,I)}navigate(m,I={skipLocationChange:!1}){return function Hu(y){for(let v=0;v<y.length;v++){const m=y[v];if(null==m)throw new A.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,I),I)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let I;try{I=this.urlSerializer.parse(m)}catch(S){I=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return I}isActive(m,I){let S;if(S=!0===I?{...Fd}:!1===I?{...Ld}:I,qr(m))return rn(this.currentUrlTree,m,S);const x=this.parseUrl(m);return rn(this.currentUrlTree,x,S)}removeEmptyProps(m){return Object.keys(m).reduce((I,S)=>{const x=m[S];return null!=x&&(I[S]=x),I},{})}scheduleNavigation(m,I,S,x,L){if(this.disposed)return Promise.resolve(!1);let q,_e,Ve,Ge;return L?(q=L.resolve,_e=L.reject,Ve=L.promise):Ve=new Promise((jt,lr)=>{q=jt,_e=lr}),Ge="computed"===this.canceledNavigationResolution?S&&S.\u0275routerPageId?S.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ge,source:I,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:x,resolve:q,reject:_e,promise:Ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ve.catch(jt=>Promise.reject(jt))}setBrowserUrl(m,I){const S=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(S)||I.extras.replaceUrl){const L={...I.extras.state,...this.generateNgRouterState(I.id,this.browserPageId)};this.location.replaceState(S,"",L)}else{const x={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.go(S,"",x)}}restoreHistory(m,I=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-(this.browserPageId??this.currentPageId);0!==x?this.location.historyGo(x):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===x&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,I){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:I}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Xl=(()=>{class y{constructor(m,I,S,x,L,q){this.router=m,this.route=I,this.tabIndexAttribute=S,this.renderer=x,this.el=L,this.locationStrategy=q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new rt.x;const _e=L.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_e||"area"===_e,this.isAnchorElement?this.subscription=m.events.subscribe(Ve=>{Ve instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,A.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,A.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,A.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,I,S,x,L){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||I||S||x||L||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,A.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,I){const S=this.renderer,x=this.el.nativeElement;null!==I?S.setAttribute(x,m,I):S.removeAttribute(x,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(A.Y36(Di),A.Y36(Eo),A.$8M("tabindex"),A.Y36(A.Qsj),A.Y36(A.SBq),A.Y36(Ie.S$))},y.\u0275dir=A.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,I){1&m&&A.NdJ("click",function(x){return I.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&m&&A.uIk("target",I.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[A.TTD]}),y})();class zu{}let Xf=(()=>{class y{constructor(m,I,S,x,L){this.router=m,this.injector=S,this.preloadingStrategy=x,this.loader=L}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(m=>m instanceof Li),(0,fe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,I){const S=[];for(const x of I){x.providers&&!x._injector&&(x._injector=(0,A.MMx)(x.providers,m,`Route: ${x.path}`));const L=x._injector??m,q=x._loadedInjector??L;(x.loadChildren&&!x._loadedRoutes&&void 0===x.canLoad||x.loadComponent&&!x._loadedComponent)&&S.push(this.preloadConfig(L,x)),(x.children||x._loadedRoutes)&&S.push(this.processRoutes(q,x.children??x._loadedRoutes))}return(0,k.D)(S).pipe((0,vt.J)())}preloadConfig(m,I){return this.preloadingStrategy.preload(I,()=>{let S;S=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(m,I):(0,K.of)(null);const x=S.pipe((0,ft.z)(L=>null===L?(0,K.of)(void 0):(I._loadedRoutes=L.routes,I._loadedInjector=L.injector,this.processRoutes(L.injector??m,L.routes))));if(I.loadComponent&&!I._loadedComponent){const L=this.loader.loadComponent(I);return(0,k.D)([x,L]).pipe((0,vt.J)())}return x})}}return y.\u0275fac=function(m){return new(m||y)(A.LFG(Di),A.LFG(A.Sil),A.LFG(A.lqb),A.LFG(zu),A.LFG(xr))},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Jl=new A.OlP("");let ra=(()=>{class y{constructor(m,I,S,x,L={}){this.urlSerializer=m,this.transitions=I,this.viewportScroller=S,this.zone=x,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof St?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Li&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof zo&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,I){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zo(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){A.$Z()},y.\u0275prov=A.Yz7({token:y,factory:y.\u0275fac}),y})();var bi=(()=>((bi=bi||{})[bi.COMPLETE=0]="COMPLETE",bi[bi.FAILED=1]="FAILED",bi[bi.REDIRECTING=2]="REDIRECTING",bi))();const ia=!1;function fn(y,v){return{\u0275kind:y,\u0275providers:v}}const ii=new A.OlP("",{providedIn:"root",factory:()=>!1});function ec(){const y=(0,A.f3M)(A.zs3);return v=>{const m=y.get(A.z2F);if(v!==m.components[0])return;const I=y.get(Di),S=y.get(Js);1===y.get(zt)&&I.initialNavigation(),y.get(jm,null,A.XFs.Optional)?.setUpPreloading(),y.get(Jl,null,A.XFs.Optional)?.init(),I.resetRootComponentType(m.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const Js=new A.OlP(ia?"bootstrap done indicator":"",{factory:()=>new rt.x}),zt=new A.OlP(ia?"initial navigation":"",{providedIn:"root",factory:()=>1});function iI(){let y=[];return y=ia?[{provide:A.Xts,multi:!0,useFactory:()=>{const v=(0,A.f3M)(Di);return()=>v.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function ls(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],fn(1,y)}const jm=new A.OlP(ia?"router preloader":"");function Ha(y){return fn(0,[{provide:jm,useExisting:Xf},{provide:zu,useExisting:y}])}const Wu=!1,Hm=new A.OlP(Wu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),sI=[Ie.Ye,{provide:Ds,useClass:Zt},Di,Io,{provide:Eo,useFactory:function Si(y){return y.routerState.root},deps:[Di]},xr,Wu?{provide:ii,useValue:!0}:[]];function Yn(){return new A.PXZ("Router",Di)}let Ku=(()=>{class y{constructor(m){}static forRoot(m,I){return{ngModule:y,providers:[sI,Wu&&I?.enableTracing?iI().\u0275providers:[],{provide:Ir,multi:!0,useValue:m},{provide:Hm,useFactory:sa,deps:[[Di,new A.FiY,new A.tp0]]},{provide:qi,useValue:I||{}},I?.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:Jl,useFactory:()=>{const y=(0,A.f3M)(Ie.EM),v=(0,A.f3M)(A.R0b),m=(0,A.f3M)(qi),I=(0,A.f3M)(Vr),S=(0,A.f3M)(Ds);return m.scrollOffset&&y.setOffset(m.scrollOffset),new ra(S,I,y,v,m)}},I?.preloadingStrategy?Ha(I.preloadingStrategy).\u0275providers:[],{provide:A.PXZ,multi:!0,useFactory:Yn},I?.initialNavigation?Zf(I):[],[{provide:oa,useFactory:ec},{provide:A.tb,multi:!0,useExisting:oa}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Ir,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(A.LFG(Hm,8))},y.\u0275mod=A.oAB({type:y}),y.\u0275inj=A.cJS({imports:[Mu]}),y})();function sa(y){if(Wu&&y)throw new A.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Zf(y){return["disabled"===y.initialNavigation?fn(3,[{provide:A.ip1,multi:!0,useFactory:()=>{const v=(0,A.f3M)(Di);return()=>{v.setUpLocationChangeListener()}}},{provide:zt,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?fn(2,[{provide:zt,useValue:0},{provide:A.ip1,multi:!0,deps:[A.zs3],useFactory:v=>{const m=v.get(Ie.V_,Promise.resolve());return()=>m.then(()=>new Promise(I=>{const S=v.get(Di),x=v.get(Js);(function Zl(y,v){y.events.pipe((0,nt.h)(m=>m instanceof Li||m instanceof Ui||m instanceof As||m instanceof js),(0,G.U)(m=>m instanceof Li||m instanceof js?bi.COMPLETE:m instanceof Ui&&(0===m.code||1===m.code)?bi.REDIRECTING:bi.FAILED),(0,nt.h)(m=>m!==bi.REDIRECTING),(0,Pe.q)(1)).subscribe(()=>{v()})})(S,()=>{I(!0)}),v.get(Vr).afterPreactivation=()=>(I(!0),x.closed?(0,K.of)(void 0):x),S.initialNavigation()}))}}]).\u0275providers:[]]}const oa=new A.OlP(Wu?"Router Initializer":"")}},Je=>{Je(Je.s=4425)}]);